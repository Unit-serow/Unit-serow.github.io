---
title: 协议概述-1
date: 2020-02-12 02:45:34
tags: 随笔
categories: 软件
---

# 协议概述-1

### TLS(Transport Layer Security)

**传输层安全协议**

**概要:**

* 传输层协议
* 互联网上保密通信的工业标准协议
* 目的是为互联网通信提供安全及数据完整性保障
* 前身为安全套接层(Secure Sockets Layer)-SSL
* IETF(互联网工程用户组)将SSL进行标准化
* 传输层安全协议使用X.509认证，之后利用非对称加密演算来对通信方做身份认证，之后交换对称密钥作为会谈密钥(Session key)

**简述:**
* TLS协议采用C/S架构，以便在两个应用程序间透过网络创建安全的传输通道，从而防止数据传输时受到窃听或篡改
* TLS与高层的应用层协议(HTTP,FTP,Telnet等)无耦合
* 所以应用层协议能透明的运行在TLS协议之上，由TLS协议进行创建加密信道需要的协商和认证
* 应用层协议传送的数据在通过TLS协议时都会被加密，从而达到保证通信的私密性

**逻辑:**
* TLS协议是可选的，必须配置客户端和服务器才能使用
* 主要有两种方式实现这一目标:
> 一个是使用统一的TLS协议端口(例如:用于HTTPS的端口443)
> 另一个是客户端请求服务器连接到TLS时使用特定的协议机制
* 一旦客户端和服务器都同意使用TLS协议，他们通过使用一个握手过程协商出一个有状态的连接以传输数据
* 通过握手，客户端和服务器协商各种参数用于创建安全连接，握手过程:
1. 当客户端连接到支持TLS协议的服务器要求创建安全连接并列出了受支持的密码组合（加密密码算法和加密哈希函数），握手开始
2. 服务器从该列表中决定加密和散列函数，并通知客户端
3. 服务器发回其数字证书，此证书通常包含服务器的名称、受信任的证书颁发机构（CA）和服务器的公钥
4. 客户端确认其颁发的证书的有效性
5. 为了生成会话密钥用于安全连接，客户端使用服务器的公钥加密随机生成的密钥，并将其发送到服务器，只有服务器才能使用自己的私钥解密
6. 利用随机数，双方生成用于加密和解密的对称密钥
7. 这就是TLS协议的握手，握手完毕后的连接是安全的，直到连接（被）关闭
8. 如果上述任何一个步骤失败，TLS握手过程就会失败，并且断开所有的连接

### SSL(Secure Sockets Layer)

**安全套接层**

**概述:**
* SSL是最初是网景公司Netscape用于对HTTPS协议进行加密而退出的
* SSL包含记录层(Record Layer)和传输层，记录层协议确定传输层数据的封装格式

---

### SSH(Secure Shell)

**安全外壳协议**

**概述:**
* 网络层协议
* 是一种加密的网络传输协议
* 可在不安全的网络中为网络服务提供安全的传输环境
* 任何网络服务都可以通过SSH实现安全传输
* 在设计上，SSH是Telnet和非安全shell的替代品，而Telnet和Berkeley rlogin、rsh、rexec等协议采用明文传输，使用不可靠的密码，容易遭到监听、嗅探和中间人攻击

**简述:**
* SSH通过在网络中创建安全隧道来实现SSH客户端与服务器之间的连接
* SSH最常见的用途是远程登录系统，通常利用SSH来传输命令行界面和远程执行命令
* SSH旨在保证非安全网络环境（例如互联网）中信息加密完整可靠
* SSH以非对称加密实现身份验证
* SSH协议有两个主要版本，分别是SSH-1和SSH-2
* SSH的经典用途是登录到远程电脑中执行命令
* SSH也支持隧道协议、端口映射和X11连接。借助SFTP或SCP协议，SSH还可以传输文件
* SSH使用客户端-服务器模型，标准端口为22

**SSH协议框架中最主要的部分是三个协议:**

* 传输层协议(The Transport Layer Protocol):传输层协议提供服务器认证，数据机密性，信息完整性等的支持
* 用户认证协议(The User Authentication Protocol):用户认证协议为服务器提供客户端的身份鉴别
* 连接协议(The Connection Protocol):连接协议将加密的信息隧道复用成若干个逻辑通道，提供给更高层的应用协议使用
* 同时还有为许多高层的网络安全应用协议提供扩展的支持

* 各种高层应用协议可以相对地独立于SSH基本体系之外，并依靠这个基本框架，通过连接协议使用SSH的安全机制

---

### PGP(Pretty Good Privacy)

**优良保密协议**

**概述:**
* 是一套用于讯息加密、验证的应用程序，采用IDEA的散列算法作为加密和验证之用
* 1997年7月，PGP Inc.与齐默尔曼同意IETF制定一项公开的互联网标准，称作OpenPGP，任何支持这一标准的程序也被允许称作OpenPGP
* PGP及其同类产品均遵守OpenPGP数据加解密标准[RFC 4880](https://tools.ietf.org/html/rfc4880)
> `https://tools.ietf.org/html/rfc4880`
* 官网[跳转](https://web.archive.org/web/20041230152556/http://www.pgp.com/)
> `https://web.archive.org/web/20041230152556/http://www.pgp.com/`

---

### IPsec(Internet Protocol Security)

**互联网安全协议**

**概述:**
* 一个协议包，透过对IP协议的分组进行加密和认证来保护IP协议的网络传输协议族(一些相互关联的协议的集合)

**IPsec主要由以下协议组成**
1. 认证头(AH)，为IP数据报提供无连接数据完整性、消息认证以及防重放攻击保护
2. 封装安全载荷(ESP)，提供机密性、数据源认证、无连接完整性、防重放和有限的传输流(traffic-flow)机密性
3. 安全关联(SA)，提供算法和数据包，提供AH、ESP操作所需的参数

---

**其他**

* 密码学无政府主义(Crypto-anarchism)

* 加密无政府[跳转至中文维基](https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A0%81%E5%AD%A6%E6%97%A0%E6%94%BF%E5%BA%9C%E4%B8%BB%E4%B9%89)
`https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A0%81%E5%AD%A6%E6%97%A0%E6%94%BF%E5%BA%9C%E4%B8%BB%E4%B9%89`
