<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>UNIT</title>
  
  <subtitle>不精之精，而至纯粹</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://unit-serow.github.io/"/>
  <updated>2020-02-16T10:16:23.384Z</updated>
  <id>https://unit-serow.github.io/</id>
  
  <author>
    <name>serow</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Redis-2</title>
    <link href="https://unit-serow.github.io/2020/02/16/Redis-2/"/>
    <id>https://unit-serow.github.io/2020/02/16/Redis-2/</id>
    <published>2020-02-16T10:14:47.000Z</published>
    <updated>2020-02-16T10:16:23.384Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sun Feb 16 2020 18:16:28 GMT+0800 (中国标准时间) --><h2 id="Redis-2"><a href="#Redis-2" class="headerlink" title="Redis-2"></a>Redis-2</h2><ul><li>配置与数据类型简述</li></ul><hr><h3 id="Redis配置"><a href="#Redis配置" class="headerlink" title="Redis配置"></a>Redis配置</h3><ul><li>启动Redis<blockquote><p><code>$ redis-server</code></p></blockquote></li><li>打开终端(查看redis是否启动)<blockquote><p><code>$ redis-cli</code><br><code>redis 127.0.0.1:6379&gt;</code><br>本机IP:<code>127.0.0.1</code>，redis服务端口:<code>6379</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@debian:~# redis-cli</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></table></figure><hr><ul><li><p>配置文件</p><blockquote><p><code>/安装目录/redis.conf</code></p></blockquote></li><li><p>CONFIG命令用于查看或设置配置项</p></li><li><p>命令格式</p><blockquote><p><code>redis 127.0.0.1:6379&gt; CONFIG GET CONFIG_SETTING_NAME</code><br><code>*</code> 用于匹配所有配置项<br><code>redis 127.0.0.1:6379&gt; CONFIG GET *</code></p></blockquote></li><li><p>可以通过修改redis.conf文件或使用 CONFIG set 命令来修改配置</p></li><li><p>CONFIG SET 命令</p></li><li><p>基本语法：</p><blockquote><p><code>redis 127.0.0.1:6379&gt; CONFIG SET CONFIG_SETTING_NAME NEW_CONFIG_VALUE</code></p></blockquote></li><li><p>对于GONFIG的参数与redis.conf的配置项在本篇内不进行过多阐述</p></li></ul><hr><h3 id="数据类型简述"><a href="#数据类型简述" class="headerlink" title="数据类型简述"></a>数据类型简述</h3><ul><li>Redis支持五种数据类型:</li><li>String(字符串)</li><li>Hash(哈希)</li><li>List(列表)</li><li>Set(集合)</li><li>Zset(sorted set:有序集合)</li></ul><hr><ul><li>本篇中的应用实例简述只列举出最基本的用法，其他命令不会多做阐述</li><li>在命令提示符内输入命令时Redis会给出对应的相关提示</li><li>删除:<code>DEL KEY_name</code></li></ul><hr><ol><li>String(字符串)</li></ol><ul><li><p>String是redis最基本的类型，方式是一个<code>Key</code>对应一个<code>Value</code></p></li><li><p>String类型是二进制安全的，即Redis的String可以包含任何数据，包括序列化的对象与任何形式的图片</p></li><li><p>String类型的值最大能存储512MB</p></li><li><p>相关命令:<code>SET</code>与<code>GET</code></p></li><li><p>应用实例:</p></li><li><p>使用Redis中的<code>SET</code>与<code>GET</code>命令，<code>Key</code>为<code>UNIT</code>，<code>Value</code>为<code>serow</code></p><blockquote><p><code>SET UNIT &quot;serow&quot;</code><br><code>GET UNIT</code></p></blockquote></li><li><p>输出:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SET UNIT &quot;serow&quot;</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; GET UNIT</span><br><span class="line">&quot;serow&quot;</span><br></pre></td></tr></table></figure></li><li><p>删除</p><blockquote><p><code>DEL UNIT</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; DEL UNIT</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; DEL UNIT</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure><hr><ol start="2"><li>Hash(哈希)</li></ol><ul><li><p>Redis hash是一个键值(key=&gt;value)对集合</p></li><li><p>Redis hash是一个String类型的<code>field</code>和<code>value</code>的映射表</p></li><li><p>Hash适合用于存储对象</p></li><li><p>每个hash可以存储<code>2^32-1</code>键值对(40多亿)</p></li><li><p>相关命令:<code>HMSET</code>与<code>HGET</code></p></li><li><p>应用实例:</p></li><li><p>使用Redis中的<code>HMSET</code>与<code>HGET</code>命令，<code>HMSET</code>设置了两个<code>field=&gt;value</code>对，<code>HGET</code>获取对应<code>field</code>对应的<code>value</code></p><blockquote><p><code>HMSET UNIT field1 &quot;serow&quot; field2 &quot;takin&quot;</code><br><code>HGET UNIT field1</code><br><code>HGET UNIT field2</code></p></blockquote></li><li><p>输出:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; HMSET UNIT field1 &quot;serow&quot; field2 &quot;takin&quot;</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; HGET UNIT field1</span><br><span class="line">&quot;serow&quot;</span><br><span class="line">127.0.0.1:6379&gt; HGET UNIT field2</span><br><span class="line">&quot;takin&quot;</span><br></pre></td></tr></table></figure></li><li><p>删除</p><blockquote><p><code>DEL UNIT</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; DEL UNIT</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; DEL UNIT</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure><hr><ol start="3"><li>List(列表)</li></ol><ul><li><p>Redis 列表是简单的字符串列表，按照插入顺序排序</p></li><li><p>可以添加一个元素到列表的头部(左侧)或者尾部(右侧)</p></li><li><p>列表最多可存储<code>2^32-1</code>元素 (4294967295, 每个列表可存储40多亿)</p></li><li><p>相关命令:<code>LPUSH</code>与<code>LRANGE</code></p></li><li><p>应用实例:</p></li><li><p>使用Redis中的<code>LPUSH</code>与<code>LRANGE</code>命令</p><blockquote><p><code>LPUSH UNIT redis</code><br><code>LPUSH UNIT serow</code><br><code>LPUSH UNIT takin</code><br><code>LRANGE UNIT 0 10</code></p></blockquote></li><li><p>输出:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; LPUSH UNIT redis</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; LPUSH UNIT serow</span><br><span class="line">(integer) 2</span><br><span class="line">127.0.0.1:6379&gt; LPUSH UNIT takin</span><br><span class="line">(integer) 3</span><br><span class="line">127.0.0.1:6379&gt; LRANGE UNIT 0 10</span><br><span class="line">1) &quot;takin&quot;</span><br><span class="line">2) &quot;serow&quot;</span><br><span class="line">3) &quot;redis&quot;</span><br></pre></td></tr></table></figure></li><li><p>删除</p><blockquote><p><code>DEL UNIT</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; DEL UNIT</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; DEL UNIT</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure><ul><li><p>还可以写为</p><blockquote><p><code>LPUSH A A B C D E F G</code><br><code>LRANGE A 0 10</code></p></blockquote></li><li><p>输出:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; LPUSH A A B C D E F G</span><br><span class="line">(integer) 7</span><br><span class="line">127.0.0.1:6379&gt; LRANGE A 0 10</span><br><span class="line">1) &quot;G&quot;</span><br><span class="line">2) &quot;F&quot;</span><br><span class="line">3) &quot;E&quot;</span><br><span class="line">4) &quot;D&quot;</span><br><span class="line">5) &quot;C&quot;</span><br><span class="line">6) &quot;B&quot;</span><br><span class="line">7) &quot;A&quot;</span><br></pre></td></tr></table></figure></li><li><p>删除</p><blockquote><p><code>DEL A</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; DEL A</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; DEL A</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure><hr><ol start="4"><li>SET(集合)</li></ol><ul><li><p>Redis的Set是String类型的无序集合</p></li><li><p>集合是通过哈希表实现的，即添加，删除，查找的复杂度都是O(1)</p></li><li><p>集合中最大的成员数为<code>2^32-1</code>(4294967295, 每个集合可存储40多亿个成员)</p></li><li><p>相关命令:<code>SADD</code>与<code>SMEMBERS</code></p></li><li><p>应用实例:</p></li><li><p>使用Redis中的<code>SADD</code>与<code>SMEMBERS</code>命令</p><blockquote><p><code>SADD UNIT redis</code><br><code>SADD UNIT serow</code><br><code>SADD UNIT takin</code><br><code>SADD UNIT takin</code><br><code>SMEMBERS UNIT</code></p></blockquote></li><li><p>输出:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; SADD UNIT redis</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; SADD UNIT serow</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; SADD UNIT takin</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; SADD UNIT takin</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; SMEMBERS UNIT</span><br><span class="line">1) &quot;redis&quot;</span><br><span class="line">2) &quot;takin&quot;</span><br><span class="line">3) &quot;serow&quot;</span><br></pre></td></tr></table></figure></li><li><p>实例中takin添加了两次，但根据集合内元素的唯一性，第二次插入的元素将被忽略</p></li><li><p>删除</p><blockquote><p><code>DEL UNIT</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; DEL UNIT</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; DEL UNIT</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure><hr><ol start="5"><li>ZSET(sorted set：有序集合)</li></ol><ul><li><p>Redis zset和Set一样也是String类型元素的集合,且不允许重复的成员</p></li><li><p>不同的是每个元素都会关联一个<code>double类型</code>的分数</p></li><li><p>Redis正是通过分数来为集合中的成员进行从小到大的排序</p></li><li><p>Zset的成员是唯一的,但分数(score)却可以重复</p></li><li><p>相关命令:<code>ZADD</code>与<code>ZRANGEBYSCORE</code></p></li><li><p>基本语法:</p></li><li><p>添加元素到集合，元素在集合中存在则更新对应<code>score</code></p><blockquote><p><code>zadd key score member</code></p></blockquote></li><li><p>应用实例:</p></li><li><p>使用Redis中的ZADD与ZRANGEBYSCORE命令</p><blockquote><p><code>ZADD UNIT 0 redis</code><br><code>ZADD UNIT 0 serow</code><br><code>ZADD UNIT 0 takin</code><br><code>ZADD UNIT 0 takin</code><br><code>ZRANGEBYSCORE UNIT 0 1000</code></p></blockquote></li><li><p>输出:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ZADD UNIT 0 redis</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; ZADD UNIT 0 serow</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; ZADD UNIT 0 takin</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; ZADD UNIT 0 takin</span><br><span class="line">(integer) 0</span><br><span class="line">127.0.0.1:6379&gt; ZRANGEBYSCORE UNIT 0 1000</span><br><span class="line">1) &quot;redis&quot;</span><br><span class="line">2) &quot;serow&quot;</span><br><span class="line">3) &quot;takin&quot;</span><br></pre></td></tr></table></figure></li><li><p>删除</p><blockquote><p><code>DEL UNIT</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; DEL UNIT</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; DEL UNIT</span><br><span class="line">(integer) 0</span><br></pre></td></tr></table></figure><hr><p><strong>各个数据类型应用场景:</strong></p><table><thead><tr><th align="left">类型</th><th align="left">简介</th><th align="left">特性</th><th align="left">场景</th></tr></thead><tbody><tr><td align="left">String(字符串)</td><td align="left">二进制安全</td><td align="left">可以包含任何数据,比如jpg图片或者序列化的对象,一个键最大能存储512M</td><td align="left">—</td></tr><tr><td align="left">Hash(字典)</td><td align="left">键值对集合,即编程语言中的Map类型</td><td align="left">适合存储对象,并且可以像数据库中update一个属性一样只修改某一项属性值(Memcached中需要取出整个字符串反序列化成对象修改完再序列化存回去)</td><td align="left">存储,读取,修改用户属性</td></tr><tr><td align="left">List(列表)</td><td align="left">链表(双向链表)</td><td align="left">增删快,提供了操作某一段元素的API</td><td align="left">1. 最新消息排行等功能(比如朋友圈的时间线) 2.消息队列</td></tr><tr><td align="left">Set(集合)</td><td align="left">哈希表实现,元素不重复</td><td align="left">1. 添加、删除,查找的复杂度都是O(1) 2. 为集合提供了求交集、并集、差集等操作</td><td align="left">1.共同好友 2. 利用唯一性,统计访问网站的所有独立ip 3、好友推荐时,根据tag求交集,大于某个阈值就可以推荐</td></tr><tr><td align="left">Sorted Set(有序集合)</td><td align="left">将Set中的元素增加一个权重参数score,元素按score有序排列</td><td align="left">数据插入集合时,已经进行天然排序</td><td align="left">1. 排行榜 2. 带权重的消息队列</td></tr></tbody></table><hr><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sun Feb 16 2020 18:16:28 GMT+0800 (中国标准时间) --&gt;&lt;h2 id=&quot;Redis-2&quot;&gt;&lt;a href=&quot;#Redis-2&quot; class=&quot;headerlink&quot; title=&quot;Redis-2&quot;&gt;&lt;/a&gt;Red
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="Key-value" scheme="https://unit-serow.github.io/tags/Key-value/"/>
    
  </entry>
  
  <entry>
    <title>Redis-1</title>
    <link href="https://unit-serow.github.io/2020/02/16/Redis-1/"/>
    <id>https://unit-serow.github.io/2020/02/16/Redis-1/</id>
    <published>2020-02-16T07:55:15.000Z</published>
    <updated>2020-02-16T07:59:16.842Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sun Feb 16 2020 15:59:22 GMT+0800 (中国标准时间) --><h3 id="REmote-DIctionary-Server-Redis"><a href="#REmote-DIctionary-Server-Redis" class="headerlink" title="REmote DIctionary Server(Redis)"></a>REmote DIctionary Server(Redis)</h3><p><strong>概述:</strong></p><ul><li>是一种Key-Value数据库</li><li>还可称为key-value存储系统，即数据结构服务器</li><li>由ANSI C语言编写</li><li>是基于BSD协议的<code>Free software</code></li><li>支持多种语言的API</li><li>支持网络</li><li>可基于内存亦可持久化的日志型</li></ul><hr><ul><li>Redis具有极为先进的数据管理方式与处理算法</li><li>Redis与其它<code>key-value</code>缓存产品相比的特有性质:<blockquote><p>Redis支持数据的持久化，可以将内存中的数据保存在磁盘中，重启的时候可以再次加载进行使用<br>Redis不仅仅支持简单的<code>key-value</code>类型的数据，同时还提供<code>list</code>,<code>set</code>,<code>zset</code>,<code>hash</code>等数据结构的存储<br>Redis支持数据的备份，即<code>master-slave</code>模式的数据备份<br>Redis有着更为复杂的数据结构并且提供对他们的原子性操作，这是一个不同于其他数据库的进化路径<br>Redis的数据类型都是基于基本数据结构的同时对程序员透明，无需进行额外的抽象<br>Redis运行在内存中但是可以持久化到磁盘，所以在对不同数据集进行高速读写时需要权衡内存，因为数据量不能大于硬件内存<br>在内存数据库方面的另一个优点是，相比在磁盘上相同的复杂的数据结构，在内存中操作起来非常简单，这样Redis可以做很多内部复杂性很强的事情<br>同时，在磁盘格式方面他们是紧凑的以追加的方式产生的，因为他们并不需要进行随机访问</p></blockquote></li></ul><hr><ul><li>Redis特点<blockquote><p>性能特点: Redis能读的速度是<code>110000次/s</code>，写的速度是<code>81000次/s</code><br>数据类型特点: Redis支持二进制案例的<code>Strings</code>,<code>Lists</code>,<code>Hashes</code>,<code>Sets</code>及<code>Ordered Sets</code>数据类型操作</p></blockquote></li><li>原子性质:<blockquote><p>Redis的所有操作都是原子性的(只有成功且完全执行与失败且完全不执行)，单个操作是原子性的<br>多个操作也支持事务，即原子性，通过<code>MULTI</code>和<code>EXEC</code>指令对其进行封装</p></blockquote></li></ul><hr><ul><li><p>原子性操作:</p><blockquote><p>将任何一套完整数据处理操作定义为一个事务<br>该事务要么完全执行，要么完全不执行，不会出现执行到一半因为错误而中止<br>以此绝对的保证了数据的完整性<br>如果把事务比作一个程序，它要么完整的被执行,要么完全不执行</p></blockquote></li><li><p>key value 存储</p><blockquote><p>键值存储，即为key=&gt;value<br>键=&gt;值(key=&gt;value)对，键唯一，对应一个值，值的形式随意<br>以此绝对的保证了数据结构的完备性</p></blockquote></li></ul><hr><p><strong>相关基本概念(基本数据结构概念)</strong></p><ul><li>String: 字符串</li><li>Hash: 散列</li><li>List: 列表</li><li>Set: 集合</li><li>Sorted Set: 有序集合</li></ul><hr><p><strong>参考资料:</strong></p><ul><li><p>文档<a href="https://redis.io/documentation" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://redis.io/documentation</code></p></blockquote></li><li><p>官网<a href="https://redis.io/" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://redis.io/</code></p></blockquote></li><li><p>获取<a href="https://redis.io/download" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://redis.io/download</code></p></blockquote></li><li><p>配置说明<a href="https://redis.io/topics/config" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://redis.io/topics/config</code></p></blockquote></li><li><p>apt-get自动化获取</p><blockquote><p><code>apt-get install redis-server</code></p></blockquote></li></ul><hr><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sun Feb 16 2020 15:59:22 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;REmote-DIctionary-Server-Redis&quot;&gt;&lt;a href=&quot;#REmote-DIctionary-Server-Red
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="Key-value" scheme="https://unit-serow.github.io/tags/Key-value/"/>
    
  </entry>
  
  <entry>
    <title>PostgreSQL-4</title>
    <link href="https://unit-serow.github.io/2020/02/16/PostgreSQL-4/"/>
    <id>https://unit-serow.github.io/2020/02/16/PostgreSQL-4/</id>
    <published>2020-02-16T07:07:38.000Z</published>
    <updated>2020-02-16T07:10:57.492Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sun Feb 16 2020 15:11:02 GMT+0800 (中国标准时间) --><h3 id="PostSQL-4"><a href="#PostSQL-4" class="headerlink" title="PostSQL-4"></a>PostSQL-4</h3><p><strong>PostgreSQL命令语句便捷参考(总览)</strong></p><ul><li><p>中文手册详细资料<a href="http://www.postgres.cn/docs/9.6/" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>http://www.postgres.cn/docs/9.6/</code></p></blockquote></li><li><p>输出帮助内容</p><blockquote><p><code>postgres-# \help &lt;command_name&gt;</code></p></blockquote></li></ul><hr><p><strong>CREATE</strong></p><ul><li><p>定义一个新的聚集函数</p><blockquote><p><code>CREATE AGGREGATE</code></p></blockquote></li><li><p>定义一个用户定义的转换</p><blockquote><p><code>CREATE CAST</code></p></blockquote></li><li><p>定义一个新的约束触发器</p><blockquote><p><code>CREATE CONSTRAINT TRIGGER</code></p></blockquote></li><li><p>定义一个新的的编码转换</p><blockquote><p><code>CREATE CONVERSION</code></p></blockquote></li><li><p>创建新数据库</p><blockquote><p><code>CREATE DATABASE</code></p></blockquote></li><li><p>定义一个新域</p><blockquote><p><code>CREATE DOMAIN</code></p></blockquote></li><li><p>定义一个新函数</p><blockquote><p><code>CREATE FUNCTION</code></p></blockquote></li><li><p>定义一个新的用户组</p><blockquote><p><code>CREATE GROUP</code></p></blockquote></li><li><p>定义一个新索引</p><blockquote><p><code>CREATE INDEX</code></p></blockquote></li><li><p>定义一种新的过程语言</p><blockquote><p><code>CREATE LANGUAGE</code></p></blockquote></li><li><p>定义一个新的操作符</p><blockquote><p><code>CREATE OPERATOR</code></p></blockquote></li><li><p>定义一个新的操作符表</p><blockquote><p><code>CREATE OPERATOR CLASS</code></p></blockquote></li><li><p>定义一个新的数据库角色</p><blockquote><p><code>CREATE ROLE</code></p></blockquote></li><li><p>定义一个新重写规则</p><blockquote><p><code>CREATE RULE</code></p></blockquote></li><li><p>定义一个新模式</p><blockquote><p><code>CREATE SCHEMA</code></p></blockquote></li><li><p>定义一个新的外部服务器</p><blockquote><p><code>CREATE SERVER</code></p></blockquote></li><li><p>定义一个新序列发生器</p><blockquote><p><code>CREATE SEQUENCE</code></p></blockquote></li><li><p>定义一个新表</p><blockquote><p><code>CREATE TABLE</code></p></blockquote></li><li><p>从一条查询的结果中定义一个新表</p><blockquote><p><code>CREATE TABLE AS</code></p></blockquote></li><li><p>定义一个新的表空间</p><blockquote><p><code>CREATE TABLESPACE</code></p></blockquote></li><li><p>定义一个新的触发器</p><blockquote><p><code>CREATE TRIGGER</code></p></blockquote></li><li><p>定义一个新的数据类型</p><blockquote><p><code>CREATE TYPE</code></p></blockquote></li><li><p>创建一个新的数据库用户帐户</p><blockquote><p><code>CREATE USER</code></p></blockquote></li><li><p>定义一个视图</p><blockquote><p><code>CREATE VIEW</code></p></blockquote></li></ul><hr><p><strong>ALTER</strong></p><ul><li><p>修改一个聚集函数的定义</p><blockquote><p><code>ALTER AGGREGATE</code></p></blockquote></li><li><p>修改一个排序规则定义</p><blockquote><p><code>ALTER COLLATION</code></p></blockquote></li><li><p>修改一个编码转换的定义</p><blockquote><p><code>ALTER CONVERSION</code></p></blockquote></li><li><p>修改一个数据库</p><blockquote><p><code>ALTER DATABASE</code></p></blockquote></li><li><p>定义默认的访问权限</p><blockquote><p><code>ALTER DEFAULT PRIVILEGES</code></p></blockquote></li><li><p>修改一个域的定义</p><blockquote><p><code>ALTER DOMAIN</code></p></blockquote></li><li><p>修改一个函数的定义</p><blockquote><p><code>ALTER FUNCTION</code></p></blockquote></li><li><p>修改一个用户组</p><blockquote><p><code>ALTER GROUP</code></p></blockquote></li><li><p>修改一个索引的定义</p><blockquote><p><code>ALTER INDEX</code></p></blockquote></li><li><p>改变一个操作符的定义</p><blockquote><p><code>ALTER OPERATOR</code></p></blockquote></li><li><p>修改一个模式的定义</p><blockquote><p><code>ALTER SCHEMA</code></p></blockquote></li><li><p>修改一个序列生成器的定义</p><blockquote><p><code>ALTER SEQUENCE</code></p></blockquote></li><li><p>修改表的定义</p><blockquote><p><code>ALTER TABLE</code></p></blockquote></li><li><p>修改一个表空间的定义</p><blockquote><p><code>ALTER TABLESPACE</code></p></blockquote></li><li><p>修改改变一个触发器的定义</p><blockquote><p><code>ALTER TRIGGER</code></p></blockquote></li><li><p>修改一个类型的定义</p><blockquote><p><code>ALTER TYPE</code></p></blockquote></li><li><p>修改数据库用户帐号</p><blockquote><p><code>ALTER USER</code></p></blockquote></li><li><p>更新一个表中的行</p><blockquote><p><code>UPDATE</code></p></blockquote></li></ul><hr><p><strong>删除</strong></p><ul><li><p>删除一个准备好的查询</p><blockquote><p><code>DEALLOCATE</code></p></blockquote></li><li><p>删除一个表中的行</p><blockquote><p><code>DELETE</code></p></blockquote></li><li><p>删除一个用户定义的聚集函数</p><blockquote><p><code>DROP AGGREGATE</code></p></blockquote></li><li><p>删除一个用户定义的类型转换</p><blockquote><p><code>DROP CAST</code></p></blockquote></li><li><p>删除一个用户定义的编码转换</p><blockquote><p><code>DROP CONVERSION</code></p></blockquote></li><li><p>删除一个数据库</p><blockquote><p><code>DROP DATABASE</code></p></blockquote></li><li><p>删除一个用户定义的域</p><blockquote><p><code>DROP DOMAIN</code></p></blockquote></li><li><p>删除一个函数</p><blockquote><p><code>DROP FUNCTION</code></p></blockquote></li><li><p>删除一个用户组</p><blockquote><p><code>DROP GROUP</code></p></blockquote></li><li><p>删除一个索引</p><blockquote><p><code>DROP INDEX</code></p></blockquote></li><li><p>删除一个过程语言</p><blockquote><p><code>DROP LANGUAGE</code></p></blockquote></li><li><p>删除一个操作符</p><blockquote><p><code>DROP OPERATOR</code></p></blockquote></li><li><p>删除一个操作符表</p><blockquote><p><code>DROP OPERATOR CLASS</code></p></blockquote></li><li><p>删除一个数据库角色</p><blockquote><p><code>DROP ROLE</code></p></blockquote></li><li><p>删除一个重写规则</p><blockquote><p><code>DROP RULE</code></p></blockquote></li><li><p>删除一个模式</p><blockquote><p><code>DROP SCHEMA</code></p></blockquote></li><li><p>删除一个序列</p><blockquote><p><code>DROP SEQUENCE</code></p></blockquote></li><li><p>删除一个表</p><blockquote><p><code>DROP TABLE</code></p></blockquote></li><li><p>删除一个表空间</p><blockquote><p><code>DROP TABLESPACE</code></p></blockquote></li><li><p>删除一个触发器定义</p><blockquote><p><code>DROP TRIGGER</code></p></blockquote></li><li><p>删除一个用户定义数据类型</p><blockquote><p><code>DROP TYPE</code></p></blockquote></li><li><p>删除一个数据库用户帐号</p><blockquote><p><code>DROP USER</code></p></blockquote></li><li><p>删除一个视图</p><blockquote><p><code>DROP VIEW</code></p></blockquote></li><li><p>清空一个或一组表</p><blockquote><p><code>TRUNCATE</code></p></blockquote></li></ul><hr><p><code>SELECT</code></p><blockquote><p>从表或视图中取出若干行</p></blockquote><p><code>SELECT INTO</code></p><blockquote><p>从一个查询的结果中定义一个新表</p></blockquote><hr><p><code>SET</code></p><blockquote><p>修改运行时参数</p></blockquote><p><code>SET CONSTRAINTS</code></p><blockquote><p>设置当前事务的约束检查模式</p></blockquote><p><code>SET SESSION AUTHORIZATION</code></p><blockquote><p>为当前会话设置会话用户标识符和当前用户标识符</p></blockquote><p><code>SET TRANSACTION</code></p><blockquote><p>开始一个事务块</p></blockquote><hr><p><strong>其它</strong></p><ul><li><p>收集与数据库有关的统计</p><blockquote><p><code>ANALYZE</code></p></blockquote></li><li><p>用于退出当前事务</p><blockquote><p><code>ABORT</code></p></blockquote></li><li><p>开始一个事务块</p><blockquote><p><code>BEGIN</code></p></blockquote></li><li><p>开始一个事务块</p><blockquote><p><code>START TRANSACTION</code></p></blockquote></li><li><p>提交当前事务</p><blockquote><p><code>COMMIT</code></p></blockquote></li><li><p>提交当前的事务</p><blockquote><p><code>END</code></p></blockquote></li><li><p>在当前事务里定义一个新的保存点</p><blockquote><p><code>SAVEPOINT</code></p></blockquote></li><li><p>回滚到一个保存点</p><blockquote><p><code>ROLLBACK TO SAVEPOINT</code></p></blockquote></li><li><p>退出当前事务</p><blockquote><p><code>ROLLBACK</code></p></blockquote></li><li><p>强制一个事务日志检查点</p><blockquote><p><code>CHECKPOINT</code></p></blockquote></li><li><p>定义一个游标</p><blockquote><p><code>DECLARE</code></p></blockquote></li><li><p>定位一个游标</p><blockquote><p><code>MOVE</code></p></blockquote></li><li><p>用游标从查询中抓取行</p><blockquote><p><code>FETCH</code></p></blockquote></li><li><p>关闭游标</p><blockquote><p><code>CLOSE</code></p></blockquote></li><li><p>重建索引</p><blockquote><p><code>REINDEX</code></p></blockquote></li><li><p>根据一个索引对某个表盘簇化排序</p><blockquote><p><code>CLUSTER</code></p></blockquote></li><li><p>定义或者改变一个对象的注释</p><blockquote><p><code>COMMENT</code></p></blockquote></li><li><p>删除一个前面定义的保存点</p><blockquote><p><code>RELEASE SAVEPOINT</code></p></blockquote></li><li><p>在表和文件之间拷贝数据</p><blockquote><p><code>COPY</code></p></blockquote></li><li><p>创建一个准备好的查询</p><blockquote><p><code>PREPARE</code></p></blockquote></li><li><p>执行一个准备好的查询</p><blockquote><p><code>EXECUTE</code></p></blockquote></li><li><p>显示一个语句的执行规划</p><blockquote><p><code>EXPLAIN</code></p></blockquote></li><li><p>生成一个通知</p><blockquote><p><code>NOTIFY</code></p></blockquote></li><li><p>定义访问权限</p><blockquote><p><code>GRANT</code></p></blockquote></li><li><p>删除访问权限</p><blockquote><p><code>REVOKE</code></p></blockquote></li><li><p>在表中创建新行，即插入数据</p><blockquote><p><code>INSERT</code></p></blockquote></li><li><p>监听一个通知</p><blockquote><p><code>LISTEN</code></p></blockquote></li><li><p>停止监听通知信息</p><blockquote><p><code>UNLISTEN</code></p></blockquote></li><li><p>加载或重载一个共享库文件</p><blockquote><p><code>LOAD</code></p></blockquote></li><li><p>锁定一个表</p><blockquote><p><code>LOCK</code></p></blockquote></li><li><p>把一个运行时参数值恢复为默认值</p><blockquote><p><code>RESET</code></p></blockquote></li><li><p>显示运行时参数的值</p><blockquote><p><code>SHOW</code></p></blockquote></li><li><p>垃圾收集以及可选地分析一个数据库</p><blockquote><p><code>VACUUM</code></p></blockquote></li><li><p>计算一个或一组行</p><blockquote><p><code>VALUES</code></p></blockquote></li></ul><hr><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sun Feb 16 2020 15:11:02 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;PostSQL-4&quot;&gt;&lt;a href=&quot;#PostSQL-4&quot; class=&quot;headerlink&quot; title=&quot;PostSQL-4&quot;&gt;&lt;
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="ORDBMS" scheme="https://unit-serow.github.io/tags/ORDBMS/"/>
    
  </entry>
  
  <entry>
    <title>PostgreSQL-3</title>
    <link href="https://unit-serow.github.io/2020/02/16/PostgreSQL-3/"/>
    <id>https://unit-serow.github.io/2020/02/16/PostgreSQL-3/</id>
    <published>2020-02-15T20:02:03.000Z</published>
    <updated>2020-02-15T20:07:26.216Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sun Feb 16 2020 04:07:33 GMT+0800 (中国标准时间) --><h3 id="PostgreSQL-3"><a href="#PostgreSQL-3" class="headerlink" title="PostgreSQL-3"></a>PostgreSQL-3</h3><p><strong>TABLES1数据结构</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ID  A  B  C  D  TIME</span><br><span class="line"> 1  1  1 2020-02-16</span><br><span class="line"> 2  2  2 2020-02-16</span><br><span class="line"> 3  3  3 2020-02-16 -</span><br><span class="line"> 4  1  4 2020-02-16</span><br><span class="line"> 5  2  1 2020-02-16</span><br><span class="line"> 6  2  7 2020-02-16</span><br><span class="line"> 7  3  7 2020-02-16</span><br><span class="line"> 8  1  8 2020-02-16</span><br><span class="line"> 9  4  1 2020-02-16</span><br><span class="line">10 4  6 2020-02-16</span><br><span class="line">11 1  3 2020-02-16</span><br><span class="line">12 2  2 2020-02-17 -</span><br><span class="line">13 4  9 2020-02-16 -</span><br></pre></td></tr></table></figure><hr><blockquote><p>创建并连接</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE TEST;</span><br><span class="line">\c test;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">postgres&#x3D;# CREATE DATABASE TEST;</span><br><span class="line">CREATE DATABASE</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">postgres&#x3D;# \c test;</span><br><span class="line">您现在已经连接到数据库 &quot;test&quot;,用户 &quot;postgres&quot;.</span><br></pre></td></tr></table></figure><blockquote><p>创建A类表TABLES1</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE SCHEMA A</span><br><span class="line">CREATE TABLE A.TABLES1 (</span><br><span class="line">ID SERIAL PRIMARY KEY NOT NULL,</span><br><span class="line">A INT NOT NULL, </span><br><span class="line">B INT NOT NULL,</span><br><span class="line">C INT NOT NULL,</span><br><span class="line">D INT NOT NULL,</span><br><span class="line">TIME DATE);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">test-# CREATE TABLE A.TABLES1 (</span><br><span class="line">test(# ID SERIAL PRIMARY KEY NOT NULL,</span><br><span class="line">test(# A INT NOT NULL, </span><br><span class="line">test(# B INT NOT NULL,</span><br><span class="line">test(# C INT NOT NULL,</span><br><span class="line">test(# D INT NOT NULL,</span><br><span class="line">test(# TIME DATE);</span><br><span class="line">CREATE SCHEMA</span><br></pre></td></tr></table></figure><hr><blockquote><p>向A类表TABLES1内插入数据</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO A.TABLES1</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(1, 1, 2, 3, &#39;2020-02-16&#39;),</span><br><span class="line">(2, 2, 4, 6, &#39;2020-02-16&#39;),</span><br><span class="line">(3, 3, 9, 2, &#39;2020-02-16&#39;),</span><br><span class="line">(1, 4, 8, 3, &#39;2020-02-16&#39;),</span><br><span class="line">(2, 1, 1, 1, &#39;2020-02-16&#39;),</span><br><span class="line">(2, 7, 5, 2, &#39;2020-02-16&#39;),</span><br><span class="line">(3, 7, 3, 6, &#39;2020-02-16&#39;),</span><br><span class="line">(1, 8, 7, 7, &#39;2020-02-16&#39;),</span><br><span class="line">(4, 1, 7, 8, &#39;2020-02-16&#39;),</span><br><span class="line">(4, 6, 1, 9, &#39;2020-02-16&#39;),</span><br><span class="line">(1, 3, 8, 1, &#39;2020-02-16&#39;),</span><br><span class="line">(2, 2, 4, 5, &#39;2020-02-17&#39;),</span><br><span class="line">(4, 9, 6, 7, &#39;2020-02-16&#39;);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">test&#x3D;# INSERT INTO A.TABLES1</span><br><span class="line">test-# (A,B,C,D,TIME)</span><br><span class="line">test-# VALUES</span><br><span class="line">test-# (1, 1, 2, 3, &#39;2020-02-16&#39;),</span><br><span class="line">test-# (2, 2, 4, 6, &#39;2020-02-16&#39;),</span><br><span class="line">test-# (3, 3, 9, 2, &#39;2020-02-16&#39;),</span><br><span class="line">test-# (1, 4, 8, 3, &#39;2020-02-16&#39;),</span><br><span class="line">test-# (2, 1, 1, 1, &#39;2020-02-16&#39;),</span><br><span class="line">test-# (2, 7, 5, 2, &#39;2020-02-16&#39;),</span><br><span class="line">test-# (3, 7, 3, 6, &#39;2020-02-16&#39;),</span><br><span class="line">test-# (1, 8, 7, 7, &#39;2020-02-16&#39;),</span><br><span class="line">test-# (4, 1, 7, 8, &#39;2020-02-16&#39;),</span><br><span class="line">test-# (4, 6, 1, 9, &#39;2020-02-16&#39;),</span><br><span class="line">test-# (1, 3, 8, 1, &#39;2020-02-16&#39;),</span><br><span class="line">test-# (2, 2, 4, 5, &#39;2020-02-17&#39;),</span><br><span class="line">test-# (4, 9, 6, 7, &#39;2020-02-16&#39;);</span><br><span class="line">INSERT 0 13</span><br></pre></td></tr></table></figure><p><code>SELECT * FROM A.TABLES1;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">test&#x3D;# SELECT * FROM A.TABLES1;</span><br><span class="line"> id | a | b | c | d |    time    </span><br><span class="line">----+---+---+---+---+------------</span><br><span class="line">  1 | 1 | 1 | 2 | 3 | 2020-02-16</span><br><span class="line">  2 | 2 | 2 | 4 | 6 | 2020-02-16</span><br><span class="line">  3 | 3 | 3 | 9 | 2 | 2020-02-16</span><br><span class="line">  4 | 1 | 4 | 8 | 3 | 2020-02-16</span><br><span class="line">  5 | 2 | 1 | 1 | 1 | 2020-02-16</span><br><span class="line">  6 | 2 | 7 | 5 | 2 | 2020-02-16</span><br><span class="line">  7 | 3 | 7 | 3 | 6 | 2020-02-16</span><br><span class="line">  8 | 1 | 8 | 7 | 7 | 2020-02-16</span><br><span class="line">  9 | 4 | 1 | 7 | 8 | 2020-02-16</span><br><span class="line"> 10 | 4 | 6 | 1 | 9 | 2020-02-16</span><br><span class="line"> 11 | 1 | 3 | 8 | 1 | 2020-02-16</span><br><span class="line"> 12 | 2 | 2 | 4 | 5 | 2020-02-17</span><br><span class="line"> 13 | 4 | 9 | 6 | 7 | 2020-02-16</span><br><span class="line">(13 行记录)</span><br></pre></td></tr></table></figure><hr><blockquote><p>复制A类表TABLES1结构与表内数据于TABLES2</p></blockquote><p><code>SELECT * FROM TABLES2;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">test&#x3D;# SELECT * FROM A.TABLES2;</span><br><span class="line"> id | a | b | c | d |    time    </span><br><span class="line">----+---+---+---+---+------------</span><br><span class="line">  1 | 1 | 1 | 2 | 3 | 2020-02-16</span><br><span class="line">  2 | 2 | 2 | 4 | 6 | 2020-02-16</span><br><span class="line">  3 | 3 | 3 | 9 | 2 | 2020-02-16</span><br><span class="line">  4 | 1 | 4 | 8 | 3 | 2020-02-16</span><br><span class="line">  5 | 2 | 1 | 1 | 1 | 2020-02-16</span><br><span class="line">  6 | 2 | 7 | 5 | 2 | 2020-02-16</span><br><span class="line">  7 | 3 | 7 | 3 | 6 | 2020-02-16</span><br><span class="line">  8 | 1 | 8 | 7 | 7 | 2020-02-16</span><br><span class="line">  9 | 4 | 1 | 7 | 8 | 2020-02-16</span><br><span class="line"> 10 | 4 | 6 | 1 | 9 | 2020-02-16</span><br><span class="line"> 11 | 1 | 3 | 8 | 1 | 2020-02-16</span><br><span class="line"> 12 | 2 | 2 | 4 | 5 | 2020-02-17</span><br><span class="line"> 13 | 4 | 9 | 6 | 7 | 2020-02-16</span><br><span class="line">(13 行记录)</span><br></pre></td></tr></table></figure><hr><blockquote><p>输出A类表TABLES1与A类表TABLES2内ID等于6或3与7或4的行</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM A.TABLES1 WHERE ID&#x3D;6 OR ID&#x3D;3</span><br><span class="line">UNION</span><br><span class="line">SELECT * FROM A.TABLES2 WHERE ID&#x3D;7 OR ID&#x3D;4;</span><br></pre></td></tr></table></figure><p><code>SELECT * FROM A.TABLES1 WHERE ID=6 OR ID=3 UNION SELECT * FROM A.TABLES2 WHERE ID=7 OR ID=4;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">test&#x3D;# SELECT * FROM A.TABLES1 WHERE ID&#x3D;6 OR ID&#x3D;3              </span><br><span class="line">UNION</span><br><span class="line">SELECT * FROM A.TABLES2 WHERE ID&#x3D;7 OR ID&#x3D;4;</span><br><span class="line"> id | a | b | c | d |    time    </span><br><span class="line">----+---+---+---+---+------------</span><br><span class="line">  6 | 2 | 7 | 5 | 2 | 2020-02-16</span><br><span class="line">  3 | 3 | 3 | 9 | 2 | 2020-02-16</span><br><span class="line">  4 | 1 | 4 | 8 | 3 | 2020-02-16</span><br><span class="line">  7 | 3 | 7 | 3 | 6 | 2020-02-16</span><br><span class="line">(4 行记录)</span><br></pre></td></tr></table></figure><hr><blockquote><p>输出并查询A类表TABLES1内ID等于3或等于4的行</p></blockquote><p><code>SELECT * FROM A.TABLES1 WHERE ID=3 OR ID=4;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">test&#x3D;# SELECT * FROM A.TABLES1 WHERE ID&#x3D;3 OR ID&#x3D;4;</span><br><span class="line"> id | a | b | c | d |    time    </span><br><span class="line">----+---+---+---+---+------------</span><br><span class="line">  3 | 3 | 3 | 9 | 2 | 2020-02-16</span><br><span class="line">  4 | 1 | 4 | 8 | 3 | 2020-02-16</span><br><span class="line">(2 行记录)</span><br></pre></td></tr></table></figure><hr><blockquote><p>以偏移量为三为前提，输出并查询A类表TABLES1内的三条数据</p></blockquote><p><code>SELECT * FROM A.TABLES1 LIMIT 3 OFFSET 3;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">test&#x3D;# SELECT * FROM A.TABLES1 LIMIT 3 OFFSET 3;</span><br><span class="line"> id | a | b | c | d |    time    </span><br><span class="line">----+---+---+---+---+------------</span><br><span class="line">  4 | 1 | 4 | 8 | 3 | 2020-02-16</span><br><span class="line">  5 | 2 | 1 | 1 | 1 | 2020-02-16</span><br><span class="line">  6 | 2 | 7 | 5 | 2 | 2020-02-16</span><br><span class="line">(3 行记录)</span><br></pre></td></tr></table></figure><hr><blockquote><p>以偏移量为一为前提与排除所有重复数据为前提，输出并查询A类表TABLES1内的四条数据</p></blockquote><p><code>SELECT DISTINCT A,B,C FROM A.TABLES1 LIMIT 4 OFFSET 1;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">test&#x3D;# SELECT DISTINCT A,B,C FROM A.TABLES1 LIMIT 4 OFFSET 1;</span><br><span class="line"> a | b | c </span><br><span class="line">---+---+---</span><br><span class="line"> 1 | 3 | 8</span><br><span class="line"> 2 | 1 | 1</span><br><span class="line"> 2 | 7 | 5</span><br><span class="line"> 1 | 1 | 2</span><br><span class="line">(4 行记录)</span><br></pre></td></tr></table></figure><hr><blockquote><p>将A类表TABLES1内B列的结果基于A列进行分组并求和，分组数量小于10且为降序输出</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT A, SUM(B) FROM A.TABLES1 </span><br><span class="line">GROUP BY A </span><br><span class="line">HAVING count(A) &lt; 10 </span><br><span class="line">ORDER BY A DESC;</span><br></pre></td></tr></table></figure><p><code>SELECT A, SUM(B) FROM A.TABLES1 GROUP BY A HAVING count(A) &lt; 10 ORDER BY A DESC;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">test&#x3D;# SELECT A, SUM(B) FROM A.TABLES1 GROUP BY A HAVING count(A) &lt; 10 ORDER BY A DESC;</span><br><span class="line"> a | sum </span><br><span class="line">---+-----</span><br><span class="line"> 4 |  16</span><br><span class="line"> 3 |  10</span><br><span class="line"> 2 |  12</span><br><span class="line"> 1 |  16</span><br><span class="line">(4 行记录)</span><br></pre></td></tr></table></figure><ul><li>执行逻辑</li></ul><ol><li>将B映射于A，并对A的数值类型进行分组</li><li>SUM()函数将B中映射于A的数值进行求和</li><li>降序输出且组的数量不能大于10</li></ol><hr><blockquote><p>删除两表内所有数据<br><code>TRUNCATE TABLE A.TABLES1;</code></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test&#x3D;# TRUNCATE TABLE A.TABLES1;</span><br><span class="line">TRUNCATE TABLE</span><br></pre></td></tr></table></figure><p><code>TRUNCATE A.TABLES2;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test&#x3D;# TRUNCATE TABLE A.TABLES2;</span><br><span class="line">TRUNCATE TABLE</span><br></pre></td></tr></table></figure><p><code>DROP TABLE A.TABLES1;</code></p><p><code>DROP TABLE A.TABLES2;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test&#x3D;# DROP TABLE A.TABLES1;</span><br><span class="line">DROP TABLE</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test&#x3D;# DROP TABLE A.TABLES2;</span><br><span class="line">DROP TABLE</span><br></pre></td></tr></table></figure><p><code>DROP DATABASE TEST;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">postgres&#x3D;# DROP DATABASE TEST;</span><br><span class="line">DROP DATABASE</span><br></pre></td></tr></table></figure><hr><ul><li>没必要去设计特别复杂的逻辑语句,有时适当分句往往能提高工作效率</li></ul><hr><p><strong>相关概念:</strong></p><table><thead><tr><th align="left">概念</th><th align="left">作用</th></tr></thead><tbody><tr><td align="left">SELECT</td><td align="left">查询</td></tr><tr><td align="left">FROM</td><td align="left">来源于…</td></tr><tr><td align="left">DISTINCT</td><td align="left">唯一</td></tr><tr><td align="left">WHERE</td><td align="left">条件</td></tr><tr><td align="left">AND&amp;OR</td><td align="left">逻辑与和逻辑或</td></tr><tr><td align="left">LIKE</td><td align="left">类似于…</td></tr><tr><td align="left">LIMIT</td><td align="left">限制查询结果的输出数量</td></tr><tr><td align="left">OFFSET</td><td align="left">查询结果偏移</td></tr><tr><td align="left">ORDER BY (ASC/DESC)</td><td align="left">排序</td></tr><tr><td align="left">GROUP BY</td><td align="left">分组</td></tr><tr><td align="left">HAVING</td><td align="left">分组之上再设置分组条件</td></tr><tr><td align="left">WITH</td><td align="left">子句封装，将使用指令进行封装以便一键执行</td></tr><tr><td align="left">UNION</td><td align="left">连接</td></tr><tr><td align="left">VIEW</td><td align="left">创建视图</td></tr><tr><td align="left">WHERE可以嵌套查询语句</td><td align="left">所执行嵌套的语句被称为内部查询/子查询</td></tr><tr><td align="left">内聚函数</td><td align="left">可以称为内置函数</td></tr><tr><td align="left">TRUNCATE TABLE</td><td align="left">删除表数据</td></tr></tbody></table><hr><p><strong>常用内聚函数参考</strong></p><ul><li>COUNT 函数:用于计算数据库表中的行数</li><li>MAX 函数:用于查询某一特定列中最大值</li><li>MIN 函数:用于查询某一特定列中最小值</li><li>AVG 函数:用于计算某一特定列中平均值</li><li>SUM 函数:用于计算数字列所有值的总和</li><li>ARRAY 函数:用于输入值(包括null)添加到数组中</li><li>Numeric 函数:完整列出一个SQL中所需的操作数的函数</li><li>String 函数:完整列出一个SQL中所需的操作字符的函数</li></ul><p><strong>其他函数类型</strong></p><ul><li>数学函数</li><li>三角函数</li><li>字符函数</li><li>操作符函数</li><li>类型转换函数</li></ul><hr><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sun Feb 16 2020 04:07:33 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;PostgreSQL-3&quot;&gt;&lt;a href=&quot;#PostgreSQL-3&quot; class=&quot;headerlink&quot; title=&quot;Postgr
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="ORDBMS" scheme="https://unit-serow.github.io/tags/ORDBMS/"/>
    
  </entry>
  
  <entry>
    <title>PostgreSQL-2</title>
    <link href="https://unit-serow.github.io/2020/02/15/PostgreSQL-2/"/>
    <id>https://unit-serow.github.io/2020/02/15/PostgreSQL-2/</id>
    <published>2020-02-15T14:18:52.000Z</published>
    <updated>2020-02-15T14:20:19.228Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Feb 15 2020 22:20:23 GMT+0800 (中国标准时间) --><h3 id="PortgreSQL-2"><a href="#PortgreSQL-2" class="headerlink" title="PortgreSQL-2"></a>PortgreSQL-2</h3><ul><li>使用前几章MySQL中所规定的数据模型</li><li>默认超级管理员权限</li></ul><hr><ul><li>创建数据库test1<blockquote><p><code>CREATE DATABASE TEST1;</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">postgres&#x3D;# CREATE DATABASE TEST1;</span><br><span class="line">CREATE DATABASE</span><br></pre></td></tr></table></figure><ul><li>查看所有数据库<blockquote><p><code>\l</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">postgres&#x3D;# \l</span><br><span class="line">                                     数据库列表</span><br><span class="line">   名称    |  拥有者  | 字元编码 |  校对规则   |    Ctype    |       存取权限        </span><br><span class="line">-----------+----------+----------+-------------+-------------+-----------------------</span><br><span class="line"> postgres  | postgres | UTF8     | zh_CN.UTF-8 | zh_CN.UTF-8 | </span><br><span class="line"> template0 | postgres | UTF8     | zh_CN.UTF-8 | zh_CN.UTF-8 | &#x3D;c&#x2F;postgres          +</span><br><span class="line">           |          |          |             |             | postgres&#x3D;CTc&#x2F;postgres</span><br><span class="line"> template1 | postgres | UTF8     | zh_CN.UTF-8 | zh_CN.UTF-8 | &#x3D;c&#x2F;postgres          +</span><br><span class="line">           |          |          |             |             | postgres&#x3D;CTc&#x2F;postgres</span><br><span class="line"> test1     | postgres | UTF8     | zh_CN.UTF-8 | zh_CN.UTF-8 | </span><br><span class="line">(4 行记录)</span><br></pre></td></tr></table></figure><ul><li>连接数据库，默认用户<code>postgres</code><blockquote><p><code>\c test1;</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">postgres&#x3D;# \c test1;</span><br><span class="line">您现在已经连接到数据库 &quot;test1&quot;,用户 &quot;postgres&quot;.</span><br></pre></td></tr></table></figure><hr><ul><li>模式A<blockquote><p><code>CREATE SCHEMA A;</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test1&#x3D;# CREATE SCHEMA A;</span><br><span class="line">CREATE SCHEMA</span><br></pre></td></tr></table></figure><ul><li>表<code>A.tables1</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE A.tables1(</span><br><span class="line">ID SERIAL PRIMARY KEY NOT NULL,</span><br><span class="line">A TEXT NOT NULL,</span><br><span class="line">B INT NOT NULL,</span><br><span class="line">C CHAR(1) UNIQUE,</span><br><span class="line">D REAL,</span><br><span class="line">TIME DATE);</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">test1&#x3D;# CREATE SCHEMA A;</span><br><span class="line">CREATE SCHEMA</span><br><span class="line">test1&#x3D;# CREATE TABLE A.tables1(</span><br><span class="line">test1(# ID SERIAL PRIMARY KEY NOT NULL,</span><br><span class="line">test1(# A TEXT NOT NULL,</span><br><span class="line">test1(# B INT NOT NULL,</span><br><span class="line">test1(# C CHAR(1) UNIQUE,</span><br><span class="line">test1(# D REAL,</span><br><span class="line">test1(# TIME DATE);</span><br><span class="line">CREATE TABLE</span><br></pre></td></tr></table></figure><ul><li>索引<blockquote><p><code>CREATE UNIQUE INDEX A_INDEX ON A.TABLES1 (A);</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test1&#x3D;# CREATE UNIQUE INDEX A_INDEX ON A.TABLES1 (A);</span><br><span class="line">CREATE INDEX</span><br></pre></td></tr></table></figure><ul><li>别名<blockquote><p><code>SELECT G.ID, G.A, G.B, G.C, G.D FROM TABLES1 AS G;</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">test1&#x3D;# SELECT G.ID, G.A, G.B, G.C, G.D FROM A.TABLES1 AS G;</span><br><span class="line"> id | a | b | c | d </span><br><span class="line">----+---+---+---+---</span><br><span class="line">(0 行记录)</span><br></pre></td></tr></table></figure><hr><ul><li>开启事务<blockquote><p><code>BEGIN;或者BEGIN TRANSACTION;</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test1&#x3D;# BEGIN TRANSACTION;</span><br><span class="line">BEGIN</span><br></pre></td></tr></table></figure><ul><li>插入</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO A.tables1 </span><br><span class="line">(A,B,C,D,TIME) </span><br><span class="line">VALUES </span><br><span class="line">(1, 2, 1, 4, &#39;2020-02-14&#39; ),</span><br><span class="line">(1, 2, 2, 4, &#39;2020-02-14&#39; ),</span><br><span class="line">(1, 2, 3, 4, &#39;2020-02-14&#39; ),</span><br><span class="line">(1, 2, 4, 4, &#39;2020-02-14&#39; ),</span><br><span class="line">(1, 2, 0, 4, &#39;2020-02-13&#39; );</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">test1&#x3D;# INSERT INTO A.tables1 </span><br><span class="line">(A,B,C,D,TIME) </span><br><span class="line">VALUES </span><br><span class="line">(1, 2, 1, 4, &#39;2020-02-14&#39; ),</span><br><span class="line">(2, 2, 2, 4, &#39;2020-02-14&#39; ),</span><br><span class="line">(3, 2, 3, 4, &#39;2020-02-14&#39; ),</span><br><span class="line">(4, 2, 4, 4, &#39;2020-02-14&#39; ),</span><br><span class="line">(0, 2, 0, 4, &#39;2020-02-13&#39; );</span><br><span class="line">INSERT 0 5</span><br></pre></td></tr></table></figure><ul><li>更新<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UPDATE A.TABLES1 SET A &#x3D; 2 WHERE ID &#x3D;1;</span><br><span class="line">UPDATE A.TABLES1 SET A &#x3D; 1 WHERE ID &#x3D;1;</span><br></pre></td></tr></table></figure></li></ul><p><code>SELECT * FROM A.TABLES1;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">test1&#x3D;# SELECT * FROM A.TABLES1;</span><br><span class="line"> id | a | b | c | d |    time    </span><br><span class="line">----+---+---+---+---+------------</span><br><span class="line">  3 | 1 | 2 | 1 | 4 | 2020-02-14</span><br><span class="line">  4 | 2 | 2 | 2 | 4 | 2020-02-14</span><br><span class="line">  5 | 3 | 2 | 3 | 4 | 2020-02-14</span><br><span class="line">  6 | 4 | 2 | 4 | 4 | 2020-02-14</span><br><span class="line">  7 | 0 | 2 | 0 | 4 | 2020-02-13</span><br><span class="line">(5 行记录)</span><br></pre></td></tr></table></figure><ul><li>修改<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE A.TABLES1 ADD E CHAR(1);</span><br><span class="line">ALTER TABLE A.TABLES1 ADD F CHAR(1);</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">test1&#x3D;# ALTER TABLE A.TABLES1 ADD E CHAR(1);</span><br><span class="line">ALTER TABLE</span><br><span class="line">test1&#x3D;# ALTER TABLE A.TABLES1 ADD F CHAR(1);</span><br><span class="line">ALTER TABLE</span><br></pre></td></tr></table></figure><p><code>SELECT * FROM A.TABLES1;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">test1&#x3D;# SELECT * FROM A.TABLES1;</span><br><span class="line"> id | a | b | c | d |    time    | e | f </span><br><span class="line">----+---+---+---+---+------------+---+---</span><br><span class="line">  3 | 1 | 2 | 1 | 4 | 2020-02-14 |   | </span><br><span class="line">  4 | 2 | 2 | 2 | 4 | 2020-02-14 |   | </span><br><span class="line">  5 | 3 | 2 | 3 | 4 | 2020-02-14 |   | </span><br><span class="line">  6 | 4 | 2 | 4 | 4 | 2020-02-14 |   | </span><br><span class="line">  7 | 0 | 2 | 0 | 4 | 2020-02-13 |   | </span><br><span class="line">(5 行记录)</span><br></pre></td></tr></table></figure><ul><li>锁<blockquote><p><code>LOCK TABLE A.TABLES1 IN ACCESS EXCLUSIVE MODE;</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test1&#x3D;# LOCK TABLE A.TABLES1 IN ACCESS EXCLUSIVE MODE;</span><br><span class="line">LOCK TABLE</span><br></pre></td></tr></table></figure><ul><li>关闭事务<blockquote><p><code>COMMIT;或者END TRANSACTION;</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test1&#x3D;# END TRANSACTION;</span><br><span class="line">COMMIT</span><br></pre></td></tr></table></figure><hr><ul><li>查询表格是否存在<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\d</span><br><span class="line">\d A.table1</span><br><span class="line">SELECT * FROM A.tables1;</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">test1&#x3D;# \d A.TABLES1;</span><br><span class="line">                                数据表 &quot;a.tables1&quot;</span><br><span class="line"> 栏位 |     类型     | 校对规则 |  可空的  |                 预设                  </span><br><span class="line">------+--------------+----------+----------+---------------------------------------</span><br><span class="line"> id   | integer      |          | not null | nextval(&#39;a.tables1_id_seq&#39;::regclass)</span><br><span class="line"> a    | text         |          | not null | </span><br><span class="line"> b    | integer      |          | not null | </span><br><span class="line"> c    | character(1) |          |          | </span><br><span class="line"> d    | real         |          |          | </span><br><span class="line"> time | date         |          |          | </span><br><span class="line"> e    | character(1) |          |          | </span><br><span class="line"> f    | character(1) |          |          | </span><br><span class="line">索引：</span><br><span class="line">    &quot;tables1_pkey&quot; PRIMARY KEY, btree (id)</span><br><span class="line">    &quot;a_index&quot; UNIQUE, btree (a)</span><br><span class="line">    &quot;tables1_c_key&quot; UNIQUE CONSTRAINT, btree (c)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">test1&#x3D;# SELECT * FROM A.tables1;</span><br><span class="line"> id | a | b | c | d |    time    | e | f </span><br><span class="line">----+---+---+---+---+------------+---+---</span><br><span class="line">  3 | 1 | 2 | 1 | 4 | 2020-02-14 |   | </span><br><span class="line">  4 | 2 | 2 | 2 | 4 | 2020-02-14 |   | </span><br><span class="line">  5 | 3 | 2 | 3 | 4 | 2020-02-14 |   | </span><br><span class="line">  6 | 4 | 2 | 4 | 4 | 2020-02-14 |   | </span><br><span class="line">  7 | 0 | 2 | 0 | 4 | 2020-02-13 |   | </span><br><span class="line">(5 行记录)</span><br></pre></td></tr></table></figure><hr><ul><li>删除<blockquote><p><code>DROP SCHEMA A CASCADE;</code><br><code>DROP TABLE TABLES1;</code><br><code>DROP DATABASE TEST1;</code></p></blockquote></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test1&#x3D;# DROP SCHEMA A CASCADE;</span><br><span class="line">注意:  递归删除 表 a.tables</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">postgres&#x3D;# DROP DATABASE TEST1;</span><br><span class="line">DROP DATABASE</span><br></pre></td></tr></table></figure><hr><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Feb 15 2020 22:20:23 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;PortgreSQL-2&quot;&gt;&lt;a href=&quot;#PortgreSQL-2&quot; class=&quot;headerlink&quot; title=&quot;Portgr
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="ODBMS" scheme="https://unit-serow.github.io/tags/ODBMS/"/>
    
  </entry>
  
  <entry>
    <title>PostgreSQL-1</title>
    <link href="https://unit-serow.github.io/2020/02/15/PostgreSQL-1/"/>
    <id>https://unit-serow.github.io/2020/02/15/PostgreSQL-1/</id>
    <published>2020-02-15T13:44:16.000Z</published>
    <updated>2020-02-15T13:46:11.797Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Feb 15 2020 21:46:16 GMT+0800 (中国标准时间) --><h3 id="PostgreSQL-1"><a href="#PostgreSQL-1" class="headerlink" title="PostgreSQL-1"></a>PostgreSQL-1</h3><p><strong>概述:</strong></p><ul><li>ORDBMS(关系数据库服务器)</li><li>基于BSD许可证发行</li></ul><hr><p><strong>基本特征:</strong></p><ul><li>函数:通过函数，可以在数据库服务器端执行指令程序</li><li>索引:用户可以自定义索引方法，或使用内置的<code>B树</code>，<code>哈希表</code>与<code>GiST索引</code></li><li>触发器:触发器是由SQL语句查询所触发的事件，如：一个INSERT语句可能触发一个检查数据完整性的触发器。触发器通常由<code>INSERT</code>或<code>UPDATE</code>语句触发</li><li>多版本并发控制:PostgreSQL使用多版本并发控制(MVCC，Multiversion concurrency control)系统进行并发控制，该系统向每个用户提供了一个数据库的”快照”，用户在事务内所作的每个修改，对于其他的用户都不可见，直到该事务成功提交</li><li>规则:规则(RULE)允许一个查询能被重写，通常用来实现对视图(VIEW)的操作，如插入(INSERT)、更新(UPDATE)、删除(DELETE)</li><li>数据类型:包括文本、任意精度的数值数组、<code>JSON数据</code>、<code>枚举类型</code>、<code>XML数据等</code></li><li>全文检索:通过<code>Tsearch2</code>或<code>OpenFTS</code>，<code>8.3版本</code>中内嵌<code>Tsearch2</code></li><li>NoSQL:<code>JSON</code>，<code>JSONB</code>，<code>XML</code>，<code>HStore</code>原生支持，至<code>NoSQL</code>数据库的外部数据包装器</li><li>数据仓库:能平滑迁移至同属<code>PostgreSQL</code>生态的<code>GreenPlum</code>，<code>DeepGreen</code>，<code>HAWK</code>等，使用<code>FDW</code>进行<code>ETL</code></li><li>PostpreSQL与MySQL的语法与模式完全不同</li></ul><hr><p><strong>安装:</strong></p><ul><li><code>apt-get</code>全自动安装<blockquote><p><code>$ sudo apt-get install postgresql postgresql-client</code></p></blockquote></li><li>安装完毕后，系统会创建一个数据库超级用户postgres，密码为空<blockquote><p><code># sudo -i -u postgres</code></p></blockquote></li><li>进入postgres命令行提示符<blockquote><p><code>$ psql</code></p></blockquote></li><li>退出PostgreSQL命令行提示符<blockquote><p><code>\q</code></p></blockquote></li></ul><hr><ul><li>基本配置与帮助</li><li>可执行文件目录<blockquote><p><code>/etc/init.d/postgresql</code><br><code>/etc/postgresql</code></p></blockquote></li><li>配置文件目录<blockquote><p><code>/usr/lib/postgresql</code></p></blockquote></li><li>帮助文档目录<blockquote><p><code>/usr/share/postgresql</code></p></blockquote></li><li>帮助指令<blockquote><p><code>postgres-# \help &lt;command_name&gt;</code></p></blockquote></li><li>例如<blockquote><p><code>postgres=# \help SELECT</code></p></blockquote></li><li>查看所有帮助(指令用法)<blockquote><p><code>postgres=# \?</code></p></blockquote></li></ul><hr><p><strong>其他:</strong></p><ul><li><code>pgAdmin</code>工具(图形化管理与操作工具)</li><li><code>pgAdmin</code>工具提供了完整操作数据库的功能</li><li>类似于MySQL的<code>MySQLadmin</code></li><li>封装命令</li><li>进入<code>PostpreSQL</code>的可执行目录内执行(/安装目录/bin)</li><li>PostgreSQL特有性质，例如<code>CREATE DATABASE</code>语句等同于<code>createdb</code>命令</li><li>文案中将会避免使用封装命令，而尽可能多的使用SQL标准中所规定的标准语句</li><li>封装命令的执行不需要添加分号(<code>;</code>)</li><li>关于权限的使用与说明本篇不做阐述</li></ul><hr><ul><li><p><code>createdb</code>命令语法格式如下:</p></li><li><p>进入<code>PostpreSQL</code>的可执行目录内执行</p><blockquote><p><code>createdb [option...] [dbname [description]]</code></p></blockquote></li><li><p>参数说明:</p><blockquote><p><code>dbname</code>:要创建的数据库名<br><code>description</code>:关于新创建的数据库相关的说明<br><code>options</code>:参数可选项，具体参考官方中文手册</p></blockquote></li><li><p><code>psql</code>连接工具语法</p></li><li><p><code>psql</code>的命令都是以斜杠<code>\</code>开头的</p></li><li><p>关于<code>\</code>的具体使用，本篇将不会多做阐述</p><blockquote><p><code>psql -h &lt;hostname or ip&gt; -p &lt;端口&gt; [数据库名称] [用户名称]</code></p></blockquote></li><li><p>执行存储在外部文件中的SQL命令</p><blockquote><p><code>\i &lt;文件名&gt;</code>执行存储在外部文件中的sql语句<br>当然也可以在<code>psql命令行</code>加<code>-s &lt;filename&gt;</code>来执行SQL脚本文件中的命令<br>如<code>psql -s test.sql</code></p></blockquote></li></ul><hr><p><strong>快速参考</strong></p><ul><li>相关概念简述:</li><li>数据类型</li><li>运算符</li><li>表达式</li><li>触发器</li><li>NULL</li><li>子查询/嵌套查询/内部查询</li><li>事务</li><li>函数</li></ul><hr><ul><li>模式 <code>SCHEMA</code></li><li>别名 <code>AS</code></li><li>序列 <code>smallserial/serial/bigserial(AUTO_INCREMENT)</code></li><li>排序/分组 <code>order by(asc/desc)/group by</code></li><li>连接 <code>UNION/JOIN LEFT/RIGHT/PULL/INNER/CROSS</code></li><li>索引 <code>INDEX</code></li><li>约束 <code>PRIMARY KEY/FOREIGN KEY/CHECK/EXCLUSION/UNIQUE/NOT NULL</code></li><li>视图 <code>VIEW</code></li><li>锁 <code>LOCK</code></li><li>权限 <code>GRANT</code></li><li>时间/日期 <code>DATE</code></li></ul><hr><p><strong>参考资料:</strong></p><ul><li><p>手册CN<a href="http://www.postgres.cn/docs/9.6/" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>http://www.postgres.cn/docs/9.6/</code></p></blockquote></li><li><p>10.1手册源码CN<a href="https://github.com/postgres-cn/pgdoc-cn/wiki/pg10" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://github.com/postgres-cn/pgdoc-cn/wiki/pg10</code></p></blockquote></li><li><p>最新版手册源码CN<a href="https://github.com/postgres-cn/pgdoc-cn/releases" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://github.com/postgres-cn/pgdoc-cn/releases</code></p></blockquote></li><li><p>手册翻译社区CN<a href="https://github.com/postgres-cn/pgdoc-cn" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://github.com/postgres-cn/pgdoc-cn</code></p></blockquote></li><li><p>官方网站<a href="https://www.postgresql.org/" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://www.postgresql.org/</code></p></blockquote></li><li><p>下载地址<a href="https://www.postgresql.org/download/linux/debian/" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://www.postgresql.org/download/linux/debian/</code></p></blockquote></li><li><p>软件源码<a href="https://www.postgresql.org/ftp/source/" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://www.postgresql.org/ftp/source/</code></p></blockquote></li><li><p><code>apt-get</code>获取</p><blockquote><p><code>apt-get install postgresql postgresql-client</code></p></blockquote></li></ul><hr><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Feb 15 2020 21:46:16 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;PostgreSQL-1&quot;&gt;&lt;a href=&quot;#PostgreSQL-1&quot; class=&quot;headerlink&quot; title=&quot;Postgr
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="ORDBMS" scheme="https://unit-serow.github.io/tags/ORDBMS/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-5</title>
    <link href="https://unit-serow.github.io/2020/02/15/MySQL-5/"/>
    <id>https://unit-serow.github.io/2020/02/15/MySQL-5/</id>
    <published>2020-02-14T18:19:25.000Z</published>
    <updated>2020-02-14T18:21:56.080Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Feb 15 2020 02:22:00 GMT+0800 (中国标准时间) --><h3 id="MySQL-5"><a href="#MySQL-5" class="headerlink" title="MySQL-5"></a>MySQL-5</h3><ul><li>MySQL补充内容</li><li>MySQL可执行目录/usr/bin/mysql</li><li>MySQL配置文件目录/etc/my.cnf</li></ul><hr><p><strong>添加用户</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use mysql;</span><br><span class="line">Database changed</span><br><span class="line"></span><br><span class="line">mysql&gt; INSERT INTO user </span><br><span class="line">          (host, user, password, </span><br><span class="line">           select_priv, insert_priv, update_priv) </span><br><span class="line">           VALUES (&#39;localhost&#39;, &#39;guest&#39;, </span><br><span class="line">           PASSWORD(&#39;guest123&#39;), &#39;Y&#39;, &#39;Y&#39;, &#39;Y&#39;);</span><br><span class="line">Query OK, 1 row affected (0.20 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>泛用指令</strong></p><ul><li><p>设置权限</p><blockquote><p><code>chown mysql:mysql -R /var/lib/mysql</code></p></blockquote></li><li><p>初始化</p><blockquote><p><code>mysqld --initialize</code></p></blockquote></li><li><p>查看所有数据库</p><blockquote><p><code>SHOW DATABASES;</code></p></blockquote></li><li><p>查看当前数据库内所有表</p><blockquote><p><code>SHOW TABLES;</code></p></blockquote></li><li><p>显示数据表的属性，属性类型，主键信息 ，是否为NULL，默认值等其他信息</p><blockquote><p><code>SHOW COLUMNS FROM 数据表;</code></p></blockquote></li><li><p>显示数据表的详细索引信息，包括<code>PRIMARY KEY</code>(主键)</p><blockquote><p><code>SHOW INDEX FROM 数据表;</code></p></blockquote></li><li><p>输出Mysql数据库管理系统的性能及统计信息</p><blockquote><p><code>SHOW TABLE STATUS LIKE [FROM db_name] [LIKE &#39;pattern&#39;] \G;</code></p></blockquote></li></ul><hr><p><strong>RDBMS-MySQL参考资料</strong></p><ul><li><p>mysql官网<a href="https://www.mysql.com/" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://www.mysql.com/</code></p></blockquote></li><li><p>mysql下载地址<a href="https://dev.mysql.com/downloads/" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://dev.mysql.com/downloads/</code></p></blockquote></li><li><p>文档(EN)<a href="https://dev.mysql.com/doc/" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://dev.mysql.com/doc/</code></p></blockquote></li></ul><hr><ul><li><p>MariaDB官网<a href="https://mariadb.org" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://mariadb.org</code></p></blockquote></li><li><p>MariaDB下载地址<a href="https://mariadb.org/download/" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://mariadb.org/download/</code></p></blockquote></li><li><p>文档(CN)<a href="https://mariadb.com/kb/zh-cn/mariadb/" target="_blank" rel="noopener">跳转</a></p><blockquote><p><code>https://mariadb.com/kb/zh-cn/mariadb/</code></p></blockquote></li></ul><hr><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Feb 15 2020 02:22:00 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;MySQL-5&quot;&gt;&lt;a href=&quot;#MySQL-5&quot; class=&quot;headerlink&quot; title=&quot;MySQL-5&quot;&gt;&lt;/a&gt;MyS
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="RDBMS" scheme="https://unit-serow.github.io/tags/RDBMS/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-4</title>
    <link href="https://unit-serow.github.io/2020/02/15/MySQL-4/"/>
    <id>https://unit-serow.github.io/2020/02/15/MySQL-4/</id>
    <published>2020-02-14T17:49:54.000Z</published>
    <updated>2020-02-14T17:51:47.270Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Feb 15 2020 01:51:52 GMT+0800 (中国标准时间) --><h3 id="MySQL数据导出与导入"><a href="#MySQL数据导出与导入" class="headerlink" title="MySQL数据导出与导入"></a>MySQL数据导出与导入</h3><p><strong>导出</strong></p><ul><li><p>所导出目标文件必须为有可读写权限</p></li><li><p>使用<code>SELECT ... INTO OUTFILE</code>语句</p></li><li><p>基本语法:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM table_name</span><br><span class="line">    -&gt; INTO OUTFILE &#39;目标路径&#39;;</span><br></pre></td></tr></table></figure></li><li><p>使用mysqldump导出原始数据</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mysqldump -u root -p --no-create-info \</span><br><span class="line">            --tab&#x3D;&#x2F;目标文件路径 database_name table_name</span><br><span class="line">password:</span><br></pre></td></tr></table></figure></li><li><p>导出SQL格式的文件</p></li><li><p>不添加<code>table_name</code>导出整个数据库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mysqldump -u root -p database_name table_name &gt; 目标文件路径</span><br><span class="line">password:</span><br></pre></td></tr></table></figure></li><li><p>导出所有数据库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mysqldump -u root -p --all-databases &gt; 目标文件路径</span><br><span class="line">password:</span><br></pre></td></tr></table></figure></li></ul><hr><p><strong>导入</strong></p><ul><li><p>mysql 命令导入</p><blockquote><p><code>mysql -u username -p passwrod &lt; 要导入的数据库数据文件路径(xxx.sql)</code></p></blockquote></li><li><p>source 命令导入</p></li><li><p>登录到数库终端执行以下命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; USE DATABASE_NAME;</span><br><span class="line">mysql&gt; SET NAMES utf8;</span><br><span class="line">mysql&gt; SOURCE &#x2F;目标文件路径(.sql)</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysqlimport导入</span><br><span class="line">$ mysqlimport -u root -p --local tables_name &#x2F;被导入文件路径</span><br><span class="line">password *****</span><br></pre></td></tr></table></figure><hr><p><strong>PHP语法简介</strong></p><ul><li>PHP Mysqli</li><li>mysqli()函数</li></ul><p><strong>格式</strong></p><blockquote><p><code>mysqli_function(value,value,...);</code></p></blockquote><ul><li>以上格式中function部分描述了mysqli()函数的功能，例如:<blockquote><p><code>mysqli_connect($connect);</code><br><code>mysqli_query($connect,&quot;SQL 语句&quot;);</code><br><code>mysqli_fetch_array()</code><br><code>mysqli_close()</code></p></blockquote></li></ul><hr><p><strong>mysqladmin用法简述</strong></p><ul><li><p>管理性操作语法</p><blockquote><p><code>mysqladmin [OPTIONS] command [command-option] command ...</code></p></blockquote></li><li><p>帮助指令</p><blockquote><p><code>mysqladmin --help</code></p></blockquote></li><li><p>连接</p><blockquote><p><code>mysqladmin -u[username] -p[password] status</code></p></blockquote></li></ul><hr><p><strong>简要参数:</strong></p><table><thead><tr><th align="left">参数</th><th align="left">作用</th></tr></thead><tbody><tr><td align="left">create databasename</td><td align="left">创建一个新数据库</td></tr><tr><td align="left">drop databasename</td><td align="left">删除一个数据库及其所有表</td></tr><tr><td align="left">shutdown</td><td align="left">关掉服务器</td></tr><tr><td align="left">kill id,id,…</td><td align="left">杀死mysql线程</td></tr><tr><td align="left">flush-logs</td><td align="left">清理掉所有日志</td></tr><tr><td align="left">flush-tables</td><td align="left">清理掉所有表</td></tr><tr><td align="left">ping</td><td align="left">检查mysqld是否存在</td></tr></tbody></table><hr><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Feb 15 2020 01:51:52 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;MySQL数据导出与导入&quot;&gt;&lt;a href=&quot;#MySQL数据导出与导入&quot; class=&quot;headerlink&quot; title=&quot;MySQL数
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="RDBMS" scheme="https://unit-serow.github.io/tags/RDBMS/"/>
    
  </entry>
  
  <entry>
    <title>SQL-参考</title>
    <link href="https://unit-serow.github.io/2020/02/14/SQL-%E5%8F%82%E8%80%83/"/>
    <id>https://unit-serow.github.io/2020/02/14/SQL-%E5%8F%82%E8%80%83/</id>
    <published>2020-02-14T15:59:08.000Z</published>
    <updated>2020-02-14T16:03:29.129Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Feb 15 2020 00:03:34 GMT+0800 (中国标准时间) --><h3 id="SQL-参考"><a href="#SQL-参考" class="headerlink" title="SQL 参考"></a>SQL 参考</h3><p><strong>按出现次数排行</strong></p><p><strong>重要指令一览</strong></p><table><thead><tr><th align="left">指令</th><th align="left">作用</th></tr></thead><tbody><tr><td align="left">SELECT</td><td align="left">从数据库中提取数据</td></tr><tr><td align="left">UPDATE</td><td align="left">更新数据库中的数据</td></tr><tr><td align="left">DELETE</td><td align="left">从数据库中删除数据</td></tr><tr><td align="left">INSERT INTO</td><td align="left">向数据库中插入新数据</td></tr><tr><td align="left">CREATE DATABASE</td><td align="left">创建新数据库</td></tr><tr><td align="left">ALTER DATABASE</td><td align="left">修改数据库</td></tr><tr><td align="left">CREATE TABLE</td><td align="left">创建新表</td></tr><tr><td align="left">ALTER TABLE</td><td align="left">变更(改变)数据库表</td></tr><tr><td align="left">DROP TABLE</td><td align="left">删除表</td></tr><tr><td align="left">CREATE INDEX</td><td align="left">创建索引(搜索键)</td></tr><tr><td align="left">DROP INDEX</td><td align="left">删除索引</td></tr></tbody></table><hr><p><strong>基本语句</strong></p><table><thead><tr><th align="left">语句</th><th align="left">作用</th></tr></thead><tbody><tr><td align="left">CREATE</td><td align="left">创建</td></tr><tr><td align="left">TABLE</td><td align="left">数据表</td></tr><tr><td align="left">DATABASE</td><td align="left">数据库</td></tr><tr><td align="left">SELECT</td><td align="left">选择</td></tr><tr><td align="left">ALTER</td><td align="left">变更/修改</td></tr><tr><td align="left">INSERT</td><td align="left">插入</td></tr><tr><td align="left">UPDATE</td><td align="left">更新</td></tr><tr><td align="left">DELETE</td><td align="left">删除</td></tr><tr><td align="left">VIEWS</td><td align="left">视图</td></tr></tbody></table><hr><p><strong>逻辑语句</strong></p><table><thead><tr><th align="left">单词</th><th align="left">翻译</th></tr></thead><tbody><tr><td align="left">WHERE</td><td align="left">在…</td></tr><tr><td align="left">FROM</td><td align="left">来自…</td></tr><tr><td align="left">AND&amp;OR</td><td align="left">逻辑与/逻辑或</td></tr><tr><td align="left">LIKE</td><td align="left">类似于…/像…</td></tr><tr><td align="left">IN</td><td align="left">在…内</td></tr><tr><td align="left">JOIN</td><td align="left">连接</td></tr><tr><td align="left">INNER/LEFT/RIGHT/FULL</td><td align="left">内部/左部/右部/全部</td></tr><tr><td align="left">UNION</td><td align="left">并集/组合</td></tr></tbody></table><hr><p><strong>关键字/操作符</strong></p><table><thead><tr><th align="left">单词</th><th align="left">翻译</th></tr></thead><tbody><tr><td align="left">DISTINCT</td><td align="left">不同的</td></tr><tr><td align="left">ORDER</td><td align="left">顺序</td></tr><tr><td align="left">ORDER BY</td><td align="left">以…排序</td></tr><tr><td align="left">ASC</td><td align="left">DESC</td></tr><tr><td align="left">TOP/LIMIT/ROWNUM</td><td align="left">极限/最大化</td></tr><tr><td align="left">BETWEEN</td><td align="left">在…之间</td></tr><tr><td align="left">UNIQUE</td><td align="left">独特</td></tr><tr><td align="left">FOREIGN</td><td align="left">外来的</td></tr><tr><td align="left">CHECK</td><td align="left">阻止/检查</td></tr><tr><td align="left">DEFAULT</td><td align="left">默认</td></tr><tr><td align="left">INDEX</td><td align="left">索引/指标</td></tr><tr><td align="left">DROP</td><td align="left">中止</td></tr><tr><td align="left">ADD</td><td align="left">添加</td></tr><tr><td align="left">COLUMN</td><td align="left">纵列</td></tr><tr><td align="left">INTO</td><td align="left">到…内</td></tr><tr><td align="left">PRIMARY</td><td align="left">主键/首要/基本</td></tr><tr><td align="left">AUTO</td><td align="left">自动/自动模式</td></tr><tr><td align="left">INCREMENT</td><td align="left">递增/增加</td></tr><tr><td align="left">NOT</td><td align="left">否</td></tr></tbody></table><hr><p><strong>其他一</strong></p><table><thead><tr><th align="left">单词</th><th align="left">翻译</th></tr></thead><tbody><tr><td align="left">USE</td><td align="left">使用/选择</td></tr><tr><td align="left">VALUES</td><td align="left">值</td></tr><tr><td align="left">SET</td><td align="left">位于…</td></tr><tr><td align="left">AS</td><td align="left">例如/向…</td></tr><tr><td align="left">NULL</td><td align="left">空/无</td></tr><tr><td align="left">BY</td><td align="left">由/被/到…之前</td></tr><tr><td align="left">HAVING</td><td align="left">具有</td></tr><tr><td align="left">ON</td><td align="left">在…上/触发/打开</td></tr><tr><td align="left">IN</td><td align="left">在…内</td></tr><tr><td align="left">ALL</td><td align="left">全部</td></tr><tr><td align="left">TRUNCATE</td><td align="left">截取</td></tr><tr><td align="left">CONSTRAINT</td><td align="left">约束</td></tr><tr><td align="left"><code>*</code></td><td align="left">泛用通配符</td></tr></tbody></table><hr><p><strong>其他二</strong></p><table><thead><tr><th align="left">单词</th><th align="left">翻译</th></tr></thead><tbody><tr><td align="left">column</td><td align="left">列</td></tr><tr><td align="left">table</td><td align="left">表</td></tr><tr><td align="left">operator</td><td align="left">操作符</td></tr><tr><td align="left">valueN</td><td align="left">值</td></tr><tr><td align="left">some</td><td align="left">某个</td></tr><tr><td align="left">Persons</td><td align="left">个体</td></tr><tr><td align="left">percent</td><td align="left">占比</td></tr><tr><td align="left">external</td><td align="left">外部</td></tr><tr><td align="left">DB</td><td align="left">数据库</td></tr><tr><td align="left">type</td><td align="left">类型</td></tr><tr><td align="left">size</td><td align="left">尺寸/大小</td></tr><tr><td align="left">Last</td><td align="left">末尾</td></tr><tr><td align="left">First</td><td align="left">起始</td></tr></tbody></table><hr><p><strong>语句参考</strong></p><ul><li>ALTER TABLE</li><li>CREATE DATABASE</li><li>CREATE INDEX</li><li>CREATE TABLE</li><li>CREATE VIEW</li><li>DROP DATABASE</li><li>DROP INDEX</li><li>DROP TABLE</li><li>INSERT INTO</li><li>INNER JOIN</li><li>LEFT JOIN</li><li>RIGHT JOIN</li><li>FULL JOIN</li><li>SELECT DISTINCT</li><li>SELECT INTO</li><li>SELECT TOP</li><li>TRUNCATE TABLE</li><li>UNION ALL</li><li>GROUP BY</li><li>ORDER BY</li><li>SELECT *</li></ul><hr><p><strong>子句参考</strong></p><ul><li>WHERE</li><li>UPDATE</li><li>UNION</li><li>SELECT</li><li>LIKE</li><li>IN</li><li>HAVING</li><li>DELETE</li><li>BETWEEN</li><li>AS (alias)</li><li>AND/OR</li></ul><hr><p><strong>概念</strong></p><ul><li>通配符</li><li>别名</li><li>约束</li><li>索引</li><li>函数</li><li>通用数据类型</li><li>DB 数据类型</li></ul><hr><p><strong>最泛用常用函数</strong></p><blockquote><p>DATE()<br>NULL()</p></blockquote><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Feb 15 2020 00:03:34 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;SQL-参考&quot;&gt;&lt;a href=&quot;#SQL-参考&quot; class=&quot;headerlink&quot; title=&quot;SQL 参考&quot;&gt;&lt;/a&gt;SQL 参考
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="RDBMS" scheme="https://unit-serow.github.io/tags/RDBMS/"/>
    
  </entry>
  
  <entry>
    <title>RDBMS-MySQL</title>
    <link href="https://unit-serow.github.io/2020/02/14/RDBMS-MySQL/"/>
    <id>https://unit-serow.github.io/2020/02/14/RDBMS-MySQL/</id>
    <published>2020-02-14T13:44:16.000Z</published>
    <updated>2020-02-14T13:46:11.950Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Feb 14 2020 21:46:16 GMT+0800 (中国标准时间) --><h3 id="RDBMS-MySQL"><a href="#RDBMS-MySQL" class="headerlink" title="RDBMS-MySQL"></a>RDBMS-MySQL</h3><p><strong>RDBMS-MySQL相关概念简述</strong></p><ul><li>数据库: 数据库是一些关联表的集合</li><li>数据表: 表是数据的矩阵，在一个数据库中的表看起来像一个简单的电子表格</li><li>列: 一列(数据元素) 包含了相同类型的数据, 例如邮政编码的数据</li><li>行: 一行（=元组，或记录）是一组相关的数据，例如一条用户订阅的数据</li><li>冗余: 存储两倍数据，冗余降低了性能，但提高了数据的安全性</li><li>主键: 主键是唯一的。一个数据表中只能包含一个主键。你可以使用主键来查询数据</li><li>外键: 外键用于关联两个表</li><li>复合键: 复合键（组合键）将多个列作为一个索引键，一般用于复合索引</li><li>索引: 使用索引可快速访问数据库表中的特定信息。索引是对数据库表中一列或多列的值进行排序的一种结构。类似于书籍的目录</li><li>参照完整性: 参照的完整性要求关系中不允许引用不存在的实体。与实体完整性是关系模型必须满足的完整性约束条件，目的是保证数据的一致性</li><li>表头(header): 每一列的名称</li><li>列(col): 具有相同数据类型的数据的集合</li><li>行(row): 每一行用来描述某条记录的具体信息</li><li>值(value): 行的具体信息, 每个值必须与该列的数据类型相同</li><li>键(key): 键的值在当前列中具有唯一性</li><li>所谓的”关系型”可以理解为”表格”的概念, 一个关系型数据库由一个或数个表格组成</li></ul><hr><p><strong>MySQL</strong></p><ul><li>MySQL 为关系型数据库(Relational Database Management System)</li><li>MySQL -server- MySQL 服务器程序</li><li>MySQL-client - MySQL 客户端程序，用于连接并操作Mysql服务器</li><li>MySQL-devel - 库和包含文件，如果你想要编译其它MySQL客户端</li><li>MySQL-shared - 该软件包包含某些语言和应用程序需要动态装载的共享库(libmysqlclient.so)，使用MySQL</li><li>MySQL-bench - MySQL数据库服务器的基准和性能测试工具</li></ul><hr><p><strong>RDBMS-MySQL的三种连接方式</strong></p><ul><li>二进制连接 mysql -u username -p password</li><li>Shell连接 使用MySQLadmin工具</li><li>PHP连接不做阐述</li></ul><hr><p><strong>其他概念</strong></p><ul><li>数据类型</li><li>运算符</li><li>正则表达式</li><li>索引</li><li>元数据</li><li>序列</li><li>函数</li><li>MySQLadmin指令</li><li>PHP连接</li><li>SQL注入</li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Fri Feb 14 2020 21:46:16 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;RDBMS-MySQL&quot;&gt;&lt;a href=&quot;#RDBMS-MySQL&quot; class=&quot;headerlink&quot; title=&quot;RDBMS-My
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="RDBMS" scheme="https://unit-serow.github.io/tags/RDBMS/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-3</title>
    <link href="https://unit-serow.github.io/2020/02/14/MySQL-3/"/>
    <id>https://unit-serow.github.io/2020/02/14/MySQL-3/</id>
    <published>2020-02-14T12:36:41.000Z</published>
    <updated>2020-02-14T12:40:55.164Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Feb 14 2020 20:40:58 GMT+0800 (中国标准时间) --><h3 id="MySQL-3"><a href="#MySQL-3" class="headerlink" title="MySQL-3"></a>MySQL-3</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SHOW DATABASES;</span><br><span class="line">CREATE DATABLE TEST1;</span><br><span class="line">USE TEST1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; CREATE DATABASE TEST1;</span><br><span class="line">Query OK, 1 row affected (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; USE TEST1;</span><br><span class="line">Database changed</span><br></pre></td></tr></table></figure><p>分别建立TABLES1,TABLES2(唯一键值)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE TABLES1(</span><br><span class="line">ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">A VARCHAR(100) NOT NULL,</span><br><span class="line">B VARCHAR(100) NOT NULL,</span><br><span class="line">C VARCHAR(100) NOT NULL,</span><br><span class="line">D VARCHAR(100) NOT NULL,</span><br><span class="line">TIME DATE,</span><br><span class="line">PRIMARY KEY ( ID, A, B )</span><br><span class="line">)ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE TABLES2(</span><br><span class="line">ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">A VARCHAR(100) NOT NULL,</span><br><span class="line">B VARCHAR(100) NOT NULL,</span><br><span class="line">C VARCHAR(100) NOT NULL,</span><br><span class="line">D VARCHAR(100) NOT NULL,</span><br><span class="line">TIME DATE,</span><br><span class="line">UNIQUE ( ID, A, B )</span><br><span class="line">)ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TABLE TABLES1(</span><br><span class="line">    -&gt; ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">    -&gt; A VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; B VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; C VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; D VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; TIME DATE,</span><br><span class="line">    -&gt; PRIMARY KEY ( ID, A, B )</span><br><span class="line">    -&gt; )ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br><span class="line">Query OK, 0 rows affected (0.061 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TABLE TABLES2(</span><br><span class="line">    -&gt; ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">    -&gt; A VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; B VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; C VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; D VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; TIME DATE,</span><br><span class="line">    -&gt; UNIQUE ( ID, A, B )</span><br><span class="line">    -&gt; )ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br><span class="line">Query OK, 0 rows affected (0.006 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>向TABLES1插入数据</strong></p><ul><li>4<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES1</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br></pre></td></tr></table></figure></li><li>1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES1</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&#39;2020-02-13&#39;);</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.003 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1 (A,B,C,D,TIME) VALUES (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1 (A,B,C,D,TIME) VALUES (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1 (A,B,C,D,TIME) VALUES (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&#39;2020-02-13&#39;);</span><br><span class="line">Query OK, 1 row affected (0.002 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>复制TABLES1内数据到TABLES2</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES2 (ID,A,B,C,D,TIME)</span><br><span class="line">SELECT ID,A,B,C,D,TIME</span><br><span class="line">FROM TABLES1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES2 (ID,A,B,C,D,TIME)</span><br><span class="line">    -&gt; SELECT ID,A,B,C,D,TIME</span><br><span class="line">    -&gt; FROM TABLES1;</span><br><span class="line">Query OK, 5 rows affected (0.001 sec)</span><br><span class="line">Records: 5  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><hr><p><strong>复制TABLES1内数据到TABLES3</strong></p><ul><li>查看标结构<blockquote><p><code>SHOW CREATE TABLE TABLES1 \G;</code></p></blockquote></li></ul><p><strong>将表内结构规划语句拷贝并执行,并命名为TABLES3</strong><br><strong>复制数据</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES3 (ID,A,B,C,D,TIME)</span><br><span class="line">SELECT ID,A,B,C,D,TIME</span><br><span class="line">FROM TABLES1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW CREATE TABLE TABLES1 \G;</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">       Table: TABLES1</span><br><span class="line">Create Table: CREATE TABLE &#96;TABLES1&#96; (</span><br><span class="line">  &#96;ID&#96; int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  &#96;A&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;B&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;C&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;D&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;TIME&#96; date DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (&#96;ID&#96;,&#96;A&#96;,&#96;B&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB AUTO_INCREMENT&#x3D;6 DEFAULT CHARSET&#x3D;utf8</span><br><span class="line">1 row in set (0.000 sec)</span><br><span class="line"></span><br><span class="line">ERROR: No query specified</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE &#96;TABLES3&#96; (</span><br><span class="line">  &#96;ID&#96; int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  &#96;A&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;B&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;C&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;D&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;TIME&#96; date DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (&#96;ID&#96;,&#96;A&#96;,&#96;B&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB AUTO_INCREMENT&#x3D;6 DEFAULT CHARSET&#x3D;utf8</span><br><span class="line">;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TABLE &#96;TABLES3&#96; (</span><br><span class="line">    -&gt;   &#96;ID&#96; int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">    -&gt;   &#96;A&#96; varchar(100) NOT NULL,</span><br><span class="line">    -&gt;   &#96;B&#96; varchar(100) NOT NULL,</span><br><span class="line">    -&gt;   &#96;C&#96; varchar(100) NOT NULL,</span><br><span class="line">    -&gt;   &#96;D&#96; varchar(100) NOT NULL,</span><br><span class="line">    -&gt;   &#96;TIME&#96; date DEFAULT NULL,</span><br><span class="line">    -&gt;   PRIMARY KEY (&#96;ID&#96;,&#96;A&#96;,&#96;B&#96;)</span><br><span class="line">    -&gt; ) ENGINE&#x3D;InnoDB AUTO_INCREMENT&#x3D;6 DEFAULT CHARSET&#x3D;utf8;</span><br><span class="line">Query OK, 0 rows affected (0.042 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES3 (ID,A,B,C,D,TIME)</span><br><span class="line">SELECT ID,A,B,C,D,TIME</span><br><span class="line">FROM TABLES1;</span><br></pre></td></tr></table></figure><hr><p><code>SHOW TABLES;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW TABLES;</span><br><span class="line">+-----------------+</span><br><span class="line">| Tables_in_TEST1 |</span><br><span class="line">+-----------------+</span><br><span class="line">| TABLES1         |</span><br><span class="line">| TABLES2         |</span><br><span class="line">| TABLES3         |</span><br><span class="line">+-----------------+</span><br><span class="line">3 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM TABLES1;</span><br><span class="line">SELECT * FROM TABLES2;</span><br><span class="line">SELECT * FROM TABLES3;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES1;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  1 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  2 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  3 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  4 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  5 | 2 | 3 | 4 | 5 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">5 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES2;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  1 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  2 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  3 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  4 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  5 | 2 | 3 | 4 | 5 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">5 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES3;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  1 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  2 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  3 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  4 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  5 | 2 | 3 | 4 | 5 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">5 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>统计表TABLES1内A列与B列中重复的数据</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT(*) as repetitions, A, B</span><br><span class="line">FROM TABLES1</span><br><span class="line">GROUP BY A, B</span><br><span class="line">HAVING repetitions &gt; 1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT COUNT(*) as repetitions, A, B</span><br><span class="line">    -&gt; FROM TABLES1</span><br><span class="line">    -&gt; GROUP BY A, B</span><br><span class="line">    -&gt; HAVING repetitions &gt; 1;</span><br><span class="line">+-------------+---+---+</span><br><span class="line">| repetitions | A | B |</span><br><span class="line">+-------------+---+---+</span><br><span class="line">|           4 | 1 | 2 |</span><br><span class="line">+-------------+---+---+</span><br><span class="line">1 row in set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>过滤重复数据并输出TABLES1内数据</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT A, B</span><br><span class="line">FROM TABLES1;</span><br><span class="line">或</span><br><span class="line">SELECT A, B</span><br><span class="line">FROM TABLES2</span><br><span class="line">GROUP BY (C);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT DISTINCT A, B</span><br><span class="line">    -&gt; FROM TABLES1;</span><br><span class="line">+---+---+</span><br><span class="line">| A | B |</span><br><span class="line">+---+---+</span><br><span class="line">| 1 | 2 |</span><br><span class="line">| 2 | 3 |</span><br><span class="line">+---+---+</span><br><span class="line">2 rows in set (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; SELECT A, B</span><br><span class="line">    -&gt; FROM TABLES2</span><br><span class="line">    -&gt; GROUP BY (C);</span><br><span class="line">+---+---+</span><br><span class="line">| A | B |</span><br><span class="line">+---+---+</span><br><span class="line">| 1 | 2 |</span><br><span class="line">| 2 | 3 |</span><br><span class="line">+---+---+</span><br><span class="line">2 rows in set (0.001 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>删除TABLES1内重复数据</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE tmp SELECT A, B, C, D FROM TABLES1 GROUP BY (C);</span><br><span class="line">DROP TABLE TABLES1;</span><br><span class="line">ALTER TABLE tmp RENAME TO TABLES1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TABLE tmp SELECT A, B, C, D FROM TABLES1 GROUP BY (C);</span><br><span class="line">Query OK, 2 rows affected (0.027 sec)</span><br><span class="line">Records: 2  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; DROP TABLE TABLES1;</span><br><span class="line">Query OK, 0 rows affected (0.002 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE tmp RENAME TO TABLES1;</span><br><span class="line">Query OK, 0 rows affected (0.002 sec)</span><br></pre></td></tr></table></figure><p><code>SELECT * FROM TABLES1;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES1;</span><br><span class="line">+---+---+---+---+</span><br><span class="line">| A | B | C | D |</span><br><span class="line">+---+---+---+---+</span><br><span class="line">| 1 | 2 | 3 | 4 |</span><br><span class="line">| 2 | 3 | 4 | 5 |</span><br><span class="line">+---+---+---+---+</span><br><span class="line">2 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>或设置主键以清理TABLEST2内重复数据</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER IGNORE TABLE TABLES2</span><br><span class="line">ADD PRIMARY KEY (A, B);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER IGNORE TABLE TABLES2</span><br><span class="line">    -&gt; ADD PRIMARY KEY (A, B);</span><br><span class="line">Query OK, 5 rows affected (0.059 sec)              </span><br><span class="line">Records: 5  Duplicates: 3  Warnings: 0</span><br></pre></td></tr></table></figure><p><code>SELECT * FROM TABLES2;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES2;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  1 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  5 | 2 | 3 | 4 | 5 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">2 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Fri Feb 14 2020 20:40:58 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;MySQL-3&quot;&gt;&lt;a href=&quot;#MySQL-3&quot; class=&quot;headerlink&quot; title=&quot;MySQL-3&quot;&gt;&lt;/a&gt;MyS
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="RDBMS" scheme="https://unit-serow.github.io/tags/RDBMS/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-2</title>
    <link href="https://unit-serow.github.io/2020/02/14/MySQL-2/"/>
    <id>https://unit-serow.github.io/2020/02/14/MySQL-2/</id>
    <published>2020-02-14T09:19:48.000Z</published>
    <updated>2020-02-14T12:51:07.441Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Fri Feb 14 2020 21:06:20 GMT+0800 (中国标准时间) --><h3 id="MySQL-2"><a href="#MySQL-2" class="headerlink" title="MySQL-2"></a>MySQL-2</h3><p><strong>创建并选取数据库</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SHOW DATABASES;</span><br><span class="line">CREATE DATABASE TEST1;</span><br><span class="line">USE TEST1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; CREATE DATABASE TEST1;</span><br><span class="line">Query OK, 1 row affected (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; USE TEST1;</span><br><span class="line">Database changed</span><br></pre></td></tr></table></figure><p><strong>创建临时表TABLEST6</strong><br><code>CREATE TEMPORARY TABLE TABLES6 (B INT, C CHAR(1) );</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TEMPORARY TABLE TABLES6 (B INT, C CHAR(1) );</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>向表内插入字段</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES6 ADD A INT FIRST;</span><br><span class="line">ALTER TABLE TABLES6 ADD D INT AFTER C;</span><br><span class="line">ALTER TABLE TABLES6 ADD E CHAR AFTER D;</span><br><span class="line">ALTER TABLE TABLES6 ADD G CHAR AFTER E;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 ADD A INT FIRST;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 ADD D INT AFTER C;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 ADD E CHAR AFTER D;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 ADD G CHAR AFTER E;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><p><strong>查看表结构</strong><br><code>SHOW COLUMNS FROM TABLES6;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW COLUMNS FROM TABLES6;</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| Field | Type    | Null | Key | Default | Extra |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| A     | int(11) | YES  |     | NULL    |       |</span><br><span class="line">| B     | int(11) | YES  |     | NULL    |       |</span><br><span class="line">| C     | char(1) | YES  |     | NULL    |       |</span><br><span class="line">| D     | int(11) | YES  |     | NULL    |       |</span><br><span class="line">| E     | char(1) | YES  |     | NULL    |       |</span><br><span class="line">| G     | char(1) | YES  |     | NULL    |       |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">6 rows in set (0.001 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>修改字符类型</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES6 MODIFY A INT(10);</span><br><span class="line">ALTER TABLE TABLES6 MODIFY B INT(10);</span><br><span class="line">ALTER TABLE TABLES6 MODIFY C INT(10);</span><br><span class="line">ALTER TABLE TABLES6 MODIFY D CHAR(10);</span><br><span class="line">ALTER TABLE TABLES6 MODIFY E CHAR(10);</span><br><span class="line">ALTER TABLE TABLES6 MODIFY G CHAR(10);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 MODIFY A INT(10);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 MODIFY B INT(10);</span><br><span class="line">Query OK, 0 rows affected (0.000 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 MODIFY C INT(10);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 MODIFY D CHAR(10);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 MODIFY E CHAR(10);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 MODIFY G CHAR(10);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><p><strong>查看表结构</strong><br><code>SHOW COLUMNS FROM TABLES6;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW COLUMNS FROM TABLES6;</span><br><span class="line">+-------+----------+------+-----+---------+-------+</span><br><span class="line">| Field | Type     | Null | Key | Default | Extra |</span><br><span class="line">+-------+----------+------+-----+---------+-------+</span><br><span class="line">| A     | int(10)  | YES  |     | NULL    |       |</span><br><span class="line">| B     | int(10)  | YES  |     | NULL    |       |</span><br><span class="line">| C     | int(10)  | YES  |     | NULL    |       |</span><br><span class="line">| D     | char(10) | YES  |     | NULL    |       |</span><br><span class="line">| E     | char(10) | YES  |     | NULL    |       |</span><br><span class="line">| G     | char(10) | YES  |     | NULL    |       |</span><br><span class="line">+-------+----------+------+-----+---------+-------+</span><br><span class="line">6 rows in set (0.001 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>修改字段名称</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES6 CHANGE G F BIGINT;</span><br><span class="line">ALTER TABLE TABLES6 CHANGE F F CHAR(10);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 CHANGE G F BIGINT;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 CHANGE F F CHAR(10);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><hr><p><strong>修改默认值</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES6</span><br><span class="line">MODIFY D BIGINT NOT NULL DEFAULT 1000;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES6</span><br><span class="line">MODIFY E BIGINT NOT NULL DEFAULT 1000;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES6</span><br><span class="line">MODIFY F BIGINT NOT NULL DEFAULT 100;</span><br></pre></td></tr></table></figure><p><code>ALTER TABLE TABLES6 ALTER F SET DEFAULT 1000;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6</span><br><span class="line">    -&gt; MODIFY D BIGINT NOT NULL DEFAULT 1000;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6</span><br><span class="line">    -&gt; MODIFY E BIGINT NOT NULL DEFAULT 1000;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6</span><br><span class="line">    -&gt; MODIFY F BIGINT NOT NULL DEFAULT 100;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 ALTER F SET DEFAULT 1000;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><p><strong>查看表结构</strong><br><code>SHOW COLUMNS FROM TABLES6;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW COLUMNS FROM TABLES6;</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type       | Null | Key | Default | Extra |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| A     | int(10)    | YES  |     | NULL    |       |</span><br><span class="line">| B     | int(10)    | YES  |     | NULL    |       |</span><br><span class="line">| C     | int(10)    | YES  |     | NULL    |       |</span><br><span class="line">| D     | bigint(20) | NO   |     | 1000    |       |</span><br><span class="line">| E     | bigint(20) | NO   |     | 1000    |       |</span><br><span class="line">| F     | bigint(20) | NO   |     | 1000    |       |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">6 rows in set (0.002 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>修改表TABLES6的存储引擎</strong><br><code>ALTER TABLE TABLES6 ENGINE = MYISAM;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 ENGINE &#x3D; MYISAM;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><hr><p><strong>查看存储结构</strong><br><code>SHOW TABLE STATUS LIKE &#39;TABLES6&#39;;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW TABLE STATUS LIKE &#39;TABLES6&#39;;</span><br><span class="line">Empty set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>修改TABLES6为TABLES4</strong><br><code>ALTER TABLE TABLES6 RENAME TO TABLES4;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 RENAME TO TABLES4;</span><br><span class="line">Query OK, 0 rows affected (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>创建索引并删除多余索引</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES4 ADD INDEX (B);</span><br><span class="line">ALTER TABLE TABLES4 ADD INDEX (A);</span><br><span class="line">ALTER TABLE TABLES4 DROP INDEX B;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES4 ADD INDEX (B);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES4 ADD INDEX (A);</span><br><span class="line">Query OK, 0 rows affected (0.002 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES4 DROP INDEX B;</span><br><span class="line">Query OK, 0 rows affected (0.002 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><hr><p><strong>设A为主键(作为主键索引,A值不能为空)</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES4 MODIFY A INT NOT NULL;</span><br><span class="line">ALTER TABLE TABLES4 ADD PRIMARY KEY (B);</span><br><span class="line">ALTER TABLE TABLES4 DROP PRIMARY KEY;</span><br><span class="line">ALTER TABLE TABLES4 ADD PRIMARY KEY (A);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES4 ADD PRIMARY KEY (B);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES4 DROP PRIMARY KEY;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES4 ADD PRIMARY KEY (A);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><hr><p><strong>列出索引</strong><br><code>SHOW INDEX FROM TABLES4;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW INDEX FROM TABLES4;</span><br><span class="line">+---------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+</span><br><span class="line">| Table   | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |</span><br><span class="line">+---------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+</span><br><span class="line">| TABLES4 |          0 | PRIMARY  |            1 | A           | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |</span><br><span class="line">| TABLES4 |          1 | A        |            1 | A           | A         |        NULL |     NULL | NULL   |      | BTREE      |         |               |</span><br><span class="line">+---------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+</span><br><span class="line">2 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>删除TABLES4</strong><br><code>DROP TABLE TABLES4;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; DROP TABLE TABLES4;</span><br><span class="line">Query OK, 0 rows affected (0.000 sec)</span><br></pre></td></tr></table></figure><hr><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Fri Feb 14 2020 21:06:20 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;MySQL-2&quot;&gt;&lt;a href=&quot;#MySQL-2&quot; class=&quot;headerlink&quot; title=&quot;MySQL-2&quot;&gt;&lt;/a&gt;MyS
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="RDBMS" scheme="https://unit-serow.github.io/tags/RDBMS/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-1</title>
    <link href="https://unit-serow.github.io/2020/02/14/MySQL-1/"/>
    <id>https://unit-serow.github.io/2020/02/14/MySQL-1/</id>
    <published>2020-02-13T20:01:01.000Z</published>
    <updated>2020-02-14T18:20:18.075Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Sat Feb 15 2020 02:21:59 GMT+0800 (中国标准时间) --><h3 id="MySQL-1"><a href="#MySQL-1" class="headerlink" title="MySQL-1"></a>MySQL-1</h3><p><strong>应用-1</strong></p><p><strong>所使用数据模型:</strong></p><blockquote><p>六行六列<br>TABLES1:</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ID-A-B-C-D-time]</span><br><span class="line">[1-1-2-3-4-now]</span><br><span class="line">[2-1-2-3-4-now]</span><br><span class="line">[3-1-2-3-4-now]</span><br><span class="line">[4-1-2-3-4-now]</span><br><span class="line">[5-2-3-4-5-2020-02-13]</span><br></pre></td></tr></table></figure><blockquote><p>TABLES2:</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ID-A-B-C-D-time]</span><br><span class="line">[1-1-2-3-4-now]</span><br><span class="line">[2-2-3-4-5-now]</span><br><span class="line">[3-2-3-4-5-now]</span><br><span class="line">[4-2-3-4-5-now]</span><br><span class="line">[5-2-3-4-5-2020-02-13]</span><br></pre></td></tr></table></figure><blockquote><p>TABLES3:</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ID-A-B-C-D-time]</span><br><span class="line">[1-1-2-3-4-now]</span><br><span class="line">[2-2-3-4-5-now]</span><br><span class="line">[3-6-7-8-9-now]</span><br><span class="line">[4-6-7-8-9-now]</span><br><span class="line">[5-6-7-8-9-2020-02-13]</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SHOW DATABASELS;</span><br><span class="line">CREATE DATABASE TEST1;</span><br><span class="line">USE TEST1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; CREATE DATABASE TEST1;</span><br><span class="line">Query OK, 1 row affected (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; USE TEST1;</span><br><span class="line">Database changed</span><br></pre></td></tr></table></figure><p><strong>分别创建TABLES1,TABLES2,TABLES3</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE TABLES1(</span><br><span class="line">ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">A VARCHAR(100) NOT NULL,</span><br><span class="line">B VARCHAR(100) NOT NULL,</span><br><span class="line">C VARCHAR(100) NOT NULL,</span><br><span class="line">D VARCHAR(100) NOT NULL,</span><br><span class="line">TIME DATE,</span><br><span class="line">PRIMARY KEY ( ID )</span><br><span class="line">)ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE TABLES2(</span><br><span class="line">ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">A VARCHAR(100) NOT NULL,</span><br><span class="line">B VARCHAR(100) NOT NULL,</span><br><span class="line">C VARCHAR(100) NOT NULL,</span><br><span class="line">D VARCHAR(100) NOT NULL,</span><br><span class="line">TIME DATE,</span><br><span class="line">PRIMARY KEY ( ID )</span><br><span class="line">)ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE TABLES3(</span><br><span class="line">ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">A VARCHAR(100) NOT NULL,</span><br><span class="line">B VARCHAR(100) NOT NULL,</span><br><span class="line">C VARCHAR(100) NOT NULL,</span><br><span class="line">D VARCHAR(100) NOT NULL,</span><br><span class="line">TIME DATE,</span><br><span class="line">PRIMARY KEY ( ID )</span><br><span class="line">)ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TABLE TABLES1(</span><br><span class="line">    -&gt; ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">    -&gt; A VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; B VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; C VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; D VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; TIME DATE,</span><br><span class="line">    -&gt; PRIMARY KEY ( ID )</span><br><span class="line">    -&gt; )ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br><span class="line">Query OK, 0 rows affected (0.046 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TABLE TABLES2(</span><br><span class="line">    -&gt; ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">    -&gt; A VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; B VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; C VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; D VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; TIME DATE,</span><br><span class="line">    -&gt; PRIMARY KEY ( ID )</span><br><span class="line">    -&gt; )ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br><span class="line">Query OK, 0 rows affected (0.043 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TABLE TABLES3(</span><br><span class="line">    -&gt; ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">    -&gt; A VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; B VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; C VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; D VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; TIME DATE,</span><br><span class="line">    -&gt; PRIMARY KEY ( ID )</span><br><span class="line">    -&gt; )ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br><span class="line">Query OK, 0 rows affected (0.005 sec)</span><br></pre></td></tr></table></figure><p><code>SHOW TABLES;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW TABLES;</span><br><span class="line">+-----------------+</span><br><span class="line">| Tables_in_TEST1 |</span><br><span class="line">+-----------------+</span><br><span class="line">| TABLES1         |</span><br><span class="line">| TABLES2         |</span><br><span class="line">| TABLES3         |</span><br><span class="line">+-----------------+</span><br><span class="line">3 rows in set (0.001 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>分别向TABLES1,TABLES2,TABLES3内填充数据</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">BEGIN;</span><br><span class="line">SET AUTOCOMMIT&#x3D;0;</span><br><span class="line">SAVEPOINT A;</span><br></pre></td></tr></table></figure><ul><li>4<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES1</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br></pre></td></tr></table></figure></li><li>1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES1</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&#39;2020-02-13&#39;);</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1 (A,B,C,D,TIME) VALUES (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1 (A,B,C,D,TIME) VALUES (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1 (A,B,C,D,TIME) VALUES (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&#39;2020-02-13&#39;);</span><br><span class="line">Query OK, 1 row affected (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RELEASE SAVEPOINT A;</span><br><span class="line">SELECT * FROM TABLES1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; RELEASE SAVEPOINT A;</span><br><span class="line">Query OK, 0 rows affected (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES1;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  1 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  2 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  3 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  4 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  5 | 2 | 3 | 4 | 5 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">5 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RELEASE SAVEPOINT A;</span><br><span class="line">COMMIT WORK;</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">STRAT TRANSACTION&#x2F;BEGIN;</span><br><span class="line">SET AUTOCOMMIT&#x3D;0;</span><br><span class="line">SAVEPOINT A;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 1</span><br><span class="line">INSERT INTO TABLES2</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br></pre></td></tr></table></figure><ul><li>3<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES2</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,NOW());</span><br></pre></td></tr></table></figure></li><li>1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES2</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&#39;2020-02-13&#39;);</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES2</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.002 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES2</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES2 (A,B,C,D,TIME) VALUES (&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES2 (A,B,C,D,TIME) VALUES (&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES2</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&#39;2020-02-13&#39;);</span><br><span class="line">Query OK, 1 row affected (0.001 sec)</span><br></pre></td></tr></table></figure><p><code>SELECT * FROM TABLES2;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES2;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  1 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  2 | 2 | 3 | 4 | 5 | 2020-02-14 |</span><br><span class="line">|  3 | 2 | 3 | 4 | 5 | 2020-02-14 |</span><br><span class="line">|  4 | 2 | 3 | 4 | 5 | 2020-02-14 |</span><br><span class="line">|  5 | 2 | 3 | 4 | 5 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">5 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RELEASE SAVEPOINT A;</span><br><span class="line">COMMIT WORK;</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">STRAT TRANSACTION&#x2F;BEGIN; </span><br><span class="line">SET AUTOCOMMIT&#x3D;0;</span><br><span class="line">SAVEPOINT A;</span><br></pre></td></tr></table></figure><ul><li>1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES3</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br></pre></td></tr></table></figure></li><li>1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES3</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,NOW());</span><br></pre></td></tr></table></figure></li><li>2<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES3</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,NOW());</span><br></pre></td></tr></table></figure></li><li>1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES3</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&#39;2020-02-13&#39;);</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES3</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES3</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES3</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES3 (A,B,C,D,TIME) VALUES (&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES3</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&#39;2020-02-13&#39;);</span><br><span class="line">Query OK, 1 row affected (0.001 sec)</span><br></pre></td></tr></table></figure><p><code>SELECT * FROM TABLES3;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES3;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  1 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  2 | 2 | 3 | 4 | 5 | 2020-02-14 |</span><br><span class="line">|  3 | 6 | 7 | 8 | 9 | 2020-02-14 |</span><br><span class="line">|  4 | 6 | 7 | 8 | 9 | 2020-02-14 |</span><br><span class="line">|  5 | 6 | 7 | 8 | 9 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">5 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RELEASE SAVEPOINT A;</span><br><span class="line">COMMIT WORK;</span><br></pre></td></tr></table></figure><hr><p><strong>从三个表中选择所有列A匹配1的数据，返回所有列A中映射于列1的数据，并让列A靠左</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SELECT A,B FROM TABLES1</span><br><span class="line">WHERE A&#x3D;&#39;1&#39;</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT A,B FROM TABLES2</span><br><span class="line">WHERE A&#x3D;&#39;1&#39;</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT A,B FROM TABLES3</span><br><span class="line">WHERE A&#x3D;&#39;1&#39;</span><br><span class="line">ORDER BY A;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT A,B FROM TABLES1</span><br><span class="line">    -&gt; WHERE A&#x3D;&#39;1&#39;</span><br><span class="line">    -&gt; UNION ALL</span><br><span class="line">    -&gt; SELECT A,B FROM TABLES2</span><br><span class="line">    -&gt; WHERE A&#x3D;&#39;1&#39;</span><br><span class="line">    -&gt; UNION ALL</span><br><span class="line">    -&gt; SELECT A,B FROM TABLES3</span><br><span class="line">    -&gt; WHERE A&#x3D;&#39;1&#39;</span><br><span class="line">    -&gt; ORDER BY A;</span><br><span class="line">+---+---+</span><br><span class="line">| A | B |</span><br><span class="line">+---+---+</span><br><span class="line">| 1 | 2 |</span><br><span class="line">| 1 | 2 |</span><br><span class="line">+---+---+</span><br><span class="line">2 rows in set (0.001 sec)</span><br></pre></td></tr></table></figure><p><strong>查询并输出表TABLES1内列A中匹配数值2和列B中匹配数值3与列TIME中匹配以3结尾的数据</strong></p><blockquote><p><code>SELECT * FROM TABLES1 WHERE A=2 AND B=3 AND TIME LIKE &#39;%3&#39;;</code></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES2 WHERE A&#x3D;2 AND B&#x3D;3 AND TIME LIKE &#39;%3&#39;;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  5 | 2 | 3 | 4 | 5 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">1 row in set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>将表A内数据利用COUNT()函数按数值类型进行数据分组并求其平均值,并按降序排列(默认升序)</strong></p><blockquote><p><code>SELECT A, COUNT(*) FROM TABLES2 GROUP BY A DESC;</code></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT A, COUNT(*) FROM TABLES2 GROUP BY A DESC;</span><br><span class="line">+---+----------+</span><br><span class="line">| A | COUNT(*) |</span><br><span class="line">+---+----------+</span><br><span class="line">| 2 |        4 |</span><br><span class="line">| 1 |        1 |</span><br><span class="line">+---+----------+</span><br><span class="line">2 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>TABLES1&amp;TABLES2-left&amp;right</strong><br><strong>将TABLES1的A,B列与TABLES2的B,C列进行以下三种连接:</strong><br><strong>将标识为a的A,B列于标识为b的C列进行等值连接</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT a.A, a.B, b.C FROM TABLES1 a INNER JOIN TABLES2 b ON a.B &#x3D; b.B; </span><br><span class="line">SELECT a.A, a.B, b.C FROM TABLES1 a, TABLES2 b WHERE a.B &#x3D; b.B;</span><br></pre></td></tr></table></figure><ul><li>左连接:<blockquote><p><code>SELECT a.A, a.B, b.C FROM TABLES1 a LEFT JOIN TABLES2 b ON a.B = b.B;</code></p></blockquote></li><li>右连接:<blockquote><p><code>SELECT a.A, a.B, b.C FROM TABLES1 a RIGHT JOIN TABLES2 b ON a.B = b.B;</code></p></blockquote></li></ul><p><strong>如下所示:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT a.A, a.B, b.C FROM TABLES1 a INNER JOIN TABLES2 b ON a.B &#x3D; b.B; </span><br><span class="line">+---+---+---+</span><br><span class="line">| A | B | C |</span><br><span class="line">+---+---+---+</span><br><span class="line">| 1 | 2 | 3 |</span><br><span class="line">| 1 | 2 | 3 |</span><br><span class="line">| 1 | 2 | 3 |</span><br><span class="line">| 1 | 2 | 3 |</span><br><span class="line">| 2 | 3 | 4 |</span><br><span class="line">| 2 | 3 | 4 |</span><br><span class="line">| 2 | 3 | 4 |</span><br><span class="line">| 2 | 3 | 4 |</span><br><span class="line">+---+---+---+</span><br><span class="line">8 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT a.A, a.B, b.C FROM TABLES1 a LEFT JOIN TABLES2 b ON a.B &#x3D; b.B; </span><br><span class="line">+---+---+------+</span><br><span class="line">| A | B | C    |</span><br><span class="line">+---+---+------+</span><br><span class="line">| 1 | 2 | 3    |</span><br><span class="line">| 1 | 2 | 3    |</span><br><span class="line">| 1 | 2 | 3    |</span><br><span class="line">| 1 | 2 | 3    |</span><br><span class="line">| 2 | 3 | 4    |</span><br><span class="line">| 2 | 3 | 4    |</span><br><span class="line">| 2 | 3 | 4    |</span><br><span class="line">| 2 | 3 | 4    |</span><br><span class="line">+---+---+------+</span><br><span class="line">8 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT a.A, a.B, b.C FROM TABLES1 a RIGHT JOIN TABLES2 b ON a.B &#x3D; b.B;</span><br><span class="line">+------+------+---+</span><br><span class="line">| A    | B    | C |</span><br><span class="line">+------+------+---+</span><br><span class="line">| 1    | 2    | 3 |</span><br><span class="line">| 1    | 2    | 3 |</span><br><span class="line">| 1    | 2    | 3 |</span><br><span class="line">| 1    | 2    | 3 |</span><br><span class="line">| 2    | 3    | 4 |</span><br><span class="line">| 2    | 3    | 4 |</span><br><span class="line">| 2    | 3    | 4 |</span><br><span class="line">| 2    | 3    | 4 |</span><br><span class="line">+------+------+---+</span><br><span class="line">8 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Sat Feb 15 2020 02:21:59 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;MySQL-1&quot;&gt;&lt;a href=&quot;#MySQL-1&quot; class=&quot;headerlink&quot; title=&quot;MySQL-1&quot;&gt;&lt;/a&gt;MyS
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="RDBMS" scheme="https://unit-serow.github.io/tags/RDBMS/"/>
    
  </entry>
  
  <entry>
    <title>随笔-2020-2-2-13</title>
    <link href="https://unit-serow.github.io/2020/02/13/%E9%9A%8F%E7%AC%94-2020-2-2-13/"/>
    <id>https://unit-serow.github.io/2020/02/13/%E9%9A%8F%E7%AC%94-2020-2-2-13/</id>
    <published>2020-02-13T07:49:27.000Z</published>
    <updated>2020-02-13T07:50:37.095Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">输入密码</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="9645aba3c405a1754e58aac90349010fdab76d61cc44cea81430b6f32f4413f8">0267ec72f19b8c198697a4f72870a3a8fdb13c82d8fe26fd02d6f4aa3e69bed80c46c992cbc5b9fca21a4cd65108893d0d4d15e9d74720de0053f56abed3d754dbdb007e6595d76aa97f7f2f563ab275a246f4cf4949a558ac8c089c97fd97badbd85c679678a0a6f3e82b75c9f88d1d26021f5d9ba15ecbadc99229c5481a6c71b3193f0a64503ea1445c9fbac346b8f86cc3839172c3a0212223815ee4b128c8d4703e285db0eeb20a47181eabdd4e0f05da1bbf7bbd688a0e4aeee5fe5f70cda970e835a6e8156684e1a21d11cad66040c456d42b6ddd59bd3158e4d4c4c719911bfe1f2f6b4a038882738f4a8961ee738eba8413c432caa23d808e12961d5e5bbe90aaf7f37328299e476592409659a1e67504d2a4975cb2d0abe00bef6ba36b6cb626aa5b7291f9ca2983ab31aec6d85707621d43e42ca02bb7caf4d7d1ee56ba6455d9e367e0f851c0a0d4c71d559d32d08cf82967a465c38ba37d59c413e8a3ff74dc4eba81e0b81ad08a309f2580f948d54b4a5b8dc91a764fd8a15f684c610d14d06efbef4cbeb9aeafb9d0927d1267976c351d90a8fff76a9417559070764f3ba3fcd37fa900f0734e96da59401c5f92857f207b04bef12c99d5ee8d65e91ebb6b9d77e7f1cad6f1f0d297fccae000135c2f48af2ff43b68b7ffc04146b8772537567c20c6bd02f0a6e892edf2df59a9dbc62cace048e9644959964432d0486851a95c1450b46322d8ac75e8fd8657f5e8f27564f8932f30a1a49c25908972324b890bde792b7d3b740151f45179e236bb17907f6b9fcf8f64523c5564b7f60c4e19a508d1bfad66e4315c053d30a76f9bfd4b2c39b58a4ac0ad509dd8afacee0738f9358ad8d99ed3033a8e1321d5e39cb40adbb5fa4cc94814654ac3eb37634e55ff0b297fff04a0cbbb536b3b20bef87fb087fae2c47bc351b4abe875abcfd4f4d7b38c1af44d6091694fb44e9f54e746cd062edd99b66e13e8473722be88c554dd620e7ebf644fe64bddfa35c2170629c8aab9029c37e7f78d49a33616851a48250ab0c107b492ecc1ba2f4a79b8dd5beecb845f8d788157f292f2daf802350c26690fcc5fb967cde3</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      简易加密文案
    
    </summary>
    
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>web crawler-1</title>
    <link href="https://unit-serow.github.io/2020/02/13/web-crawler-1/"/>
    <id>https://unit-serow.github.io/2020/02/13/web-crawler-1/</id>
    <published>2020-02-13T05:36:38.000Z</published>
    <updated>2020-02-13T05:40:49.801Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Feb 13 2020 13:40:55 GMT+0800 (中国标准时间) --><h3 id="网络爬虫的基本原理"><a href="#网络爬虫的基本原理" class="headerlink" title="网络爬虫的基本原理"></a>网络爬虫的基本原理</h3><p><strong>简述:</strong></p><ul><li>英文:web crawler/spider</li><li>用来自动浏览万维网的网络机器人</li><li>其目的一般为编纂网络索引</li><li>搜索引擎抓取的重要组成部分</li><li>爬虫的主要目的是将互联网上的网页下载到本地形成一个或联网内容的镜像内分</li><li>网络搜索引擎等站点通过爬虫软件更新自身的网站内容或其对其他网站的索引</li><li>网络爬虫可以将自己所访问的页面保存下来，以便搜索引擎事后生成索引供用户搜索</li><li>同一时间点的执行逻辑用同一语句描述</li></ul><p><strong>网络爬虫的基本结构及工作流程:</strong></p><ul><li>基本工作流程简述:</li></ul><ol><li>首选选取一部分经过挑选的种子URL</li><li>将这些种子URL放入待抓取URL队列</li><li>从待抓取URL队列中取出待抓取URL，解析其URL，并得到其主机的IP，并将URL对应的网页下载下来，存储到已下载的网页库中</li><li>同时，将这些URL放进已抓取URL队列</li><li>分析已抓取URL队列中的URL，分析其中的其他URL，并且将URL放入待抓取URL队列，从而进入下一个循环</li></ol><ul><li>逻辑简述:<blockquote><p>种子URL-&gt;待抓取URL-&gt;[已下载网页库内[读取URL，DNS解析，网页下载]]/[[已抓取URL内[将已下载URL放进已抓取URL队列]]-抽取新的URL放入待抓取URL队列-&gt;待抓取URL]<br>/符号代表同级关系，执行步骤相同</p></blockquote></li></ul><hr><ul><li>从爬虫的角度对互联网进行划分</li><li>爬虫可以将互联网页面大致划分为五个部分:</li></ul><ol><li>已下载未过期网页</li><li>已下载已过期网页: 抓取到的网页实际上是互联网内容的一个镜像与备份，互联网是动态变化的，一部分互联网上的内容已经发生了变化，这时，这部分抓取到的网页就已经过期了</li><li>待下载-&gt;若干个可知网页: 也就是待抓取URL队列中的那些页面</li><li>可知网页: 还没有抓取下来，也没有在待抓取URL队列中，但是可以通过对已抓取页面或者待抓取URL对应页面进行分析获取到的URL，认为是可知网页</li><li>不可知网页: 还有一部分网页，爬虫是无法直接抓取下载的，称为不可知网页</li></ol><hr><h3 id="抓取策略"><a href="#抓取策略" class="headerlink" title="抓取策略:"></a>抓取策略:</h3><ul><li>待抓取URL队列是构成爬虫系统中必不可失的一部分</li><li>待抓取URL队列中的URL以什么样的顺序排序，将会涉及到所选抓取页面的优先级问题</li><li>而决定这些URL排列顺序的方法，就被称为抓取策略</li></ul><hr><p><strong>几种常见的抓取策略:</strong></p><p><strong>深度优先遍历策略</strong></p><ol><li>深度优先遍历策略是指网络爬虫会从起始页开始，一个链接接一个链接的跟踪下去</li><li>处理完这条线路之后再转入下一个起始页，继续跟踪链接</li></ol><p><strong>逻辑简述:</strong></p><blockquote><p>起始页A，不同路线的链接页面B到I，链接关联:(<code>F-&gt;G，E-&gt;H-&gt;I，B，C，D</code>)</p></blockquote><ol><li><code>A-&gt;F-&gt;G</code></li><li><code>A-&gt;E-&gt;H-&gt;I</code></li><li><code>A-&gt;B</code></li><li><code>A-&gt;C</code></li><li><code>A-&gt;D</code></li></ol><hr><p><strong>宽度优先遍历策略</strong></p><p><strong>基本思路:</strong></p><ol><li>将新下载网页中发现的链接直接插入待抓取URL队列的末尾</li><li>也就是指网络爬虫会抓取起始网页中链接的所有网页</li><li>然后再选择其中的一个链接网页，继续抓取再次网页中链接的所有网页</li></ol><p><strong>逻辑简述:</strong></p><blockquote><p>起始页A，不同路线的链接页面B到I，(<code>F-&gt;G，E-&gt;H-&gt;I，B，C，D</code>)<br><code>A-&gt;B-&gt;C-&gt;D-&gt;E-&gt;F，G，H，I</code></p></blockquote><hr><p><strong>反向链接数策略</strong></p><ol><li>反向链接数是指一个网页被其他网页链接指向的数量</li><li>反向链接数表示的是一个网页的内容受到其他人的推荐的程度</li><li>因此，很多时候搜索引擎的抓取系统会使用这个指标来评价网页的重要程度，从而决定不同网页的抓取先后顺序</li><li>在真实的网络环境中，由于广告链接、作弊链接的存在，反向链接数不能完全等同于所选链接重要程度</li><li>所以搜索引擎往往考虑一些可靠的反向链接数</li></ol><hr><p><strong>Partial PageRank策略</strong></p><ol><li>Partial PageRank算法借鉴了PageRank算法的思想：</li><li>对于已经下载的网页，连同待抓取URL队列中的URL，形成网页集合，计算每个页面的PageRank值</li><li>在计算完之后，将待抓取URL队列中的URL按照PageRank值的大小排列</li><li>最后按照该顺序抓取页面</li></ol><ul><li>每次抓取一个页面，就会重新计算PageRank值</li><li>一种折中方案是：每抓取K个页面后，重新计算一次PageRank值</li><li>但是这种情况还会衍生出另一个问题:对于已经下载下来的页面中分析出的链接，也就是之前提到的未知网页那一部分，暂时是没有PageRank值的</li><li>为了解决这个问题，会给这些页面一个临时的PageRank值:将这个网页所有入链传递进来的PageRank值进行汇总，这样就形成了该未知页面的PageRank值，从而参与排序</li></ul><hr><p><strong>OPIC策略策略</strong></p><ul><li>该算法实际上也是对页面进行一个重要性打分</li></ul><p><strong>基本思路:</strong></p><ol><li>在算法开始前，给所有页面一个相同的初始现金(cash)</li><li>当下载了某个页面P之后，将P的现金分摊给所有从P中分析出的链接，并且将P的现金清空</li><li>对于待抓取URL队列中的所有页面按照现金数进行排序</li></ol><hr><p><strong>大站优先策略</strong></p><p><strong>基本思路:</strong></p><ol><li>对于待抓取URL队列中的所有网页，根据所属的网站进行分类</li><li>对于待下载页面数多的网站，优先下载</li><li>这个策略也因此叫做大站优先策略</li></ol><hr><h3 id="更新策略"><a href="#更新策略" class="headerlink" title="更新策略"></a>更新策略</h3><p><strong>简述:</strong></p><ul><li>互联网是实时变化的，具有很强的动态性</li><li>网页更新策略主要是决定何时更新之前已经下载过的页面</li></ul><p><strong>常见的更新策略有以下三种:</strong></p><p><strong>历史参考策略</strong></p><p><strong>基本思路:</strong></p><ol><li>根据页面以往的历史更新数据，预测该页面未来何时会发生变化</li><li>一般来说，是通过泊松过程进行建模进行预测</li></ol><hr><p><strong>用户体验策略</strong></p><ul><li>索引擎针对于某个查询条件能够返回数量巨大的结果</li><li>但用户往往只关注前几页结果</li><li>所以抓取系统可以优先更新那些现实在查询结果前几页中的网页，而后再更新那些后面的网页</li><li>这种更新策略也是需要用到历史信息的</li></ul><p><strong>基本思路:</strong></p><ol><li>用户体验策略保留网页的多个历史版本</li><li>并且根据过去每次内容变化对搜索质量的影响</li><li>然后得出一个平均值，用这个值作为决定何时重新抓取的依据</li></ol><hr><p><strong>聚类抽样策略</strong></p><ul><li>前面提到的两种更新策略都有一个前提:需要网页的历史信息</li><li>这样就存在两个问题:</li></ul><ol><li>系统要是为每个系统保存多个版本的历史信息，无疑增加了很多的系统负担</li><li>要是新的网页完全没有历史信息，就无法确定更新策略</li></ol><p><strong>基本思路:</strong></p><ul><li>这种策略认为，网页具有很多属性，类似属性的网页，可以认为其更新频率也是类似的</li><li>要计算某一个类别网页的更新频率，只需要对这一类网页抽样，以他们的更新周期作为整个类别的更新周期</li></ul><p><strong>逻辑简述:</strong></p><blockquote><p>原始网页-网页聚类-&gt;[聚类一/聚类二/聚类三]-&gt;对不同类聚类分别抽样-&gt;分别确定更新周期</p></blockquote><hr><h3 id="分布式抓取结构"><a href="#分布式抓取结构" class="headerlink" title="分布式抓取结构"></a>分布式抓取结构</h3><p><strong>概述:</strong></p><ul><li>通常的抓取系统需要面对的是整个互联网上数以亿计的网页</li><li>因此单个抓取程序不可能完成这样的任务，所以往往需要多个抓取程序一起来处理</li><li>一般来说抓取系统往往是一个分布式的三层结构:1.网页，2.数据中心，3.网络爬虫</li></ul><p><strong>逻辑简述:</strong></p><blockquote><p><code>[原始网页&lt;-网络爬虫-&gt;[数据中心(远端服务器)]]&lt;-[所有的数据中心(Global)]</code></p></blockquote><ol><li>不同的数据中心分布在不同的地理位置</li><li>在每个数据中心内有若干台抓取服务器</li><li>而每台抓取服务器上可能部署了若干套爬虫程序</li><li>这就构成了一个基本的分布式抓取系统</li></ol><hr><ul><li>对于一个数据中心内的不同抓取服务器，有不同的协同工作方式</li><li>协同工作的方式有以下几种:</li></ul><ol><li>主从式(Master-Slave)</li></ol><p><strong>逻辑(同一时间点)简述:</strong></p><blockquote><p><code>[待抓取URL队列(若干数量)]-&gt;[(远端服务器)Master-&gt;Slave1/Slave2/Slave3]&lt;-下载-原始网页</code></p></blockquote><ol><li>对于主从式而言，有一台专门的Master服务器来维护待抓取URL队列</li><li>它负责每次将URL分发到不同的Slave服务器，而Slave服务器则负责实际的网页下载工作</li><li>Master服务器除了维护待抓取URL队列以及分发URL之外，还要负责调解各个Slave服务器的负载情况</li><li>以免某些Slave服务器过于清闲或者劳累</li><li>这种模式下，Master往往容易成为系统瓶颈</li></ol><hr><ol start="2"><li>对等式(Peer to Peer)<blockquote><p><code>[待抓取URL队列(若干数量)]-&gt;Hash-&gt;[(抓取服务器)server0/server1/server2]&lt;-原始网页</code></p></blockquote></li></ol><ul><li>在这种模式下，所有的抓取服务器在分工上没有不同</li></ul><ol><li>每一台抓取服务器都可以从待抓取在URL队列中获取URL</li><li>然后对该URL的主域名的hash值H</li><li>再计算H mod m(其中m是服务器的数量，此时设m为3)</li><li>最后计算得到的数就是处理该URL的主机编号</li></ol><p><strong>举例:</strong></p><ul><li><p>有server0，server1，server2分别为0，1，2号服务器</p></li><li><p>假设对于URL-<code>www.baidu.com</code>，计算器<code>hash</code>值<code>H=8</code>，<code>m=3</code>，则<code>H mod m=2</code>，因此由编号为2的服务器进行该链接的抓取</p></li><li><p>假设这时候是0号服务器拿到这个URL，那么它将该URL转给服务器2，由服务器2进行抓取</p></li><li><p>这种模式有一个问题，当有一台服务器死机或者添加新的服务器，那么所有URL的哈希求余的结果就都要变化</p></li><li><p>也就是说，这种方式的扩展性不佳</p></li><li><p>针对这种情况，又有一种改进方案被提出来</p></li><li><p>这种改进的方案是一致性哈希法来确定服务器分工</p></li><li><p>其基本结构流程:</p></li></ul><ol><li>一致性哈希将URL的主域名进行哈希运算，映射为一个范围在<code>0-2^32</code>之间的某个数</li><li>而将这个范围平均的分配给m台服务器，根据URL主域名哈希运算的值所处的范围判断是哪台服务器来进行抓取</li><li>如果某一台服务器出现问题，那么本该由该服务器负责的网页则按照顺时针顺延，由下一台服务器进行抓取</li><li>如此一来，即便某台服务器出现问题，也不会影响其他服务器的工作</li></ol><p><strong>逻辑简述:</strong></p><blockquote><p><code>URL-&gt;hash-&gt;1,2,3,4&lt;-hash&lt;-URL</code></p></blockquote><hr><p><strong>相关概念:</strong></p><ul><li>搜索引擎</li><li>网络爬虫</li><li>爬虫策略/抓取策略</li><li>爬虫，索引，检索，排序</li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Feb 13 2020 13:40:55 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;网络爬虫的基本原理&quot;&gt;&lt;a href=&quot;#网络爬虫的基本原理&quot; class=&quot;headerlink&quot; title=&quot;网络爬虫的基本原理&quot;&gt;&lt;
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="WEB" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/WEB/"/>
    
    
      <category term="搜索引擎" scheme="https://unit-serow.github.io/tags/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/"/>
    
  </entry>
  
  <entry>
    <title>SQL-2</title>
    <link href="https://unit-serow.github.io/2020/02/13/SQL-2/"/>
    <id>https://unit-serow.github.io/2020/02/13/SQL-2/</id>
    <published>2020-02-13T05:34:51.000Z</published>
    <updated>2020-02-13T05:36:02.581Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Thu Feb 13 2020 13:40:55 GMT+0800 (中国标准时间) --><h3 id="SQL-GURD"><a href="#SQL-GURD" class="headerlink" title="SQL-GURD"></a>SQL-GURD</h3><ul><li>增/删/改/查</li></ul><p><strong>增:</strong></p><ul><li>INSERT INTO 语句</li><li>基本插入语句</li><li>语法一(不指定列名):<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name</span><br><span class="line">VALUES (value1,value2,value3,...);</span><br></pre></td></tr></table></figure></li><li>语法二(指定列名):<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name (column1,column2,column3,...)</span><br><span class="line">VALUES (value1,value2,value3,...);</span><br></pre></td></tr></table></figure></li></ul><hr><p><strong>删:</strong></p><ul><li>DELETE 语句</li><li>基本删除语句</li><li>语法:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM table_name</span><br><span class="line">WHERE some_column&#x3D;some_value;</span><br></pre></td></tr></table></figure></li><li>如果未对WHERE语句进行规定，所有的记录都会被删除</li></ul><hr><p><strong>改:</strong></p><ul><li>UPDATE 语句</li><li>基本修改(更新)语句</li><li>语法:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE table_name</span><br><span class="line">SET column1&#x3D;value1,column2&#x3D;value2,...</span><br><span class="line">WHERE some_column&#x3D;some_value;</span><br></pre></td></tr></table></figure><blockquote><p>uptate 表名<br>set 列名=指定值…<br>where 过滤规则</p></blockquote></li><li>如果未对WHERE语句进行规定，所有的记录都会被更新</li></ul><hr><p><strong>查:</strong></p><ul><li><p>SELECT 语句</p></li><li><p>基本查询语句</p></li><li><p>语法:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name,column_name </span><br><span class="line">FROM table_name;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM table_name;</span><br><span class="line">SELECT 表名 FROM 表内指定列</span><br></pre></td></tr></table></figure></li><li><p>DISTINCT 关键字</p></li><li><p>常用于<code>SELECT DISTINCT</code></p></li><li><p>返回所选被查询列中唯一不同(distinct)的值(筛选列内重复值并进行排除)</p></li><li><p>语法:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT column_name,column_name </span><br><span class="line">FROM table_name;</span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句:"></a>条件语句:</h3><p><strong>WHERE 子句</strong></p><ul><li>用于配置所选执行语句的过滤条件</li><li>语法:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name,column_name </span><br><span class="line">FROM table_name</span><br><span class="line">WHERE column_name operator value;</span><br></pre></td></tr></table></figure></li><li>WHERE子句中的运算符:</li></ul><table><thead><tr><th align="left">运算符</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">=</td><td align="left">等于</td></tr><tr><td align="left">&lt;&gt;,!=</td><td align="left">不等于</td></tr><tr><td align="left">&gt;</td><td align="left">大于</td></tr><tr><td align="left">&lt;</td><td align="left">小于</td></tr><tr><td align="left">&gt;=</td><td align="left">大于等于</td></tr><tr><td align="left">&lt;=</td><td align="left">小于等于</td></tr><tr><td align="left">BETWEEN</td><td align="left">在某个范围内</td></tr><tr><td align="left">LIKE</td><td align="left">搜索某种模式</td></tr><tr><td align="left">IN</td><td align="left">指定针对某个列的多个可能值</td></tr></tbody></table><hr><p><strong>LIKE 操作符</strong></p><ul><li>用于在WHERE子句中搜索列中搜索列的指定模式</li><li>语法:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE column_name LIKE pattern;</span><br></pre></td></tr></table></figure></li></ul><hr><p><strong>SQL函数参考:</strong></p><table><thead><tr><th align="left">函数</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">AVG</td><td align="left">平均值</td></tr><tr><td align="left">COUNT</td><td align="left">计数(不含Null)</td></tr><tr><td align="left">FIRST</td><td align="left">第一个记录的值</td></tr><tr><td align="left">MAX</td><td align="left">最大值</td></tr><tr><td align="left">MIN</td><td align="left">最小值</td></tr><tr><td align="left">STDEV</td><td align="left">样本标准差</td></tr><tr><td align="left">STDEVP</td><td align="left">总体标准差</td></tr><tr><td align="left">SUM</td><td align="left">求和</td></tr><tr><td align="left">VAR</td><td align="left">样本方差</td></tr><tr><td align="left">VARP</td><td align="left">总体方差</td></tr><tr><td align="left">UCASE</td><td align="left">转化为全大写字母</td></tr><tr><td align="left">LCASE</td><td align="left">转化为全小写字母</td></tr><tr><td align="left">MID</td><td align="left">取中值</td></tr><tr><td align="left">LEN</td><td align="left">计算字符串长度</td></tr><tr><td align="left">INSTR</td><td align="left">获得子字符串在母字符串的起始位置</td></tr><tr><td align="left">LEFT</td><td align="left">取字符串左边子串</td></tr><tr><td align="left">RIGHT</td><td align="left">取字符串右边子串</td></tr><tr><td align="left">ROUND</td><td align="left">数值四舍五入取整</td></tr><tr><td align="left">MOD</td><td align="left">取余</td></tr><tr><td align="left">NOW</td><td align="left">获得当前时间的值</td></tr><tr><td align="left">FORMAT</td><td align="left">字符串格式化</td></tr><tr><td align="left">DATEDIFF</td><td align="left">获得两个时间的差值</td></tr></tbody></table><hr><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Thu Feb 13 2020 13:40:55 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;SQL-GURD&quot;&gt;&lt;a href=&quot;#SQL-GURD&quot; class=&quot;headerlink&quot; title=&quot;SQL-GURD&quot;&gt;&lt;/a&gt;
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>SQL-1</title>
    <link href="https://unit-serow.github.io/2020/02/12/SQL-1/"/>
    <id>https://unit-serow.github.io/2020/02/12/SQL-1/</id>
    <published>2020-02-12T08:15:56.000Z</published>
    <updated>2020-02-12T08:17:00.727Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Feb 12 2020 16:17:04 GMT+0800 (中国标准时间) --><h3 id="结构化查询语言-SQL-1"><a href="#结构化查询语言-SQL-1" class="headerlink" title="结构化查询语言-SQL-1"></a>结构化查询语言-SQL-1</h3><p><strong>概述:</strong></p><ul><li>全称<code>Structured Query Language</code></li><li>是一种特定目的编程语言，用于管理关系型数据库管理系统(RDBMSR)，或在其中进行流处理</li><li>RDBMS全称<code>Relational Database Management System</code></li><li>SQL是高级的非过程化编程语言</li><li>允许用户在高层数据结构上工作</li><li>SQL同时也是数据库文件格式的扩展名</li><li>SQL基于关系代数和元组关系演算，包括一个数据定义语言和数据操纵语言</li><li>SQL在很大程度上是一种声明式编程(4GL)，但是其也含有过程式编程的元素</li><li>1986年的<code>SQL-86</code>/<code>SQL-87</code>是ANSI对于SQL的首次标准化</li><li>2016年的<code>SQL:2016</code>是现阶段最后一次标准化的更新</li><li>SQL的核心大致可分为DQL,DDL,DML,DCL四大部分</li><li>本篇只进行基本的体系整理与概念认识与理解</li></ul><hr><p><strong>SQL语言内存在要素简述:</strong></p><blockquote><p><code>子句</code>:基本构成条件，语句和查询的组成部分<br><code>语句</code>:由子句等任何其他元素构成的执行逻辑<br><code>查询</code>:基于特定条件检索数据<br><code>谓词</code>:限制语句和查询结果与控制流程<br><code>表达式</code>:用于产生任何标量值，标量值也可由列和行的数据库表构成<br><code>;</code>-<code>分号</code>:语句结束标志(终结符)，为SQL标准所定义<br>空格在SQL语句和查询中会被忽略</p></blockquote><hr><p><strong>SQL总体的构成包含五个部分:</strong></p><ul><li>数据查询语言(Data Query Language，DQL)</li><li>数据定义语言(Data Definition Language，DDL)</li><li>数据操控语言(Data Manipulation Language, DML)</li><li>数据控制语言(Data Control Language, DCL)</li><li>事务控制语言</li></ul><hr><p><strong>SQL语言构成模块简述:</strong></p><ol><li>DDL-数据定义语言</li></ol><ul><li>SQL语言集中负责数据结构定义与数据库对象定义的语言</li><li>主要由<code>CREATE</code>,<code>ALTER</code>,<code>DROP</code>(<code>create</code>,<code>alter</code>,<code>drop</code>)三个语法构成</li><li>SQL指令子的集之一</li></ul><ol start="2"><li>DML-数据操纵语言</li></ol><ul><li>SQL中用于数据库操作，对数据库其中的对象和数据运行访问工作的编程语句</li><li>以<code>INSERT</code>,<code>UPDATE</code>,<code>DELETE</code>(<code>insert</code>,<code>update</code>,<code>delete</code>)作为核心</li><li>分别代表创建，修改，删除</li><li>再加上SQL的<code>SELECT</code>(<code>select</code>查询)语句(属于DQL)</li><li>从而称其为<code>CRUD</code>即为<code>增删改查</code></li><li>SQL指令集的子集之一</li></ul><ol start="3"><li>DCL-数据控制语言</li></ol><ul><li>SQL中可对数据访问权进行控制的指令</li><li>由GRANT和REVOKE两个指令组成</li><li>SQL指令集的子集之一</li></ul><ol start="4"><li>DQL-数据查询语言</li></ol><ul><li>DQL的主要功能是查询数据</li><li>SQL中用于从数据库或信息系统中查询数据的计算机语言</li><li>由<code>SELECT</code>,<code>FROM</code>,<code>WHERE</code>,<code>GROUP BY</code>和<code>ORDER BY</code>这些语法构成</li><li>其核心指令为<code>SELECT</code>(<code>select</code>)</li></ul><hr><p><strong>其他概念:</strong></p><ul><li>语句，子句，关键字，运算符，操作符</li><li>通配符，连接，别名，约束，NULL，数据类型(通用/DB)</li></ul><hr><p><strong>参考:</strong></p><ul><li>SQL标准<a href="https://web.archive.org/web/20100304063252/http://structedtext.appspot.com/db/sql.html" target="_blank" rel="noopener">参考资料/CN</a><blockquote><p><code>https://web.archive.org/web/20100304063252/http://structedtext.appspot.com/db/sql.html</code></p></blockquote></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Wed Feb 12 2020 16:17:04 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;结构化查询语言-SQL-1&quot;&gt;&lt;a href=&quot;#结构化查询语言-SQL-1&quot; class=&quot;headerlink&quot; title=&quot;结构化查
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>DBMS-1</title>
    <link href="https://unit-serow.github.io/2020/02/12/DBMS-1/"/>
    <id>https://unit-serow.github.io/2020/02/12/DBMS-1/</id>
    <published>2020-02-12T06:27:10.000Z</published>
    <updated>2020-02-12T06:31:39.270Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Feb 12 2020 14:31:43 GMT+0800 (中国标准时间) --><h3 id="DBMS-1"><a href="#DBMS-1" class="headerlink" title="DBMS-1"></a>DBMS-1</h3><p><strong>概述:</strong></p><ul><li>本篇注重对知识体系的规划与系别的整理</li><li>别称:数据库管理系统(Database Management System)</li><li>简称:DBMS</li><li>一个数据库由多个表空间(Tablespace)构成</li><li>用于将数据以一定方式存储到同一个数据库内，能同时予以多个用户共享</li><li>让应用程序的数据集合彼此独立，并且具有尽可能小的冗余度</li><li>数据库管理系统指的是为管理数据库而设计的电脑软件(程序)系统</li><li>大多数具有存储，截取，安全保证，备份等基础功能</li><li>几乎所有的数据库管理系统都配备了一个开放式数据库连接（ODBC）驱动程序，令各个数据库之间得以互相集成</li><li>不涉及结构化查询语言/数据查询语言(SQL)相关内容</li></ul><hr><ul><li>数据库的类别一览</li></ul><table><thead><tr><th align="left">类别</th><th align="left">相关(与其相结合)</th></tr></thead><tbody><tr><td align="left">分布式数据库</td><td align="left">分布处理技术</td></tr><tr><td align="left">并行数据库</td><td align="left">并行处理技术</td></tr><tr><td align="left">演绎数据库</td><td align="left">人工智能</td></tr><tr><td align="left">多媒体数据库</td><td align="left">多媒体技术</td></tr><tr><td align="left">特定领域数据库</td><td align="left">统计/空间/工程/地理数据库等等</td></tr><tr><td align="left">关系型数据库</td><td align="left">MySQL,Oracle,postgreSQL等</td></tr><tr><td align="left">非关系型数据库</td><td align="left">NoSQL/Redis,MongoDB等</td></tr></tbody></table><hr><ul><li>关系型数据库简介<blockquote><p>MySQL<br>MariaDB (MySQL的代替品)<br>Percona Server (MySQL的代替品)<br>PostgreSQL<br>Microsoft Access<br>Microsoft SQL Server<br>Google Fusion Tables<br>FileMaker<br>Oracle数据库<br>Sybase<br>dBASE<br>Clipper<br>FoxPro<br>foshub</p></blockquote></li></ul><hr><ul><li>非关系型数据库(NoSQL)简介</li><li>NoSQL是对不同于传统的关系数据库的数据库管理系统的统称<blockquote><p>BigTable (Google)<br>Cassandra<br>MongoDB<br>CouchDB<br>Redis</p></blockquote></li></ul><hr><ul><li>键值数据库简介<blockquote><p>Apache Cassandra(为Facebook所使用)高度可扩展<br>Dynamo<br>LevelDB(Google)</p></blockquote></li></ul><hr><p><strong>数据库关系模型简述(数据结构):</strong></p><ol><li>对象模型</li></ol><ul><li>层次-层次模型<blockquote><p><code>Hierarchical database model</code><br>轻量级数据访问协议<br>用树形结构描述实体及其之间关系的数据模型</p></blockquote></li></ul><ol start="2"><li><p>网状-网状模型</p><blockquote><p><code>Network model</code><br>用于大型数据储存<br>由美国的<code>查尔斯·巴赫曼(Charles William Bachman)</code>发明</p></blockquote></li><li><p>平面-平面模型</p></li></ol><ul><li><code>Flat-file database</code></li><li>表格模型，一般在形式上是一个二维数组</li><li>如表格模型数据Excel</li><li>不同于平面文件系统<code>Flat file system</code></li></ul><ol start="4"><li><p>关系-关系模型</p><blockquote><p><code>Relational model</code><br>基于谓词逻辑和集合论的一种数据模型</p></blockquote></li><li><p>ER模型-增强实体关系模型</p><blockquote><p><code>Entity-relationship model</code><br>概念数据模型的高层描述所使用的数据模型或模式图</p></blockquote></li><li><p>图-图数据库</p><blockquote><p><code>graph database,GDB</code><br>使用图结构进行语义查询的数据库，它使用节点、边和属性来表示和存储数据<br>该系统的关键概念是图，它直接将存储中的数据项，与数据节点和节点间表示关系的边的集合相关联</p></blockquote></li><li><p>面向对象-面向对象模型</p><blockquote><p>面向对象数据库<br>对象数据库的数据库管理系统被称为<code>ODBMS</code>或<code>OODBMS</code><br>以对象形式表示信息的数据库</p></blockquote></li><li><p>实体-属性-值</p><blockquote><p><code>Entity–attribute–value model,EAV</code><br>EAV也称为对象属性值模型，垂直数据库模型和开放式架构<br>是一种数据模型，以节省空间的方式对实体进行编码，其中可以用来描述实体的属性(属性，参数)的数量可能很大，但是实际适用于给定的实体是相对适度的<br>这样的实体对应于稀疏矩阵的数学概念</p></blockquote></li><li><p>空间/纬度建模</p><blockquote><p><code>Dimensional modeling,DM</code></p></blockquote></li><li><p>半结构化模型</p></li></ol><hr><p><strong>其他模型:</strong></p><ol start="11"><li><p>关联-数据关联模型</p><blockquote><p><code>Associative model of data</code><br>数据的关联模型是一个数据模型的数据库系统</p></blockquote></li><li><p>多维-联机分析处理</p><blockquote><p><code>Online analytical processing,OLAP</code><br>是计算机技术中快速解决多维分析问题(MDA)的一种方法</p></blockquote></li><li><p>数组-矩阵数据库管理系统</p><blockquote><p><code>Array DBMS</code><br><code>Array database management systems</code>(array DBMSs)<br>矩阵数据库管理系统(Array DBMS)专门为矩阵(也称为栅格数据)提供数据库服务</p></blockquote></li><li><p>语义数据模型</p><blockquote><p><code>Semantic data model,SDM</code><br>基于高级语义的数据库描述和数据库的结构形式化(数据库模型)</p></blockquote></li><li><p>星模式</p><blockquote><p><code>Star schema</code><br>在计算中，星形模式是数据集市模式的最简单样式，并且是最广泛用于开发数据仓库和维度数据集市的方法</p></blockquote></li><li><p>XML数据库</p><blockquote><p><code>XML database</code><br>数据持久性软件系统，该系统允许数据被指定，有时存储在XML格式</p></blockquote></li></ol><p><strong>关于实现方法这里不做阐述</strong></p><hr><p><strong>架构:</strong></p><ul><li>数据库的架构可以大致区分为三个概括层次:内层,概念层和外层<blockquote><p>内层:最接近实际存储体，亦即有关数据的实际存储方式<br>外层:最接近用户，即有关个别用户观看数据的方式<br>概念层:介于两者之间的间接层</p></blockquote></li></ul><hr><p><strong>数据库事务</strong></p><ul><li>事务(transaction)包含一组数据库操作的逻辑工作单元，在事务中包含的数据库操作是不可分割的整体</li><li>这些操作要么一起做，要么一起回滚(Roll Back)到执行前的状态</li><li>事务的ACID特性：<blockquote><p>基元性 (atomicity)<br>一致性 (consistency)<br>隔离性 (isolation)<br>持续性 (durability)</p></blockquote></li><li>事务的并发性是指多个事务的并行操作轮流交叉运行，事务的并发可能会访问和存储不正确的数据，破坏交易的隔离性和数据库的一致性</li></ul><hr><ul><li>网状模型-网状数据模型的数据结构</li><li>满足下面两个条件的基本层次联系的集合为网状模型</li></ul><ol><li>允许一个以上的结点无双亲</li><li>一个结点可以有多于一个的双亲</li></ol><hr><p><strong>其他:</strong></p><ul><li><p>数据库管理系统是指管理数据库的程序</p></li><li><p>相关概念简述:</p><blockquote><p>数据库存储结构(Database storage structures)<br>数据模型(data model)<br>数据库模型(database model)<br>关系模型(Relational model)<br>数据结构(data structure)<br>数据类型</p></blockquote></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Wed Feb 12 2020 14:31:43 GMT+0800 (中国标准时间) --&gt;&lt;h3 id=&quot;DBMS-1&quot;&gt;&lt;a href=&quot;#DBMS-1&quot; class=&quot;headerlink&quot; title=&quot;DBMS-1&quot;&gt;&lt;/a&gt;DBMS-1
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="数据库" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>协议概述-1</title>
    <link href="https://unit-serow.github.io/2020/02/12/%E5%8D%8F%E8%AE%AE%E6%A6%82%E8%BF%B0-1/"/>
    <id>https://unit-serow.github.io/2020/02/12/%E5%8D%8F%E8%AE%AE%E6%A6%82%E8%BF%B0-1/</id>
    <published>2020-02-11T18:45:34.000Z</published>
    <updated>2020-02-11T18:47:25.690Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Feb 12 2020 02:47:29 GMT+0800 (中国标准时间) --><h1 id="协议概述-1"><a href="#协议概述-1" class="headerlink" title="协议概述-1"></a>协议概述-1</h1><h3 id="TLS-Transport-Layer-Security"><a href="#TLS-Transport-Layer-Security" class="headerlink" title="TLS(Transport Layer Security)"></a>TLS(Transport Layer Security)</h3><p><strong>传输层安全协议</strong></p><p><strong>概要:</strong></p><ul><li>传输层协议</li><li>互联网上保密通信的工业标准协议</li><li>目的是为互联网通信提供安全及数据完整性保障</li><li>前身为安全套接层(Secure Sockets Layer)-SSL</li><li>IETF(互联网工程用户组)将SSL进行标准化</li><li>传输层安全协议使用X.509认证，之后利用非对称加密演算来对通信方做身份认证，之后交换对称密钥作为会谈密钥(Session key)</li></ul><p><strong>简述:</strong></p><ul><li>TLS协议采用C/S架构，以便在两个应用程序间透过网络创建安全的传输通道，从而防止数据传输时受到窃听或篡改</li><li>TLS与高层的应用层协议(HTTP,FTP,Telnet等)无耦合</li><li>所以应用层协议能透明的运行在TLS协议之上，由TLS协议进行创建加密信道需要的协商和认证</li><li>应用层协议传送的数据在通过TLS协议时都会被加密，从而达到保证通信的私密性</li></ul><p><strong>逻辑:</strong></p><ul><li>TLS协议是可选的，必须配置客户端和服务器才能使用</li><li>主要有两种方式实现这一目标:<blockquote><p>一个是使用统一的TLS协议端口(例如:用于HTTPS的端口443)<br>另一个是客户端请求服务器连接到TLS时使用特定的协议机制</p></blockquote></li><li>一旦客户端和服务器都同意使用TLS协议，他们通过使用一个握手过程协商出一个有状态的连接以传输数据</li><li>通过握手，客户端和服务器协商各种参数用于创建安全连接，握手过程:</li></ul><ol><li>当客户端连接到支持TLS协议的服务器要求创建安全连接并列出了受支持的密码组合（加密密码算法和加密哈希函数），握手开始</li><li>服务器从该列表中决定加密和散列函数，并通知客户端</li><li>服务器发回其数字证书，此证书通常包含服务器的名称、受信任的证书颁发机构（CA）和服务器的公钥</li><li>客户端确认其颁发的证书的有效性</li><li>为了生成会话密钥用于安全连接，客户端使用服务器的公钥加密随机生成的密钥，并将其发送到服务器，只有服务器才能使用自己的私钥解密</li><li>利用随机数，双方生成用于加密和解密的对称密钥</li><li>这就是TLS协议的握手，握手完毕后的连接是安全的，直到连接（被）关闭</li><li>如果上述任何一个步骤失败，TLS握手过程就会失败，并且断开所有的连接</li></ol><h3 id="SSL-Secure-Sockets-Layer"><a href="#SSL-Secure-Sockets-Layer" class="headerlink" title="SSL(Secure Sockets Layer)"></a>SSL(Secure Sockets Layer)</h3><p><strong>安全套接层</strong></p><p><strong>概述:</strong></p><ul><li>SSL是最初是网景公司Netscape用于对HTTPS协议进行加密而退出的</li><li>SSL包含记录层(Record Layer)和传输层，记录层协议确定传输层数据的封装格式</li></ul><hr><h3 id="SSH-Secure-Shell"><a href="#SSH-Secure-Shell" class="headerlink" title="SSH(Secure Shell)"></a>SSH(Secure Shell)</h3><p><strong>安全外壳协议</strong></p><p><strong>概述:</strong></p><ul><li>网络层协议</li><li>是一种加密的网络传输协议</li><li>可在不安全的网络中为网络服务提供安全的传输环境</li><li>任何网络服务都可以通过SSH实现安全传输</li><li>在设计上，SSH是Telnet和非安全shell的替代品，而Telnet和Berkeley rlogin、rsh、rexec等协议采用明文传输，使用不可靠的密码，容易遭到监听、嗅探和中间人攻击</li></ul><p><strong>简述:</strong></p><ul><li>SSH通过在网络中创建安全隧道来实现SSH客户端与服务器之间的连接</li><li>SSH最常见的用途是远程登录系统，通常利用SSH来传输命令行界面和远程执行命令</li><li>SSH旨在保证非安全网络环境（例如互联网）中信息加密完整可靠</li><li>SSH以非对称加密实现身份验证</li><li>SSH协议有两个主要版本，分别是SSH-1和SSH-2</li><li>SSH的经典用途是登录到远程电脑中执行命令</li><li>SSH也支持隧道协议、端口映射和X11连接。借助SFTP或SCP协议，SSH还可以传输文件</li><li>SSH使用客户端-服务器模型，标准端口为22</li></ul><p><strong>SSH协议框架中最主要的部分是三个协议:</strong></p><ul><li><p>传输层协议(The Transport Layer Protocol):传输层协议提供服务器认证，数据机密性，信息完整性等的支持</p></li><li><p>用户认证协议(The User Authentication Protocol):用户认证协议为服务器提供客户端的身份鉴别</p></li><li><p>连接协议(The Connection Protocol):连接协议将加密的信息隧道复用成若干个逻辑通道，提供给更高层的应用协议使用</p></li><li><p>同时还有为许多高层的网络安全应用协议提供扩展的支持</p></li><li><p>各种高层应用协议可以相对地独立于SSH基本体系之外，并依靠这个基本框架，通过连接协议使用SSH的安全机制</p></li></ul><hr><h3 id="PGP-Pretty-Good-Privacy"><a href="#PGP-Pretty-Good-Privacy" class="headerlink" title="PGP(Pretty Good Privacy)"></a>PGP(Pretty Good Privacy)</h3><p><strong>优良保密协议</strong></p><p><strong>概述:</strong></p><ul><li>是一套用于讯息加密、验证的应用程序，采用IDEA的散列算法作为加密和验证之用</li><li>1997年7月，PGP Inc.与齐默尔曼同意IETF制定一项公开的互联网标准，称作OpenPGP，任何支持这一标准的程序也被允许称作OpenPGP</li><li>PGP及其同类产品均遵守OpenPGP数据加解密标准<a href="https://tools.ietf.org/html/rfc4880" target="_blank" rel="noopener">RFC 4880</a><blockquote><p><code>https://tools.ietf.org/html/rfc4880</code></p></blockquote></li><li>官网<a href="https://web.archive.org/web/20041230152556/http://www.pgp.com/" target="_blank" rel="noopener">跳转</a><blockquote><p><code>https://web.archive.org/web/20041230152556/http://www.pgp.com/</code></p></blockquote></li></ul><hr><h3 id="IPsec-Internet-Protocol-Security"><a href="#IPsec-Internet-Protocol-Security" class="headerlink" title="IPsec(Internet Protocol Security)"></a>IPsec(Internet Protocol Security)</h3><p><strong>互联网安全协议</strong></p><p><strong>概述:</strong></p><ul><li>一个协议包，透过对IP协议的分组进行加密和认证来保护IP协议的网络传输协议族(一些相互关联的协议的集合)</li></ul><p><strong>IPsec主要由以下协议组成</strong></p><ol><li>认证头(AH)，为IP数据报提供无连接数据完整性、消息认证以及防重放攻击保护</li><li>封装安全载荷(ESP)，提供机密性、数据源认证、无连接完整性、防重放和有限的传输流(traffic-flow)机密性</li><li>安全关联(SA)，提供算法和数据包，提供AH、ESP操作所需的参数</li></ol><hr><p><strong>其他</strong></p><ul><li><p>密码学无政府主义(Crypto-anarchism)</p></li><li><p>加密无政府<a href="https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A0%81%E5%AD%A6%E6%97%A0%E6%94%BF%E5%BA%9C%E4%B8%BB%E4%B9%89" target="_blank" rel="noopener">跳转至中文维基</a><br><code>https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A0%81%E5%AD%A6%E6%97%A0%E6%94%BF%E5%BA%9C%E4%B8%BB%E4%B9%89</code></p></li></ul><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Wed Feb 12 2020 02:47:29 GMT+0800 (中国标准时间) --&gt;&lt;h1 id=&quot;协议概述-1&quot;&gt;&lt;a href=&quot;#协议概述-1&quot; class=&quot;headerlink&quot; title=&quot;协议概述-1&quot;&gt;&lt;/a&gt;协议概述-1
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>加密与解密</title>
    <link href="https://unit-serow.github.io/2020/02/12/%E5%8A%A0%E5%AF%86%E4%B8%8E%E8%A7%A3%E5%AF%86-1/"/>
    <id>https://unit-serow.github.io/2020/02/12/%E5%8A%A0%E5%AF%86%E4%B8%8E%E8%A7%A3%E5%AF%86-1/</id>
    <published>2020-02-11T16:06:32.000Z</published>
    <updated>2020-02-11T18:45:11.501Z</updated>
    
    <content type="html"><![CDATA[<!-- build time:Wed Feb 12 2020 02:47:29 GMT+0800 (中国标准时间) --><h1 id="加密-解密-类型与算法概述"><a href="#加密-解密-类型与算法概述" class="headerlink" title="加密/解密-类型与算法概述"></a>加密/解密-类型与算法概述</h1><ul><li>整理范围为现代密码学中的密码学算法</li><li>主要注重于对各种加密算法的浅层了解，与基本使用</li><li>对于算法本质的刨析这里先不做阐述</li><li>对于加密也先不做阐述</li></ul><h2 id="对称密钥密码学"><a href="#对称密钥密码学" class="headerlink" title="对称密钥密码学"></a>对称密钥密码学</h2><p><strong>概述:</strong></p><ul><li>[Symmetric-key algorithm]</li><li>别称:对称加密，对称密钥加密，对称密钥算法</li><li>别称:私钥加密，共享密钥加密</li></ul><p><strong>定义:</strong></p><ul><li>加密和解密时使用相同的密钥</li><li>或者使用两个可以简单地进行互相推算的密钥</li><li>多用于维持多个成员之中的秘密通信</li></ul><p><strong>常用的对称加密算法:</strong></p><ul><li>DES(数据加密标准)</li><li>3DES</li><li>AES(高端加密标准)</li><li>Blowfish</li><li>IDEA</li><li>RC5(分组加密算法)</li><li>RC6</li></ul><hr><h3 id="分组加密"><a href="#分组加密" class="headerlink" title="分组加密"></a>分组加密</h3><p><strong>概述:</strong></p><ul><li>[Block cipher]</li><li>别称:分组密码，分块加密，块密码</li><li>属于一种对称加密算法</li><li>DES是现代分组加密设计的基础思想</li><li>IBM在20世纪70年代基于<code>Horst Feistel</code>工作完成的<code>Lucifer</code>被客观认为是第一个现代分组密码</li><li>分组密码取用明文的一个区块和密钥，输出相同大小的密文区块</li><li>DES和AES是美国联邦政府核定的分组密码标准(AES将取代DES)</li></ul><p><strong>定义:</strong></p><ul><li>先将明文分成多个等长的模块(blocak)，然后使用确定的算法和对称密钥对每组分别进行加密与解密</li></ul><hr><h3 id="流加密"><a href="#流加密" class="headerlink" title="流加密"></a>流加密</h3><p><strong>概述:</strong></p><ul><li>[Stream cipher]</li><li>别称:数据流加密，流密码</li><li>属于一种对称加密算法</li><li>该算法解决了对称加密完善保密性(perfect secrecy)的实际操作困难</li><li>RC4是流加密的实现</li><li>相对于区块加密，制造一段任意长的密钥原料，与明文依比特或字符结合，类似一次一密密码本(one-time pad)，输出的流根据加密时的内部状态而定</li><li>输出的流根据加密时的内部状态而定</li></ul><p><strong>定义:</strong></p><ul><li>先加密和解密双方使用相同伪随机加密数据流(pseudo-random stream)作为密钥</li><li>然后让明文数据每次与密钥数据流顺次对应加密，从而得到密文数据流</li><li>实践中数据通常是一个位(bit)并用异或(xor)操作加密</li></ul><hr><h2 id="非对称密钥密码学"><a href="#非对称密钥密码学" class="headerlink" title="非对称密钥密码学"></a>非对称密钥密码学</h2><p><strong>概述:</strong></p><ul><li>别称:公开密钥密码学 [Public-key cryptography]</li><li>别称:非对密钥码密码学 [Asymmetric cryptography]</li><li>别称:公开密钥加密算法，公钥密码学，非对称式密码学</li></ul><p><strong>定义:</strong></p><ul><li>拥有两个密钥，一个公开密钥，一个私有密钥，前者加密，后者解密</li><li>使用其中任一密钥用于加密，另一个则用于解密</li><li>经过密钥加密的密文只能通过对应的另一个密钥进行解密才能得到原文</li><li>曾用于加密的密钥也不能对其加密过的数据进行解密</li><li>因此加密和解密需要两个不同且互相对应的密钥，所以被称为非对称加密</li><li>不同于加密和解密都使用同一个密钥的对称加密</li><li>虽然这两个密钥于数学上相关，但依旧不同通过其中一个密钥来计算出另外一个密钥</li><li>因此其中一个可以公开，称为公钥，可以任意发布</li><li>不公开的密钥为私钥</li></ul><p><strong>简述:</strong></p><ol><li>加密过程d(c(x))=x</li><li>主机A撰写未加密明文x</li><li>主机B通过[密码学安全伪随机数生成器]生成一对密钥，其中一个公钥为c，另一个作为私钥d</li><li>而主机B要做的就是向主机A发送公钥c，即便任何主机于中间窃听到c也没关系</li><li>主机A用公钥c对明文x进行加密，得到密文c(x)</li><li>此时主机A向主机B发送密文c(x)</li><li>主机B在收到密文c(x)后，使用私钥d对密文c(x)进行解密d(c(x))，得到明文x</li><li>此时如果主机A没有私钥d时，它将无法透过主机A的公钥c和密文c(x)重新获得原文x</li></ol><hr><h2 id="密码散列函数"><a href="#密码散列函数" class="headerlink" title="密码散列函数"></a>密码散列函数</h2><p><strong>概述:</strong></p><ul><li>[Cryptographic hash function]</li><li>别称:加密散列函数，散列算法，哈希函数(hash)，消息摘要函数，杂凑函数</li><li>是散列函数(hash function)的一种</li><li>是一种单向函数(单向散列算法)</li><li>不一定使用到密钥，但和许多重要的密码算法相关</li><li>常用于数字签名/公钥数字签名(digital signature)</li><li>应用于<code>MD5</code>,<code>SHA-1</code>,<code>SHA-2</code>,<code>SHA-3/Keccak</code></li><li>数字签名标准内的数字签名算法</li><li>它将输入数据(通常是一整份文件)输出成较短的固定长度散列值，这个过程是单向的，逆向操作难以完成，而且碰撞(两个不同的输入产生相同的散列值)发生的几率非常小</li><li>消息认证码或押码(Message authentication codes, MACs)很类似密码散列函数，除了接收方额外使用秘密密钥来认证散列值</li></ul><h3 id="SHA类密码散列函数"><a href="#SHA类密码散列函数" class="headerlink" title="SHA类密码散列函数"></a>SHA类密码散列函数</h3><p><strong>概述:</strong></p><ul><li>[Secure Hash Algorithm]，缩写为SHA，常用于特指一整个密码散列函数系列</li><li>别称:安全散列算法，安全哈希算法</li><li>由FIPS<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>认证的安全散列算法</li><li>由美国国家安全局(NSA)所设计</li><li>由美国国家标准与技术研究院(NIST)发布</li><li>是一种密码散列函数</li><li>用于计算出一个数字消息所对应到的，长度固定的字符串(又称信息摘要)的算法</li></ul><p><strong>系列成员:</strong></p><ul><li>SHA系列的五个算法:<blockquote><p><code>SHA-1,SHA-224,SHA-256,SHA-384,SHA-521</code></p></blockquote></li><li><code>SHA-256</code>到<code>SHA-512</code>有时被并称为<code>SHA-2</code></li><li><code>SHA-1</code>在许多安全协议中广为使用</li><li>包括<code>TLS</code>,<code>SSL</code>,<code>PGP</code>,<code>SSH</code>,<code>S/MIME</code>,<code>IPsec</code></li><li>最初的算法于1993年发布<code>SHA-0</code></li><li>也可称为[安全杂凑标准(secure hash standard)，<code>FIPS PUB 180</code></li><li>NSA于1995年发布<code>SHA-0</code>修订版本<code>FIPS PUB 180-1</code>(SHA-1)</li><li>最新的标准是FIPS PUB 180-3于2008年更新</li><li>规定了SHA-1，SHA-224，SHA-256，SHA-384，和SHA-512这几种单向散列算法</li><li><code>SHA-1</code>，<code>SHA-224</code>和<code>SHA-256</code>适用于长度不超过<code>2^64</code>二进制位的消息</li><li><code>SHA-384</code>和<code>SHA-512</code>适用于长度不超过<code>2^128</code>二进制位的消息</li></ul><p><strong>简述:</strong></p><ul><li>思想是接收一段明文，然后以一种不可逆的方式将它转换成一段(通常更小)的密文</li><li>或称为</li><li>取一串预映射或信息(输入码)，并将它们转化为长度较短，位数固定的输出序列</li><li>即散列值 也可以称为信息摘要或信息认证码 的过程</li></ul><p><strong>散列算法概述:</strong></p><ul><li>散列是信息的提炼，通常其长度要比原信息小的多，且为一个固定长度</li><li>加密性强的散列一定是不可逆的，所以说通过散列的结构将无法退出任何部分的原始信息</li><li>任何输出信息的变化，哪怕仅一位，都将导致散列结果的明显变化，即为雪崩效应</li><li>散列还应该是防冲突的，即找不出具有相同散列结果的两条信息，具有这些特性的散列结果就可以用于验证信息是否被修改</li><li>单向散列函数一般用于产生信息摘要，密匙加密等，常见的有MD系列(由RSA数据安全公司开发的一种单向散列算法)，SHA系列</li><li>散列算法可实现数字签名的实现</li></ul><p><strong>数字签名概述:</strong></p><ul><li>数字签名的原理是将要传送的明文通过一种函数运算(hash)转换成报文摘要(不同的明文对应不同的摘要)</li><li>报文摘要加密后与明文一种传送给接受方</li><li>接受方将接受的明文产生新的报文摘要与发送方发来的报文摘要解密比较</li><li>比较结果一致表示明文未被改动，反之则明文已被篡改</li></ul><hr><h3 id="消息认证码"><a href="#消息认证码" class="headerlink" title="消息认证码"></a>消息认证码</h3><p><strong>概述:</strong></p><ul><li>[Message authentication code，MAC]</li><li>别称:消息鉴别码、文件消息认证码、讯息鉴别码、信息认证码</li></ul><p><strong>简述:</strong></p><ul><li>是经过特定算法后产生的一小段信息，用于检查某段消息的完整性，以及作身份验证</li><li>用来检查在消息传递过程中，其内容是否被更改过，不管更改的原因是来自意外或是蓄意攻击</li><li>同时可以作为消息来源的身份验证，确认消息的来源</li><li>消息认证码的算法中，通常会使用带密钥的散列函数(HMAC)，或者块密码的带认证工作模式(如CBC-MAC)</li><li>信息鉴别码不能提供对信息的保密，若要同时实现保密认证，同时需要对信息进行加密</li></ul><p><strong>密钥散列消息认证码</strong></p><ul><li>Keyed-hash message authentication code</li><li>又称散列消息认证码(Hash-based message authentication code，HMAC)</li><li>是一种通过特别计算方式之后产生的消息认证码(MAC)，使用密码散列函数，同时结合一个加密密钥</li><li>它可以用来保证数据的完整性，同时可以用来作某个消息的身份验证</li></ul><hr><h3 id="密码学安全伪随机数生成器"><a href="#密码学安全伪随机数生成器" class="headerlink" title="密码学安全伪随机数生成器"></a>密码学安全伪随机数生成器</h3><p><strong>概述:</strong></p><ul><li>Cryptographically secure pseudo-random number generator</li><li>通称CSPRNG</li><li>亦作密码学伪随机数生成器</li><li>是一种能够通过运算得出密码学安全伪随机数的伪随机数生成器</li><li>相较于统计学伪随机数生成器和更弱的伪随机数生成器，CSPRNG所生成的密码学安全伪随机数具有额外的伪随机属性</li><li>CSPRNG常被作为密码学原件，用以搭建更复杂的密码学应用</li><li>如，可变长CSPRNG和XOR函数搭配即构成流密码的编解码方法</li></ul><hr><h3 id="对等加密-Reciprocal-cipher"><a href="#对等加密-Reciprocal-cipher" class="headerlink" title="对等加密(Reciprocal cipher)"></a>对等加密(Reciprocal cipher)</h3><p><strong>概述:</strong></p><ul><li>是对称密钥加密(Symmetric-key algorithm)的一个特例</li><li>该类密码的加密算法是它自己本身的逆反函数，所以其解密算法等同于加密算法</li><li>如果要还原对等加密的密文，套用加密同样的算法即可得到明文</li><li>换句话说，使用相同的密钥，两次连续的对等加密运算后会回复原始文字</li><li>在数学上，这有时称之为对合<blockquote><p>常见的对等加密算法有<code>ROT13</code>，<code>异或密码</code>，<code>RC4</code></p></blockquote></li></ul><hr><ul><li>几个重要的概念，公钥，私钥，加密，解密，对称，非对称，散列算法(hash)</li><li>所有的复杂的现代密码学算法都是基于对称加密或非对称加密算法与散列算法加密所建立的</li></ul><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style:none;padding-left:0"><li id="fn:1"><span style="display:inline-block;vertical-align:top;padding-right:10px">1.</span><span style="display:inline-block;vertical-align:top">联邦信息处理标准(Federal Information Processing Standards)</span><a href="#fnref:1" rev="footnote"> ↩</a></li></ol></div></div><!-- rebuild by neat -->]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- build time:Wed Feb 12 2020 02:47:29 GMT+0800 (中国标准时间) --&gt;&lt;h1 id=&quot;加密-解密-类型与算法概述&quot;&gt;&lt;a href=&quot;#加密-解密-类型与算法概述&quot; class=&quot;headerlink&quot; title=&quot;加密/解
      
    
    </summary>
    
    
      <category term="软件" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
      <category term="密码" scheme="https://unit-serow.github.io/categories/%E8%BD%AF%E4%BB%B6/%E5%AF%86%E7%A0%81/"/>
    
    
      <category term="随笔" scheme="https://unit-serow.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
</feed>
