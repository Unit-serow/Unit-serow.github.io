<!-- build time:Wed Feb 19 2020 02:15:31 GMT+0800 (中国标准时间) --><!DOCTYPE html><html class="theme-next gemini use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon32.ico?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon32.ico?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="Hexo, NexT"><link rel="alternate" href="/atom.xml" title="UNIT" type="application/atom+xml"><meta property="og:type" content="website"><meta property="og:title" content="UNIT"><meta property="og:url" content="https://unit-serow.github.io/page/3/index.html"><meta property="og:site_name" content="UNIT"><meta property="article:author" content="serow"><meta name="twitter:card" content="summary"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"5.1.4",sidebar:{position:"right",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="https://unit-serow.github.io/page/3/"><title>UNIT - 不精之精，而至纯粹</title><meta name="generator" content="Hexo 4.2.0"></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-right page-home"><div class="headband"></div><a href="https://github.com/2721304117" target="_blank" rel="noopener"><img width="149" height="149" style="position:absolute;top:0;right:0;border:0" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_white_ffffff.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">UNIT</span> <span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">不精之精，而至纯粹</h1></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><section id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://unit-serow.github.io/2020/02/15/MySQL-4/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="serow"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="UNIT"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2020/02/15/MySQL-4/" itemprop="url">MySQL-4</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-15T01:49:54+08:00">2020-02-15 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">软件</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="MySQL数据导出与导入"><a href="#MySQL数据导出与导入" class="headerlink" title="MySQL数据导出与导入"></a>MySQL数据导出与导入</h3><p><strong>导出</strong></p><ul><li><p>所导出目标文件必须为有可读写权限</p></li><li><p>使用<code>SELECT ... INTO OUTFILE</code>语句</p></li><li><p>基本语法:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SELECT * FROM table_name</span><br><span class="line">    -&gt; INTO OUTFILE &#39;目标路径&#39;;</span><br></pre></td></tr></table></figure></li><li><p>使用mysqldump导出原始数据</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mysqldump -u root -p --no-create-info \</span><br><span class="line">            --tab&#x3D;&#x2F;目标文件路径 database_name table_name</span><br><span class="line">password:</span><br></pre></td></tr></table></figure></li><li><p>导出SQL格式的文件</p></li><li><p>不添加<code>table_name</code>导出整个数据库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mysqldump -u root -p database_name table_name &gt; 目标文件路径</span><br><span class="line">password:</span><br></pre></td></tr></table></figure></li><li><p>导出所有数据库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mysqldump -u root -p --all-databases &gt; 目标文件路径</span><br><span class="line">password:</span><br></pre></td></tr></table></figure></li></ul><hr><p><strong>导入</strong></p><ul><li><p>mysql 命令导入</p><blockquote><p><code>mysql -u username -p passwrod &lt; 要导入的数据库数据文件路径(xxx.sql)</code></p></blockquote></li><li><p>source 命令导入</p></li><li><p>登录到数库终端执行以下命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; USE DATABASE_NAME;</span><br><span class="line">mysql&gt; SET NAMES utf8;</span><br><span class="line">mysql&gt; SOURCE &#x2F;目标文件路径(.sql)</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysqlimport导入</span><br><span class="line">$ mysqlimport -u root -p --local tables_name &#x2F;被导入文件路径</span><br><span class="line">password *****</span><br></pre></td></tr></table></figure><hr><p><strong>PHP语法简介</strong></p><ul><li>PHP Mysqli</li><li>mysqli()函数</li></ul><p><strong>格式</strong></p><blockquote><p><code>mysqli_function(value,value,...);</code></p></blockquote><ul><li>以上格式中function部分描述了mysqli()函数的功能，例如:<blockquote><p><code>mysqli_connect($connect);</code><br><code>mysqli_query($connect,&quot;SQL 语句&quot;);</code><br><code>mysqli_fetch_array()</code><br><code>mysqli_close()</code></p></blockquote></li></ul><hr><p><strong>mysqladmin用法简述</strong></p><ul><li><p>管理性操作语法</p><blockquote><p><code>mysqladmin [OPTIONS] command [command-option] command ...</code></p></blockquote></li><li><p>帮助指令</p><blockquote><p><code>mysqladmin --help</code></p></blockquote></li><li><p>连接</p><blockquote><p><code>mysqladmin -u[username] -p[password] status</code></p></blockquote></li></ul><hr><p><strong>简要参数:</strong></p><table><thead><tr><th align="left">参数</th><th align="left">作用</th></tr></thead><tbody><tr><td align="left">create databasename</td><td align="left">创建一个新数据库</td></tr><tr><td align="left">drop databasename</td><td align="left">删除一个数据库及其所有表</td></tr><tr><td align="left">shutdown</td><td align="left">关掉服务器</td></tr><tr><td align="left">kill id,id,…</td><td align="left">杀死mysql线程</td></tr><tr><td align="left">flush-logs</td><td align="left">清理掉所有日志</td></tr><tr><td align="left">flush-tables</td><td align="left">清理掉所有表</td></tr><tr><td align="left">ping</td><td align="left">检查mysqld是否存在</td></tr></tbody></table><hr></div><footer class="post-footer"><div class="post-eof"></div></footer></div><div></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://unit-serow.github.io/2020/02/14/SQL-%E5%8F%82%E8%80%83/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="serow"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="UNIT"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2020/02/14/SQL-%E5%8F%82%E8%80%83/" itemprop="url">SQL-参考</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-14T23:59:08+08:00">2020-02-14 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">软件</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="SQL-参考"><a href="#SQL-参考" class="headerlink" title="SQL 参考"></a>SQL 参考</h3><p><strong>按出现次数排行</strong></p><p><strong>重要指令一览</strong></p><table><thead><tr><th align="left">指令</th><th align="left">作用</th></tr></thead><tbody><tr><td align="left">SELECT</td><td align="left">从数据库中提取数据</td></tr><tr><td align="left">UPDATE</td><td align="left">更新数据库中的数据</td></tr><tr><td align="left">DELETE</td><td align="left">从数据库中删除数据</td></tr><tr><td align="left">INSERT INTO</td><td align="left">向数据库中插入新数据</td></tr><tr><td align="left">CREATE DATABASE</td><td align="left">创建新数据库</td></tr><tr><td align="left">ALTER DATABASE</td><td align="left">修改数据库</td></tr><tr><td align="left">CREATE TABLE</td><td align="left">创建新表</td></tr><tr><td align="left">ALTER TABLE</td><td align="left">变更(改变)数据库表</td></tr><tr><td align="left">DROP TABLE</td><td align="left">删除表</td></tr><tr><td align="left">CREATE INDEX</td><td align="left">创建索引(搜索键)</td></tr><tr><td align="left">DROP INDEX</td><td align="left">删除索引</td></tr></tbody></table><hr><p><strong>基本语句</strong></p><table><thead><tr><th align="left">语句</th><th align="left">作用</th></tr></thead><tbody><tr><td align="left">CREATE</td><td align="left">创建</td></tr><tr><td align="left">TABLE</td><td align="left">数据表</td></tr><tr><td align="left">DATABASE</td><td align="left">数据库</td></tr><tr><td align="left">SELECT</td><td align="left">选择</td></tr><tr><td align="left">ALTER</td><td align="left">变更/修改</td></tr><tr><td align="left">INSERT</td><td align="left">插入</td></tr><tr><td align="left">UPDATE</td><td align="left">更新</td></tr><tr><td align="left">DELETE</td><td align="left">删除</td></tr><tr><td align="left">VIEWS</td><td align="left">视图</td></tr></tbody></table><hr><p><strong>逻辑语句</strong></p><table><thead><tr><th align="left">单词</th><th align="left">翻译</th></tr></thead><tbody><tr><td align="left">WHERE</td><td align="left">在…</td></tr><tr><td align="left">FROM</td><td align="left">来自…</td></tr><tr><td align="left">AND&amp;OR</td><td align="left">逻辑与/逻辑或</td></tr><tr><td align="left">LIKE</td><td align="left">类似于…/像…</td></tr><tr><td align="left">IN</td><td align="left">在…内</td></tr><tr><td align="left">JOIN</td><td align="left">连接</td></tr><tr><td align="left">INNER/LEFT/RIGHT/FULL</td><td align="left">内部/左部/右部/全部</td></tr><tr><td align="left">UNION</td><td align="left">并集/组合</td></tr></tbody></table><hr><p><strong>关键字/操作符</strong></p><table><thead><tr><th align="left">单词</th><th align="left">翻译</th></tr></thead><tbody><tr><td align="left">DISTINCT</td><td align="left">不同的</td></tr><tr><td align="left">ORDER</td><td align="left">顺序</td></tr><tr><td align="left">ORDER BY</td><td align="left">以…排序</td></tr><tr><td align="left">ASC</td><td align="left">DESC</td></tr><tr><td align="left">TOP/LIMIT/ROWNUM</td><td align="left">极限/最大化</td></tr><tr><td align="left">BETWEEN</td><td align="left">在…之间</td></tr><tr><td align="left">UNIQUE</td><td align="left">独特</td></tr><tr><td align="left">FOREIGN</td><td align="left">外来的</td></tr><tr><td align="left">CHECK</td><td align="left">阻止/检查</td></tr><tr><td align="left">DEFAULT</td><td align="left">默认</td></tr><tr><td align="left">INDEX</td><td align="left">索引/指标</td></tr><tr><td align="left">DROP</td><td align="left">中止</td></tr><tr><td align="left">ADD</td><td align="left">添加</td></tr><tr><td align="left">COLUMN</td><td align="left">纵列</td></tr><tr><td align="left">INTO</td><td align="left">到…内</td></tr><tr><td align="left">PRIMARY</td><td align="left">主键/首要/基本</td></tr><tr><td align="left">AUTO</td><td align="left">自动/自动模式</td></tr><tr><td align="left">INCREMENT</td><td align="left">递增/增加</td></tr><tr><td align="left">NOT</td><td align="left">否</td></tr></tbody></table><hr><p><strong>其他一</strong></p><table><thead><tr><th align="left">单词</th><th align="left">翻译</th></tr></thead><tbody><tr><td align="left">USE</td><td align="left">使用/选择</td></tr><tr><td align="left">VALUES</td><td align="left">值</td></tr><tr><td align="left">SET</td><td align="left">位于…</td></tr><tr><td align="left">AS</td><td align="left">例如/向…</td></tr><tr><td align="left">NULL</td><td align="left">空/无</td></tr><tr><td align="left">BY</td><td align="left">由/被/到…之前</td></tr><tr><td align="left">HAVING</td><td align="left">具有</td></tr><tr><td align="left">ON</td><td align="left">在…上/触发/打开</td></tr><tr><td align="left">IN</td><td align="left">在…内</td></tr><tr><td align="left">ALL</td><td align="left">全部</td></tr><tr><td align="left">TRUNCATE</td><td align="left">截取</td></tr><tr><td align="left">CONSTRAINT</td><td align="left">约束</td></tr><tr><td align="left"><code>*</code></td><td align="left">泛用通配符</td></tr></tbody></table><hr><p><strong>其他二</strong></p><table><thead><tr><th align="left">单词</th><th align="left">翻译</th></tr></thead><tbody><tr><td align="left">column</td><td align="left">列</td></tr><tr><td align="left">table</td><td align="left">表</td></tr><tr><td align="left">operator</td><td align="left">操作符</td></tr><tr><td align="left">valueN</td><td align="left">值</td></tr><tr><td align="left">some</td><td align="left">某个</td></tr><tr><td align="left">Persons</td><td align="left">个体</td></tr><tr><td align="left">percent</td><td align="left">占比</td></tr><tr><td align="left">external</td><td align="left">外部</td></tr><tr><td align="left">DB</td><td align="left">数据库</td></tr><tr><td align="left">type</td><td align="left">类型</td></tr><tr><td align="left">size</td><td align="left">尺寸/大小</td></tr><tr><td align="left">Last</td><td align="left">末尾</td></tr><tr><td align="left">First</td><td align="left">起始</td></tr></tbody></table><hr><p><strong>语句参考</strong></p><ul><li>ALTER TABLE</li><li>CREATE DATABASE</li><li>CREATE INDEX</li><li>CREATE TABLE</li><li>CREATE VIEW</li><li>DROP DATABASE</li><li>DROP INDEX</li><li>DROP TABLE</li><li>INSERT INTO</li><li>INNER JOIN</li><li>LEFT JOIN</li><li>RIGHT JOIN</li><li>FULL JOIN</li><li>SELECT DISTINCT</li><li>SELECT INTO</li><li>SELECT TOP</li><li>TRUNCATE TABLE</li><li>UNION ALL</li><li>GROUP BY</li><li>ORDER BY</li><li>SELECT *</li></ul><hr><p><strong>子句参考</strong></p><ul><li>WHERE</li><li>UPDATE</li><li>UNION</li><li>SELECT</li><li>LIKE</li><li>IN</li><li>HAVING</li><li>DELETE</li><li>BETWEEN</li><li>AS (alias)</li><li>AND/OR</li></ul><hr><p><strong>概念</strong></p><ul><li>通配符</li><li>别名</li><li>约束</li><li>索引</li><li>函数</li><li>通用数据类型</li><li>DB 数据类型</li></ul><hr><p><strong>最泛用常用函数</strong></p><blockquote><p>DATE()<br>NULL()</p></blockquote></div><footer class="post-footer"><div class="post-eof"></div></footer></div><div></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://unit-serow.github.io/2020/02/14/RDBMS-MySQL/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="serow"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="UNIT"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2020/02/14/RDBMS-MySQL/" itemprop="url">RDBMS-MySQL</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-14T21:44:16+08:00">2020-02-14 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">软件</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="RDBMS-MySQL"><a href="#RDBMS-MySQL" class="headerlink" title="RDBMS-MySQL"></a>RDBMS-MySQL</h3><p><strong>RDBMS-MySQL相关概念简述</strong></p><ul><li>数据库: 数据库是一些关联表的集合</li><li>数据表: 表是数据的矩阵，在一个数据库中的表看起来像一个简单的电子表格</li><li>列: 一列(数据元素) 包含了相同类型的数据, 例如邮政编码的数据</li><li>行: 一行（=元组，或记录）是一组相关的数据，例如一条用户订阅的数据</li><li>冗余: 存储两倍数据，冗余降低了性能，但提高了数据的安全性</li><li>主键: 主键是唯一的。一个数据表中只能包含一个主键。你可以使用主键来查询数据</li><li>外键: 外键用于关联两个表</li><li>复合键: 复合键（组合键）将多个列作为一个索引键，一般用于复合索引</li><li>索引: 使用索引可快速访问数据库表中的特定信息。索引是对数据库表中一列或多列的值进行排序的一种结构。类似于书籍的目录</li><li>参照完整性: 参照的完整性要求关系中不允许引用不存在的实体。与实体完整性是关系模型必须满足的完整性约束条件，目的是保证数据的一致性</li><li>表头(header): 每一列的名称</li><li>列(col): 具有相同数据类型的数据的集合</li><li>行(row): 每一行用来描述某条记录的具体信息</li><li>值(value): 行的具体信息, 每个值必须与该列的数据类型相同</li><li>键(key): 键的值在当前列中具有唯一性</li><li>所谓的”关系型”可以理解为”表格”的概念, 一个关系型数据库由一个或数个表格组成</li></ul><hr><p><strong>MySQL</strong></p><ul><li>MySQL 为关系型数据库(Relational Database Management System)</li><li>MySQL -server- MySQL 服务器程序</li><li>MySQL-client - MySQL 客户端程序，用于连接并操作Mysql服务器</li><li>MySQL-devel - 库和包含文件，如果你想要编译其它MySQL客户端</li><li>MySQL-shared - 该软件包包含某些语言和应用程序需要动态装载的共享库(libmysqlclient.so)，使用MySQL</li><li>MySQL-bench - MySQL数据库服务器的基准和性能测试工具</li></ul><hr><p><strong>RDBMS-MySQL的三种连接方式</strong></p><ul><li>二进制连接 mysql -u username -p password</li><li>Shell连接 使用MySQLadmin工具</li><li>PHP连接不做阐述</li></ul><hr><p><strong>其他概念</strong></p><ul><li>数据类型</li><li>运算符</li><li>正则表达式</li><li>索引</li><li>元数据</li><li>序列</li><li>函数</li><li>MySQLadmin指令</li><li>PHP连接</li><li>SQL注入</li></ul></div><footer class="post-footer"><div class="post-eof"></div></footer></div><div></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://unit-serow.github.io/2020/02/14/MySQL-3/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="serow"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="UNIT"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2020/02/14/MySQL-3/" itemprop="url">MySQL-3</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-14T20:36:41+08:00">2020-02-14 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">软件</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="MySQL-3"><a href="#MySQL-3" class="headerlink" title="MySQL-3"></a>MySQL-3</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SHOW DATABASES;</span><br><span class="line">CREATE DATABLE TEST1;</span><br><span class="line">USE TEST1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; CREATE DATABASE TEST1;</span><br><span class="line">Query OK, 1 row affected (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; USE TEST1;</span><br><span class="line">Database changed</span><br></pre></td></tr></table></figure><p>分别建立TABLES1,TABLES2(唯一键值)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE TABLES1(</span><br><span class="line">ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">A VARCHAR(100) NOT NULL,</span><br><span class="line">B VARCHAR(100) NOT NULL,</span><br><span class="line">C VARCHAR(100) NOT NULL,</span><br><span class="line">D VARCHAR(100) NOT NULL,</span><br><span class="line">TIME DATE,</span><br><span class="line">PRIMARY KEY ( ID, A, B )</span><br><span class="line">)ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE TABLES2(</span><br><span class="line">ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">A VARCHAR(100) NOT NULL,</span><br><span class="line">B VARCHAR(100) NOT NULL,</span><br><span class="line">C VARCHAR(100) NOT NULL,</span><br><span class="line">D VARCHAR(100) NOT NULL,</span><br><span class="line">TIME DATE,</span><br><span class="line">UNIQUE ( ID, A, B )</span><br><span class="line">)ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TABLE TABLES1(</span><br><span class="line">    -&gt; ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">    -&gt; A VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; B VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; C VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; D VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; TIME DATE,</span><br><span class="line">    -&gt; PRIMARY KEY ( ID, A, B )</span><br><span class="line">    -&gt; )ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br><span class="line">Query OK, 0 rows affected (0.061 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TABLE TABLES2(</span><br><span class="line">    -&gt; ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">    -&gt; A VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; B VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; C VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; D VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; TIME DATE,</span><br><span class="line">    -&gt; UNIQUE ( ID, A, B )</span><br><span class="line">    -&gt; )ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br><span class="line">Query OK, 0 rows affected (0.006 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>向TABLES1插入数据</strong></p><ul><li>4<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES1</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br></pre></td></tr></table></figure></li><li>1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES1</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&#39;2020-02-13&#39;);</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.003 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1 (A,B,C,D,TIME) VALUES (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1 (A,B,C,D,TIME) VALUES (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1 (A,B,C,D,TIME) VALUES (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&#39;2020-02-13&#39;);</span><br><span class="line">Query OK, 1 row affected (0.002 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>复制TABLES1内数据到TABLES2</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES2 (ID,A,B,C,D,TIME)</span><br><span class="line">SELECT ID,A,B,C,D,TIME</span><br><span class="line">FROM TABLES1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES2 (ID,A,B,C,D,TIME)</span><br><span class="line">    -&gt; SELECT ID,A,B,C,D,TIME</span><br><span class="line">    -&gt; FROM TABLES1;</span><br><span class="line">Query OK, 5 rows affected (0.001 sec)</span><br><span class="line">Records: 5  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><hr><p><strong>复制TABLES1内数据到TABLES3</strong></p><ul><li>查看标结构<blockquote><p><code>SHOW CREATE TABLE TABLES1 \G;</code></p></blockquote></li></ul><p><strong>将表内结构规划语句拷贝并执行,并命名为TABLES3</strong><br><strong>复制数据</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES3 (ID,A,B,C,D,TIME)</span><br><span class="line">SELECT ID,A,B,C,D,TIME</span><br><span class="line">FROM TABLES1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW CREATE TABLE TABLES1 \G;</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">       Table: TABLES1</span><br><span class="line">Create Table: CREATE TABLE &#96;TABLES1&#96; (</span><br><span class="line">  &#96;ID&#96; int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  &#96;A&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;B&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;C&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;D&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;TIME&#96; date DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (&#96;ID&#96;,&#96;A&#96;,&#96;B&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB AUTO_INCREMENT&#x3D;6 DEFAULT CHARSET&#x3D;utf8</span><br><span class="line">1 row in set (0.000 sec)</span><br><span class="line"></span><br><span class="line">ERROR: No query specified</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE &#96;TABLES3&#96; (</span><br><span class="line">  &#96;ID&#96; int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  &#96;A&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;B&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;C&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;D&#96; varchar(100) NOT NULL,</span><br><span class="line">  &#96;TIME&#96; date DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (&#96;ID&#96;,&#96;A&#96;,&#96;B&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB AUTO_INCREMENT&#x3D;6 DEFAULT CHARSET&#x3D;utf8</span><br><span class="line">;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TABLE &#96;TABLES3&#96; (</span><br><span class="line">    -&gt;   &#96;ID&#96; int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">    -&gt;   &#96;A&#96; varchar(100) NOT NULL,</span><br><span class="line">    -&gt;   &#96;B&#96; varchar(100) NOT NULL,</span><br><span class="line">    -&gt;   &#96;C&#96; varchar(100) NOT NULL,</span><br><span class="line">    -&gt;   &#96;D&#96; varchar(100) NOT NULL,</span><br><span class="line">    -&gt;   &#96;TIME&#96; date DEFAULT NULL,</span><br><span class="line">    -&gt;   PRIMARY KEY (&#96;ID&#96;,&#96;A&#96;,&#96;B&#96;)</span><br><span class="line">    -&gt; ) ENGINE&#x3D;InnoDB AUTO_INCREMENT&#x3D;6 DEFAULT CHARSET&#x3D;utf8;</span><br><span class="line">Query OK, 0 rows affected (0.042 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES3 (ID,A,B,C,D,TIME)</span><br><span class="line">SELECT ID,A,B,C,D,TIME</span><br><span class="line">FROM TABLES1;</span><br></pre></td></tr></table></figure><hr><p><code>SHOW TABLES;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW TABLES;</span><br><span class="line">+-----------------+</span><br><span class="line">| Tables_in_TEST1 |</span><br><span class="line">+-----------------+</span><br><span class="line">| TABLES1         |</span><br><span class="line">| TABLES2         |</span><br><span class="line">| TABLES3         |</span><br><span class="line">+-----------------+</span><br><span class="line">3 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM TABLES1;</span><br><span class="line">SELECT * FROM TABLES2;</span><br><span class="line">SELECT * FROM TABLES3;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES1;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  1 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  2 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  3 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  4 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  5 | 2 | 3 | 4 | 5 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">5 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES2;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  1 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  2 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  3 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  4 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  5 | 2 | 3 | 4 | 5 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">5 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES3;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  1 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  2 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  3 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  4 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  5 | 2 | 3 | 4 | 5 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">5 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>统计表TABLES1内A列与B列中重复的数据</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT(*) as repetitions, A, B</span><br><span class="line">FROM TABLES1</span><br><span class="line">GROUP BY A, B</span><br><span class="line">HAVING repetitions &gt; 1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT COUNT(*) as repetitions, A, B</span><br><span class="line">    -&gt; FROM TABLES1</span><br><span class="line">    -&gt; GROUP BY A, B</span><br><span class="line">    -&gt; HAVING repetitions &gt; 1;</span><br><span class="line">+-------------+---+---+</span><br><span class="line">| repetitions | A | B |</span><br><span class="line">+-------------+---+---+</span><br><span class="line">|           4 | 1 | 2 |</span><br><span class="line">+-------------+---+---+</span><br><span class="line">1 row in set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>过滤重复数据并输出TABLES1内数据</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT A, B</span><br><span class="line">FROM TABLES1;</span><br><span class="line">或</span><br><span class="line">SELECT A, B</span><br><span class="line">FROM TABLES2</span><br><span class="line">GROUP BY (C);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT DISTINCT A, B</span><br><span class="line">    -&gt; FROM TABLES1;</span><br><span class="line">+---+---+</span><br><span class="line">| A | B |</span><br><span class="line">+---+---+</span><br><span class="line">| 1 | 2 |</span><br><span class="line">| 2 | 3 |</span><br><span class="line">+---+---+</span><br><span class="line">2 rows in set (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; SELECT A, B</span><br><span class="line">    -&gt; FROM TABLES2</span><br><span class="line">    -&gt; GROUP BY (C);</span><br><span class="line">+---+---+</span><br><span class="line">| A | B |</span><br><span class="line">+---+---+</span><br><span class="line">| 1 | 2 |</span><br><span class="line">| 2 | 3 |</span><br><span class="line">+---+---+</span><br><span class="line">2 rows in set (0.001 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>删除TABLES1内重复数据</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE tmp SELECT A, B, C, D FROM TABLES1 GROUP BY (C);</span><br><span class="line">DROP TABLE TABLES1;</span><br><span class="line">ALTER TABLE tmp RENAME TO TABLES1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TABLE tmp SELECT A, B, C, D FROM TABLES1 GROUP BY (C);</span><br><span class="line">Query OK, 2 rows affected (0.027 sec)</span><br><span class="line">Records: 2  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; DROP TABLE TABLES1;</span><br><span class="line">Query OK, 0 rows affected (0.002 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE tmp RENAME TO TABLES1;</span><br><span class="line">Query OK, 0 rows affected (0.002 sec)</span><br></pre></td></tr></table></figure><p><code>SELECT * FROM TABLES1;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES1;</span><br><span class="line">+---+---+---+---+</span><br><span class="line">| A | B | C | D |</span><br><span class="line">+---+---+---+---+</span><br><span class="line">| 1 | 2 | 3 | 4 |</span><br><span class="line">| 2 | 3 | 4 | 5 |</span><br><span class="line">+---+---+---+---+</span><br><span class="line">2 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>或设置主键以清理TABLEST2内重复数据</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER IGNORE TABLE TABLES2</span><br><span class="line">ADD PRIMARY KEY (A, B);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER IGNORE TABLE TABLES2</span><br><span class="line">    -&gt; ADD PRIMARY KEY (A, B);</span><br><span class="line">Query OK, 5 rows affected (0.059 sec)              </span><br><span class="line">Records: 5  Duplicates: 3  Warnings: 0</span><br></pre></td></tr></table></figure><p><code>SELECT * FROM TABLES2;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES2;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  1 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  5 | 2 | 3 | 4 | 5 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">2 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></div><div></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://unit-serow.github.io/2020/02/14/MySQL-2/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="serow"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="UNIT"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2020/02/14/MySQL-2/" itemprop="url">MySQL-2</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-14T17:19:48+08:00">2020-02-14 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">软件</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="MySQL-2"><a href="#MySQL-2" class="headerlink" title="MySQL-2"></a>MySQL-2</h3><p><strong>创建并选取数据库</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SHOW DATABASES;</span><br><span class="line">CREATE DATABASE TEST1;</span><br><span class="line">USE TEST1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; CREATE DATABASE TEST1;</span><br><span class="line">Query OK, 1 row affected (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; USE TEST1;</span><br><span class="line">Database changed</span><br></pre></td></tr></table></figure><p><strong>创建临时表TABLEST6</strong><br><code>CREATE TEMPORARY TABLE TABLES6 (B INT, C CHAR(1) );</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TEMPORARY TABLE TABLES6 (B INT, C CHAR(1) );</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>向表内插入字段</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES6 ADD A INT FIRST;</span><br><span class="line">ALTER TABLE TABLES6 ADD D INT AFTER C;</span><br><span class="line">ALTER TABLE TABLES6 ADD E CHAR AFTER D;</span><br><span class="line">ALTER TABLE TABLES6 ADD G CHAR AFTER E;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 ADD A INT FIRST;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 ADD D INT AFTER C;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 ADD E CHAR AFTER D;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 ADD G CHAR AFTER E;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><p><strong>查看表结构</strong><br><code>SHOW COLUMNS FROM TABLES6;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW COLUMNS FROM TABLES6;</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| Field | Type    | Null | Key | Default | Extra |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">| A     | int(11) | YES  |     | NULL    |       |</span><br><span class="line">| B     | int(11) | YES  |     | NULL    |       |</span><br><span class="line">| C     | char(1) | YES  |     | NULL    |       |</span><br><span class="line">| D     | int(11) | YES  |     | NULL    |       |</span><br><span class="line">| E     | char(1) | YES  |     | NULL    |       |</span><br><span class="line">| G     | char(1) | YES  |     | NULL    |       |</span><br><span class="line">+-------+---------+------+-----+---------+-------+</span><br><span class="line">6 rows in set (0.001 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>修改字符类型</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES6 MODIFY A INT(10);</span><br><span class="line">ALTER TABLE TABLES6 MODIFY B INT(10);</span><br><span class="line">ALTER TABLE TABLES6 MODIFY C INT(10);</span><br><span class="line">ALTER TABLE TABLES6 MODIFY D CHAR(10);</span><br><span class="line">ALTER TABLE TABLES6 MODIFY E CHAR(10);</span><br><span class="line">ALTER TABLE TABLES6 MODIFY G CHAR(10);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 MODIFY A INT(10);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 MODIFY B INT(10);</span><br><span class="line">Query OK, 0 rows affected (0.000 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 MODIFY C INT(10);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 MODIFY D CHAR(10);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 MODIFY E CHAR(10);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 MODIFY G CHAR(10);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><p><strong>查看表结构</strong><br><code>SHOW COLUMNS FROM TABLES6;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW COLUMNS FROM TABLES6;</span><br><span class="line">+-------+----------+------+-----+---------+-------+</span><br><span class="line">| Field | Type     | Null | Key | Default | Extra |</span><br><span class="line">+-------+----------+------+-----+---------+-------+</span><br><span class="line">| A     | int(10)  | YES  |     | NULL    |       |</span><br><span class="line">| B     | int(10)  | YES  |     | NULL    |       |</span><br><span class="line">| C     | int(10)  | YES  |     | NULL    |       |</span><br><span class="line">| D     | char(10) | YES  |     | NULL    |       |</span><br><span class="line">| E     | char(10) | YES  |     | NULL    |       |</span><br><span class="line">| G     | char(10) | YES  |     | NULL    |       |</span><br><span class="line">+-------+----------+------+-----+---------+-------+</span><br><span class="line">6 rows in set (0.001 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>修改字段名称</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES6 CHANGE G F BIGINT;</span><br><span class="line">ALTER TABLE TABLES6 CHANGE F F CHAR(10);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 CHANGE G F BIGINT;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 CHANGE F F CHAR(10);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><hr><p><strong>修改默认值</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES6</span><br><span class="line">MODIFY D BIGINT NOT NULL DEFAULT 1000;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES6</span><br><span class="line">MODIFY E BIGINT NOT NULL DEFAULT 1000;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES6</span><br><span class="line">MODIFY F BIGINT NOT NULL DEFAULT 100;</span><br></pre></td></tr></table></figure><p><code>ALTER TABLE TABLES6 ALTER F SET DEFAULT 1000;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6</span><br><span class="line">    -&gt; MODIFY D BIGINT NOT NULL DEFAULT 1000;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6</span><br><span class="line">    -&gt; MODIFY E BIGINT NOT NULL DEFAULT 1000;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6</span><br><span class="line">    -&gt; MODIFY F BIGINT NOT NULL DEFAULT 100;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 ALTER F SET DEFAULT 1000;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><p><strong>查看表结构</strong><br><code>SHOW COLUMNS FROM TABLES6;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW COLUMNS FROM TABLES6;</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type       | Null | Key | Default | Extra |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">| A     | int(10)    | YES  |     | NULL    |       |</span><br><span class="line">| B     | int(10)    | YES  |     | NULL    |       |</span><br><span class="line">| C     | int(10)    | YES  |     | NULL    |       |</span><br><span class="line">| D     | bigint(20) | NO   |     | 1000    |       |</span><br><span class="line">| E     | bigint(20) | NO   |     | 1000    |       |</span><br><span class="line">| F     | bigint(20) | NO   |     | 1000    |       |</span><br><span class="line">+-------+------------+------+-----+---------+-------+</span><br><span class="line">6 rows in set (0.002 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>修改表TABLES6的存储引擎</strong><br><code>ALTER TABLE TABLES6 ENGINE = MYISAM;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 ENGINE &#x3D; MYISAM;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><hr><p><strong>查看存储结构</strong><br><code>SHOW TABLE STATUS LIKE &#39;TABLES6&#39;;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW TABLE STATUS LIKE &#39;TABLES6&#39;;</span><br><span class="line">Empty set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>修改TABLES6为TABLES4</strong><br><code>ALTER TABLE TABLES6 RENAME TO TABLES4;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES6 RENAME TO TABLES4;</span><br><span class="line">Query OK, 0 rows affected (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>创建索引并删除多余索引</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES4 ADD INDEX (B);</span><br><span class="line">ALTER TABLE TABLES4 ADD INDEX (A);</span><br><span class="line">ALTER TABLE TABLES4 DROP INDEX B;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES4 ADD INDEX (B);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES4 ADD INDEX (A);</span><br><span class="line">Query OK, 0 rows affected (0.002 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES4 DROP INDEX B;</span><br><span class="line">Query OK, 0 rows affected (0.002 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><hr><p><strong>设A为主键(作为主键索引,A值不能为空)</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE TABLES4 MODIFY A INT NOT NULL;</span><br><span class="line">ALTER TABLE TABLES4 ADD PRIMARY KEY (B);</span><br><span class="line">ALTER TABLE TABLES4 DROP PRIMARY KEY;</span><br><span class="line">ALTER TABLE TABLES4 ADD PRIMARY KEY (A);</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES4 ADD PRIMARY KEY (B);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES4 DROP PRIMARY KEY;</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; ALTER TABLE TABLES4 ADD PRIMARY KEY (A);</span><br><span class="line">Query OK, 0 rows affected (0.001 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><hr><p><strong>列出索引</strong><br><code>SHOW INDEX FROM TABLES4;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW INDEX FROM TABLES4;</span><br><span class="line">+---------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+</span><br><span class="line">| Table   | Non_unique | Key_name | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |</span><br><span class="line">+---------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+</span><br><span class="line">| TABLES4 |          0 | PRIMARY  |            1 | A           | A         |           0 |     NULL | NULL   |      | BTREE      |         |               |</span><br><span class="line">| TABLES4 |          1 | A        |            1 | A           | A         |        NULL |     NULL | NULL   |      | BTREE      |         |               |</span><br><span class="line">+---------+------------+----------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+</span><br><span class="line">2 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>删除TABLES4</strong><br><code>DROP TABLE TABLES4;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; DROP TABLE TABLES4;</span><br><span class="line">Query OK, 0 rows affected (0.000 sec)</span><br></pre></td></tr></table></figure><hr></div><footer class="post-footer"><div class="post-eof"></div></footer></div><div></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://unit-serow.github.io/2020/02/14/MySQL-1/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="serow"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="UNIT"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2020/02/14/MySQL-1/" itemprop="url">MySQL-1</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-14T04:01:01+08:00">2020-02-14 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">软件</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="MySQL-1"><a href="#MySQL-1" class="headerlink" title="MySQL-1"></a>MySQL-1</h3><p><strong>应用-1</strong></p><p><strong>所使用数据模型:</strong></p><blockquote><p>六行六列<br>TABLES1:</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ID-A-B-C-D-time]</span><br><span class="line">[1-1-2-3-4-now]</span><br><span class="line">[2-1-2-3-4-now]</span><br><span class="line">[3-1-2-3-4-now]</span><br><span class="line">[4-1-2-3-4-now]</span><br><span class="line">[5-2-3-4-5-2020-02-13]</span><br></pre></td></tr></table></figure><blockquote><p>TABLES2:</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ID-A-B-C-D-time]</span><br><span class="line">[1-1-2-3-4-now]</span><br><span class="line">[2-2-3-4-5-now]</span><br><span class="line">[3-2-3-4-5-now]</span><br><span class="line">[4-2-3-4-5-now]</span><br><span class="line">[5-2-3-4-5-2020-02-13]</span><br></pre></td></tr></table></figure><blockquote><p>TABLES3:</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ID-A-B-C-D-time]</span><br><span class="line">[1-1-2-3-4-now]</span><br><span class="line">[2-2-3-4-5-now]</span><br><span class="line">[3-6-7-8-9-now]</span><br><span class="line">[4-6-7-8-9-now]</span><br><span class="line">[5-6-7-8-9-2020-02-13]</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SHOW DATABASELS;</span><br><span class="line">CREATE DATABASE TEST1;</span><br><span class="line">USE TEST1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [(none)]&gt; CREATE DATABASE TEST1;</span><br><span class="line">Query OK, 1 row affected (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; USE TEST1;</span><br><span class="line">Database changed</span><br></pre></td></tr></table></figure><p><strong>分别创建TABLES1,TABLES2,TABLES3</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE TABLES1(</span><br><span class="line">ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">A VARCHAR(100) NOT NULL,</span><br><span class="line">B VARCHAR(100) NOT NULL,</span><br><span class="line">C VARCHAR(100) NOT NULL,</span><br><span class="line">D VARCHAR(100) NOT NULL,</span><br><span class="line">TIME DATE,</span><br><span class="line">PRIMARY KEY ( ID )</span><br><span class="line">)ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE TABLES2(</span><br><span class="line">ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">A VARCHAR(100) NOT NULL,</span><br><span class="line">B VARCHAR(100) NOT NULL,</span><br><span class="line">C VARCHAR(100) NOT NULL,</span><br><span class="line">D VARCHAR(100) NOT NULL,</span><br><span class="line">TIME DATE,</span><br><span class="line">PRIMARY KEY ( ID )</span><br><span class="line">)ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE TABLES3(</span><br><span class="line">ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">A VARCHAR(100) NOT NULL,</span><br><span class="line">B VARCHAR(100) NOT NULL,</span><br><span class="line">C VARCHAR(100) NOT NULL,</span><br><span class="line">D VARCHAR(100) NOT NULL,</span><br><span class="line">TIME DATE,</span><br><span class="line">PRIMARY KEY ( ID )</span><br><span class="line">)ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TABLE TABLES1(</span><br><span class="line">    -&gt; ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">    -&gt; A VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; B VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; C VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; D VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; TIME DATE,</span><br><span class="line">    -&gt; PRIMARY KEY ( ID )</span><br><span class="line">    -&gt; )ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br><span class="line">Query OK, 0 rows affected (0.046 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TABLE TABLES2(</span><br><span class="line">    -&gt; ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">    -&gt; A VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; B VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; C VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; D VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; TIME DATE,</span><br><span class="line">    -&gt; PRIMARY KEY ( ID )</span><br><span class="line">    -&gt; )ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br><span class="line">Query OK, 0 rows affected (0.043 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; CREATE TABLE TABLES3(</span><br><span class="line">    -&gt; ID INT NOT NULL AUTO_INCREMENT,</span><br><span class="line">    -&gt; A VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; B VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; C VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; D VARCHAR(100) NOT NULL,</span><br><span class="line">    -&gt; TIME DATE,</span><br><span class="line">    -&gt; PRIMARY KEY ( ID )</span><br><span class="line">    -&gt; )ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br><span class="line">Query OK, 0 rows affected (0.005 sec)</span><br></pre></td></tr></table></figure><p><code>SHOW TABLES;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SHOW TABLES;</span><br><span class="line">+-----------------+</span><br><span class="line">| Tables_in_TEST1 |</span><br><span class="line">+-----------------+</span><br><span class="line">| TABLES1         |</span><br><span class="line">| TABLES2         |</span><br><span class="line">| TABLES3         |</span><br><span class="line">+-----------------+</span><br><span class="line">3 rows in set (0.001 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>分别向TABLES1,TABLES2,TABLES3内填充数据</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">BEGIN;</span><br><span class="line">SET AUTOCOMMIT&#x3D;0;</span><br><span class="line">SAVEPOINT A;</span><br></pre></td></tr></table></figure><ul><li>4<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES1</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br></pre></td></tr></table></figure></li><li>1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES1</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&#39;2020-02-13&#39;);</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1 (A,B,C,D,TIME) VALUES (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1 (A,B,C,D,TIME) VALUES (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1 (A,B,C,D,TIME) VALUES (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES1</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&#39;2020-02-13&#39;);</span><br><span class="line">Query OK, 1 row affected (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RELEASE SAVEPOINT A;</span><br><span class="line">SELECT * FROM TABLES1;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; RELEASE SAVEPOINT A;</span><br><span class="line">Query OK, 0 rows affected (0.000 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES1;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  1 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  2 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  3 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  4 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  5 | 2 | 3 | 4 | 5 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">5 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RELEASE SAVEPOINT A;</span><br><span class="line">COMMIT WORK;</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">STRAT TRANSACTION&#x2F;BEGIN;</span><br><span class="line">SET AUTOCOMMIT&#x3D;0;</span><br><span class="line">SAVEPOINT A;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 1</span><br><span class="line">INSERT INTO TABLES2</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br></pre></td></tr></table></figure><ul><li>3<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES2</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,NOW());</span><br></pre></td></tr></table></figure></li><li>1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES2</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&#39;2020-02-13&#39;);</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES2</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.002 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES2</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES2 (A,B,C,D,TIME) VALUES (&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES2 (A,B,C,D,TIME) VALUES (&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES2</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&#39;2020-02-13&#39;);</span><br><span class="line">Query OK, 1 row affected (0.001 sec)</span><br></pre></td></tr></table></figure><p><code>SELECT * FROM TABLES2;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES2;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  1 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  2 | 2 | 3 | 4 | 5 | 2020-02-14 |</span><br><span class="line">|  3 | 2 | 3 | 4 | 5 | 2020-02-14 |</span><br><span class="line">|  4 | 2 | 3 | 4 | 5 | 2020-02-14 |</span><br><span class="line">|  5 | 2 | 3 | 4 | 5 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">5 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RELEASE SAVEPOINT A;</span><br><span class="line">COMMIT WORK;</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">STRAT TRANSACTION&#x2F;BEGIN; </span><br><span class="line">SET AUTOCOMMIT&#x3D;0;</span><br><span class="line">SAVEPOINT A;</span><br></pre></td></tr></table></figure><ul><li>1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES3</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br></pre></td></tr></table></figure></li><li>1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES3</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,NOW());</span><br></pre></td></tr></table></figure></li><li>2<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES3</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,NOW());</span><br></pre></td></tr></table></figure></li><li>1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO TABLES3</span><br><span class="line">(A,B,C,D,TIME)</span><br><span class="line">VALUES</span><br><span class="line">(&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&#39;2020-02-13&#39;);</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES3</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES3</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES3</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES3 (A,B,C,D,TIME) VALUES (&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,NOW());</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.001 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; INSERT INTO TABLES3</span><br><span class="line">    -&gt; (A,B,C,D,TIME)</span><br><span class="line">    -&gt; VALUES</span><br><span class="line">    -&gt; (&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&#39;2020-02-13&#39;);</span><br><span class="line">Query OK, 1 row affected (0.001 sec)</span><br></pre></td></tr></table></figure><p><code>SELECT * FROM TABLES3;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES3;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  1 | 1 | 2 | 3 | 4 | 2020-02-14 |</span><br><span class="line">|  2 | 2 | 3 | 4 | 5 | 2020-02-14 |</span><br><span class="line">|  3 | 6 | 7 | 8 | 9 | 2020-02-14 |</span><br><span class="line">|  4 | 6 | 7 | 8 | 9 | 2020-02-14 |</span><br><span class="line">|  5 | 6 | 7 | 8 | 9 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">5 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RELEASE SAVEPOINT A;</span><br><span class="line">COMMIT WORK;</span><br></pre></td></tr></table></figure><hr><p><strong>从三个表中选择所有列A匹配1的数据，返回所有列A中映射于列1的数据，并让列A靠左</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SELECT A,B FROM TABLES1</span><br><span class="line">WHERE A&#x3D;&#39;1&#39;</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT A,B FROM TABLES2</span><br><span class="line">WHERE A&#x3D;&#39;1&#39;</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT A,B FROM TABLES3</span><br><span class="line">WHERE A&#x3D;&#39;1&#39;</span><br><span class="line">ORDER BY A;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT A,B FROM TABLES1</span><br><span class="line">    -&gt; WHERE A&#x3D;&#39;1&#39;</span><br><span class="line">    -&gt; UNION ALL</span><br><span class="line">    -&gt; SELECT A,B FROM TABLES2</span><br><span class="line">    -&gt; WHERE A&#x3D;&#39;1&#39;</span><br><span class="line">    -&gt; UNION ALL</span><br><span class="line">    -&gt; SELECT A,B FROM TABLES3</span><br><span class="line">    -&gt; WHERE A&#x3D;&#39;1&#39;</span><br><span class="line">    -&gt; ORDER BY A;</span><br><span class="line">+---+---+</span><br><span class="line">| A | B |</span><br><span class="line">+---+---+</span><br><span class="line">| 1 | 2 |</span><br><span class="line">| 1 | 2 |</span><br><span class="line">+---+---+</span><br><span class="line">2 rows in set (0.001 sec)</span><br></pre></td></tr></table></figure><p><strong>查询并输出表TABLES1内列A中匹配数值2和列B中匹配数值3与列TIME中匹配以3结尾的数据</strong></p><blockquote><p><code>SELECT * FROM TABLES1 WHERE A=2 AND B=3 AND TIME LIKE &#39;%3&#39;;</code></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT * FROM TABLES2 WHERE A&#x3D;2 AND B&#x3D;3 AND TIME LIKE &#39;%3&#39;;</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">| ID | A | B | C | D | TIME       |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">|  5 | 2 | 3 | 4 | 5 | 2020-02-13 |</span><br><span class="line">+----+---+---+---+---+------------+</span><br><span class="line">1 row in set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>将表A内数据利用COUNT()函数按数值类型进行数据分组并求其平均值,并按降序排列(默认升序)</strong></p><blockquote><p><code>SELECT A, COUNT(*) FROM TABLES2 GROUP BY A DESC;</code></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT A, COUNT(*) FROM TABLES2 GROUP BY A DESC;</span><br><span class="line">+---+----------+</span><br><span class="line">| A | COUNT(*) |</span><br><span class="line">+---+----------+</span><br><span class="line">| 2 |        4 |</span><br><span class="line">| 1 |        1 |</span><br><span class="line">+---+----------+</span><br><span class="line">2 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><hr><p><strong>TABLES1&amp;TABLES2-left&amp;right</strong><br><strong>将TABLES1的A,B列与TABLES2的B,C列进行以下三种连接:</strong><br><strong>将标识为a的A,B列于标识为b的C列进行等值连接</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT a.A, a.B, b.C FROM TABLES1 a INNER JOIN TABLES2 b ON a.B &#x3D; b.B; </span><br><span class="line">SELECT a.A, a.B, b.C FROM TABLES1 a, TABLES2 b WHERE a.B &#x3D; b.B;</span><br></pre></td></tr></table></figure><ul><li>左连接:<blockquote><p><code>SELECT a.A, a.B, b.C FROM TABLES1 a LEFT JOIN TABLES2 b ON a.B = b.B;</code></p></blockquote></li><li>右连接:<blockquote><p><code>SELECT a.A, a.B, b.C FROM TABLES1 a RIGHT JOIN TABLES2 b ON a.B = b.B;</code></p></blockquote></li></ul><p><strong>如下所示:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT a.A, a.B, b.C FROM TABLES1 a INNER JOIN TABLES2 b ON a.B &#x3D; b.B; </span><br><span class="line">+---+---+---+</span><br><span class="line">| A | B | C |</span><br><span class="line">+---+---+---+</span><br><span class="line">| 1 | 2 | 3 |</span><br><span class="line">| 1 | 2 | 3 |</span><br><span class="line">| 1 | 2 | 3 |</span><br><span class="line">| 1 | 2 | 3 |</span><br><span class="line">| 2 | 3 | 4 |</span><br><span class="line">| 2 | 3 | 4 |</span><br><span class="line">| 2 | 3 | 4 |</span><br><span class="line">| 2 | 3 | 4 |</span><br><span class="line">+---+---+---+</span><br><span class="line">8 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT a.A, a.B, b.C FROM TABLES1 a LEFT JOIN TABLES2 b ON a.B &#x3D; b.B; </span><br><span class="line">+---+---+------+</span><br><span class="line">| A | B | C    |</span><br><span class="line">+---+---+------+</span><br><span class="line">| 1 | 2 | 3    |</span><br><span class="line">| 1 | 2 | 3    |</span><br><span class="line">| 1 | 2 | 3    |</span><br><span class="line">| 1 | 2 | 3    |</span><br><span class="line">| 2 | 3 | 4    |</span><br><span class="line">| 2 | 3 | 4    |</span><br><span class="line">| 2 | 3 | 4    |</span><br><span class="line">| 2 | 3 | 4    |</span><br><span class="line">+---+---+------+</span><br><span class="line">8 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [TEST1]&gt; SELECT a.A, a.B, b.C FROM TABLES1 a RIGHT JOIN TABLES2 b ON a.B &#x3D; b.B;</span><br><span class="line">+------+------+---+</span><br><span class="line">| A    | B    | C |</span><br><span class="line">+------+------+---+</span><br><span class="line">| 1    | 2    | 3 |</span><br><span class="line">| 1    | 2    | 3 |</span><br><span class="line">| 1    | 2    | 3 |</span><br><span class="line">| 1    | 2    | 3 |</span><br><span class="line">| 2    | 3    | 4 |</span><br><span class="line">| 2    | 3    | 4 |</span><br><span class="line">| 2    | 3    | 4 |</span><br><span class="line">| 2    | 3    | 4 |</span><br><span class="line">+------+------+---+</span><br><span class="line">8 rows in set (0.000 sec)</span><br></pre></td></tr></table></figure><hr></div><footer class="post-footer"><div class="post-eof"></div></footer></div><div></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://unit-serow.github.io/2020/02/13/%E9%9A%8F%E7%AC%94-2020-2-2-13/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="serow"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="UNIT"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2020/02/13/%E9%9A%8F%E7%AC%94-2020-2-2-13/" itemprop="url">随笔-2020-2-2-13</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-13T15:49:27+08:00">2020-02-13</time></span></div></header><div class="post-body" itemprop="articleBody">简易加密文案<div class="post-button text-center"><a class="btn" href="/2020/02/13/%E9%9A%8F%E7%AC%94-2020-2-2-13/#more" rel="contents">阅读全文 &raquo;</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></div><div></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://unit-serow.github.io/2020/02/13/web-crawler-1/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="serow"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="UNIT"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2020/02/13/web-crawler-1/" itemprop="url">web crawler-1</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-13T13:36:38+08:00">2020-02-13 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">软件</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/WEB/" itemprop="url" rel="index"><span itemprop="name">WEB</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="网络爬虫的基本原理"><a href="#网络爬虫的基本原理" class="headerlink" title="网络爬虫的基本原理"></a>网络爬虫的基本原理</h3><p><strong>简述:</strong></p><ul><li>英文:web crawler/spider</li><li>用来自动浏览万维网的网络机器人</li><li>其目的一般为编纂网络索引</li><li>搜索引擎抓取的重要组成部分</li><li>爬虫的主要目的是将互联网上的网页下载到本地形成一个或联网内容的镜像内分</li><li>网络搜索引擎等站点通过爬虫软件更新自身的网站内容或其对其他网站的索引</li><li>网络爬虫可以将自己所访问的页面保存下来，以便搜索引擎事后生成索引供用户搜索</li><li>同一时间点的执行逻辑用同一语句描述</li></ul><p><strong>网络爬虫的基本结构及工作流程:</strong></p><ul><li>基本工作流程简述:</li></ul><ol><li>首选选取一部分经过挑选的种子URL</li><li>将这些种子URL放入待抓取URL队列</li><li>从待抓取URL队列中取出待抓取URL，解析其URL，并得到其主机的IP，并将URL对应的网页下载下来，存储到已下载的网页库中</li><li>同时，将这些URL放进已抓取URL队列</li><li>分析已抓取URL队列中的URL，分析其中的其他URL，并且将URL放入待抓取URL队列，从而进入下一个循环</li></ol><ul><li>逻辑简述:<blockquote><p>种子URL-&gt;待抓取URL-&gt;[已下载网页库内[读取URL，DNS解析，网页下载]]/[[已抓取URL内[将已下载URL放进已抓取URL队列]]-抽取新的URL放入待抓取URL队列-&gt;待抓取URL]<br>/符号代表同级关系，执行步骤相同</p></blockquote></li></ul><hr><ul><li>从爬虫的角度对互联网进行划分</li><li>爬虫可以将互联网页面大致划分为五个部分:</li></ul><ol><li>已下载未过期网页</li><li>已下载已过期网页: 抓取到的网页实际上是互联网内容的一个镜像与备份，互联网是动态变化的，一部分互联网上的内容已经发生了变化，这时，这部分抓取到的网页就已经过期了</li><li>待下载-&gt;若干个可知网页: 也就是待抓取URL队列中的那些页面</li><li>可知网页: 还没有抓取下来，也没有在待抓取URL队列中，但是可以通过对已抓取页面或者待抓取URL对应页面进行分析获取到的URL，认为是可知网页</li><li>不可知网页: 还有一部分网页，爬虫是无法直接抓取下载的，称为不可知网页</li></ol><hr><h3 id="抓取策略"><a href="#抓取策略" class="headerlink" title="抓取策略:"></a>抓取策略:</h3><ul><li>待抓取URL队列是构成爬虫系统中必不可失的一部分</li><li>待抓取URL队列中的URL以什么样的顺序排序，将会涉及到所选抓取页面的优先级问题</li><li>而决定这些URL排列顺序的方法，就被称为抓取策略</li></ul><hr><p><strong>几种常见的抓取策略:</strong></p><p><strong>深度优先遍历策略</strong></p><ol><li>深度优先遍历策略是指网络爬虫会从起始页开始，一个链接接一个链接的跟踪下去</li><li>处理完这条线路之后再转入下一个起始页，继续跟踪链接</li></ol><p><strong>逻辑简述:</strong></p><blockquote><p>起始页A，不同路线的链接页面B到I，链接关联:(<code>F-&gt;G，E-&gt;H-&gt;I，B，C，D</code>)</p></blockquote><ol><li><code>A-&gt;F-&gt;G</code></li><li><code>A-&gt;E-&gt;H-&gt;I</code></li><li><code>A-&gt;B</code></li><li><code>A-&gt;C</code></li><li><code>A-&gt;D</code></li></ol><hr><p><strong>宽度优先遍历策略</strong></p><p><strong>基本思路:</strong></p><ol><li>将新下载网页中发现的链接直接插入待抓取URL队列的末尾</li><li>也就是指网络爬虫会抓取起始网页中链接的所有网页</li><li>然后再选择其中的一个链接网页，继续抓取再次网页中链接的所有网页</li></ol><p><strong>逻辑简述:</strong></p><blockquote><p>起始页A，不同路线的链接页面B到I，(<code>F-&gt;G，E-&gt;H-&gt;I，B，C，D</code>)<br><code>A-&gt;B-&gt;C-&gt;D-&gt;E-&gt;F，G，H，I</code></p></blockquote><hr><p><strong>反向链接数策略</strong></p><ol><li>反向链接数是指一个网页被其他网页链接指向的数量</li><li>反向链接数表示的是一个网页的内容受到其他人的推荐的程度</li><li>因此，很多时候搜索引擎的抓取系统会使用这个指标来评价网页的重要程度，从而决定不同网页的抓取先后顺序</li><li>在真实的网络环境中，由于广告链接、作弊链接的存在，反向链接数不能完全等同于所选链接重要程度</li><li>所以搜索引擎往往考虑一些可靠的反向链接数</li></ol><hr><p><strong>Partial PageRank策略</strong></p><ol><li>Partial PageRank算法借鉴了PageRank算法的思想：</li><li>对于已经下载的网页，连同待抓取URL队列中的URL，形成网页集合，计算每个页面的PageRank值</li><li>在计算完之后，将待抓取URL队列中的URL按照PageRank值的大小排列</li><li>最后按照该顺序抓取页面</li></ol><ul><li>每次抓取一个页面，就会重新计算PageRank值</li><li>一种折中方案是：每抓取K个页面后，重新计算一次PageRank值</li><li>但是这种情况还会衍生出另一个问题:对于已经下载下来的页面中分析出的链接，也就是之前提到的未知网页那一部分，暂时是没有PageRank值的</li><li>为了解决这个问题，会给这些页面一个临时的PageRank值:将这个网页所有入链传递进来的PageRank值进行汇总，这样就形成了该未知页面的PageRank值，从而参与排序</li></ul><hr><p><strong>OPIC策略策略</strong></p><ul><li>该算法实际上也是对页面进行一个重要性打分</li></ul><p><strong>基本思路:</strong></p><ol><li>在算法开始前，给所有页面一个相同的初始现金(cash)</li><li>当下载了某个页面P之后，将P的现金分摊给所有从P中分析出的链接，并且将P的现金清空</li><li>对于待抓取URL队列中的所有页面按照现金数进行排序</li></ol><hr><p><strong>大站优先策略</strong></p><p><strong>基本思路:</strong></p><ol><li>对于待抓取URL队列中的所有网页，根据所属的网站进行分类</li><li>对于待下载页面数多的网站，优先下载</li><li>这个策略也因此叫做大站优先策略</li></ol><hr><h3 id="更新策略"><a href="#更新策略" class="headerlink" title="更新策略"></a>更新策略</h3><p><strong>简述:</strong></p><ul><li>互联网是实时变化的，具有很强的动态性</li><li>网页更新策略主要是决定何时更新之前已经下载过的页面</li></ul><p><strong>常见的更新策略有以下三种:</strong></p><p><strong>历史参考策略</strong></p><p><strong>基本思路:</strong></p><ol><li>根据页面以往的历史更新数据，预测该页面未来何时会发生变化</li><li>一般来说，是通过泊松过程进行建模进行预测</li></ol><hr><p><strong>用户体验策略</strong></p><ul><li>索引擎针对于某个查询条件能够返回数量巨大的结果</li><li>但用户往往只关注前几页结果</li><li>所以抓取系统可以优先更新那些现实在查询结果前几页中的网页，而后再更新那些后面的网页</li><li>这种更新策略也是需要用到历史信息的</li></ul><p><strong>基本思路:</strong></p><ol><li>用户体验策略保留网页的多个历史版本</li><li>并且根据过去每次内容变化对搜索质量的影响</li><li>然后得出一个平均值，用这个值作为决定何时重新抓取的依据</li></ol><hr><p><strong>聚类抽样策略</strong></p><ul><li>前面提到的两种更新策略都有一个前提:需要网页的历史信息</li><li>这样就存在两个问题:</li></ul><ol><li>系统要是为每个系统保存多个版本的历史信息，无疑增加了很多的系统负担</li><li>要是新的网页完全没有历史信息，就无法确定更新策略</li></ol><p><strong>基本思路:</strong></p><ul><li>这种策略认为，网页具有很多属性，类似属性的网页，可以认为其更新频率也是类似的</li><li>要计算某一个类别网页的更新频率，只需要对这一类网页抽样，以他们的更新周期作为整个类别的更新周期</li></ul><p><strong>逻辑简述:</strong></p><blockquote><p>原始网页-网页聚类-&gt;[聚类一/聚类二/聚类三]-&gt;对不同类聚类分别抽样-&gt;分别确定更新周期</p></blockquote><hr><h3 id="分布式抓取结构"><a href="#分布式抓取结构" class="headerlink" title="分布式抓取结构"></a>分布式抓取结构</h3><p><strong>概述:</strong></p><ul><li>通常的抓取系统需要面对的是整个互联网上数以亿计的网页</li><li>因此单个抓取程序不可能完成这样的任务，所以往往需要多个抓取程序一起来处理</li><li>一般来说抓取系统往往是一个分布式的三层结构:1.网页，2.数据中心，3.网络爬虫</li></ul><p><strong>逻辑简述:</strong></p><blockquote><p><code>[原始网页&lt;-网络爬虫-&gt;[数据中心(远端服务器)]]&lt;-[所有的数据中心(Global)]</code></p></blockquote><ol><li>不同的数据中心分布在不同的地理位置</li><li>在每个数据中心内有若干台抓取服务器</li><li>而每台抓取服务器上可能部署了若干套爬虫程序</li><li>这就构成了一个基本的分布式抓取系统</li></ol><hr><ul><li>对于一个数据中心内的不同抓取服务器，有不同的协同工作方式</li><li>协同工作的方式有以下几种:</li></ul><ol><li>主从式(Master-Slave)</li></ol><p><strong>逻辑(同一时间点)简述:</strong></p><blockquote><p><code>[待抓取URL队列(若干数量)]-&gt;[(远端服务器)Master-&gt;Slave1/Slave2/Slave3]&lt;-下载-原始网页</code></p></blockquote><ol><li>对于主从式而言，有一台专门的Master服务器来维护待抓取URL队列</li><li>它负责每次将URL分发到不同的Slave服务器，而Slave服务器则负责实际的网页下载工作</li><li>Master服务器除了维护待抓取URL队列以及分发URL之外，还要负责调解各个Slave服务器的负载情况</li><li>以免某些Slave服务器过于清闲或者劳累</li><li>这种模式下，Master往往容易成为系统瓶颈</li></ol><hr><ol start="2"><li>对等式(Peer to Peer)<blockquote><p><code>[待抓取URL队列(若干数量)]-&gt;Hash-&gt;[(抓取服务器)server0/server1/server2]&lt;-原始网页</code></p></blockquote></li></ol><ul><li>在这种模式下，所有的抓取服务器在分工上没有不同</li></ul><ol><li>每一台抓取服务器都可以从待抓取在URL队列中获取URL</li><li>然后对该URL的主域名的hash值H</li><li>再计算H mod m(其中m是服务器的数量，此时设m为3)</li><li>最后计算得到的数就是处理该URL的主机编号</li></ol><p><strong>举例:</strong></p><ul><li><p>有server0，server1，server2分别为0，1，2号服务器</p></li><li><p>假设对于URL-<code>www.baidu.com</code>，计算器<code>hash</code>值<code>H=8</code>，<code>m=3</code>，则<code>H mod m=2</code>，因此由编号为2的服务器进行该链接的抓取</p></li><li><p>假设这时候是0号服务器拿到这个URL，那么它将该URL转给服务器2，由服务器2进行抓取</p></li><li><p>这种模式有一个问题，当有一台服务器死机或者添加新的服务器，那么所有URL的哈希求余的结果就都要变化</p></li><li><p>也就是说，这种方式的扩展性不佳</p></li><li><p>针对这种情况，又有一种改进方案被提出来</p></li><li><p>这种改进的方案是一致性哈希法来确定服务器分工</p></li><li><p>其基本结构流程:</p></li></ul><ol><li>一致性哈希将URL的主域名进行哈希运算，映射为一个范围在<code>0-2^32</code>之间的某个数</li><li>而将这个范围平均的分配给m台服务器，根据URL主域名哈希运算的值所处的范围判断是哪台服务器来进行抓取</li><li>如果某一台服务器出现问题，那么本该由该服务器负责的网页则按照顺时针顺延，由下一台服务器进行抓取</li><li>如此一来，即便某台服务器出现问题，也不会影响其他服务器的工作</li></ol><p><strong>逻辑简述:</strong></p><blockquote><p><code>URL-&gt;hash-&gt;1,2,3,4&lt;-hash&lt;-URL</code></p></blockquote><hr><p><strong>相关概念:</strong></p><ul><li>搜索引擎</li><li>网络爬虫</li><li>爬虫策略/抓取策略</li><li>爬虫，索引，检索，排序</li></ul></div><footer class="post-footer"><div class="post-eof"></div></footer></div><div></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://unit-serow.github.io/2020/02/13/SQL-2/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="serow"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="UNIT"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2020/02/13/SQL-2/" itemprop="url">SQL-2</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-13T13:34:51+08:00">2020-02-13 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">软件</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="SQL-GURD"><a href="#SQL-GURD" class="headerlink" title="SQL-GURD"></a>SQL-GURD</h3><ul><li>增/删/改/查</li></ul><p><strong>增:</strong></p><ul><li>INSERT INTO 语句</li><li>基本插入语句</li><li>语法一(不指定列名):<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name</span><br><span class="line">VALUES (value1,value2,value3,...);</span><br></pre></td></tr></table></figure></li><li>语法二(指定列名):<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name (column1,column2,column3,...)</span><br><span class="line">VALUES (value1,value2,value3,...);</span><br></pre></td></tr></table></figure></li></ul><hr><p><strong>删:</strong></p><ul><li>DELETE 语句</li><li>基本删除语句</li><li>语法:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM table_name</span><br><span class="line">WHERE some_column&#x3D;some_value;</span><br></pre></td></tr></table></figure></li><li>如果未对WHERE语句进行规定，所有的记录都会被删除</li></ul><hr><p><strong>改:</strong></p><ul><li>UPDATE 语句</li><li>基本修改(更新)语句</li><li>语法:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE table_name</span><br><span class="line">SET column1&#x3D;value1,column2&#x3D;value2,...</span><br><span class="line">WHERE some_column&#x3D;some_value;</span><br></pre></td></tr></table></figure><blockquote><p>uptate 表名<br>set 列名=指定值…<br>where 过滤规则</p></blockquote></li><li>如果未对WHERE语句进行规定，所有的记录都会被更新</li></ul><hr><p><strong>查:</strong></p><ul><li><p>SELECT 语句</p></li><li><p>基本查询语句</p></li><li><p>语法:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name,column_name </span><br><span class="line">FROM table_name;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM table_name;</span><br><span class="line">SELECT 表名 FROM 表内指定列</span><br></pre></td></tr></table></figure></li><li><p>DISTINCT 关键字</p></li><li><p>常用于<code>SELECT DISTINCT</code></p></li><li><p>返回所选被查询列中唯一不同(distinct)的值(筛选列内重复值并进行排除)</p></li><li><p>语法:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT column_name,column_name </span><br><span class="line">FROM table_name;</span><br></pre></td></tr></table></figure></li></ul><hr><h3 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句:"></a>条件语句:</h3><p><strong>WHERE 子句</strong></p><ul><li>用于配置所选执行语句的过滤条件</li><li>语法:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name,column_name </span><br><span class="line">FROM table_name</span><br><span class="line">WHERE column_name operator value;</span><br></pre></td></tr></table></figure></li><li>WHERE子句中的运算符:</li></ul><table><thead><tr><th align="left">运算符</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">=</td><td align="left">等于</td></tr><tr><td align="left">&lt;&gt;,!=</td><td align="left">不等于</td></tr><tr><td align="left">&gt;</td><td align="left">大于</td></tr><tr><td align="left">&lt;</td><td align="left">小于</td></tr><tr><td align="left">&gt;=</td><td align="left">大于等于</td></tr><tr><td align="left">&lt;=</td><td align="left">小于等于</td></tr><tr><td align="left">BETWEEN</td><td align="left">在某个范围内</td></tr><tr><td align="left">LIKE</td><td align="left">搜索某种模式</td></tr><tr><td align="left">IN</td><td align="left">指定针对某个列的多个可能值</td></tr></tbody></table><hr><p><strong>LIKE 操作符</strong></p><ul><li>用于在WHERE子句中搜索列中搜索列的指定模式</li><li>语法:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE column_name LIKE pattern;</span><br></pre></td></tr></table></figure></li></ul><hr><p><strong>SQL函数参考:</strong></p><table><thead><tr><th align="left">函数</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">AVG</td><td align="left">平均值</td></tr><tr><td align="left">COUNT</td><td align="left">计数(不含Null)</td></tr><tr><td align="left">FIRST</td><td align="left">第一个记录的值</td></tr><tr><td align="left">MAX</td><td align="left">最大值</td></tr><tr><td align="left">MIN</td><td align="left">最小值</td></tr><tr><td align="left">STDEV</td><td align="left">样本标准差</td></tr><tr><td align="left">STDEVP</td><td align="left">总体标准差</td></tr><tr><td align="left">SUM</td><td align="left">求和</td></tr><tr><td align="left">VAR</td><td align="left">样本方差</td></tr><tr><td align="left">VARP</td><td align="left">总体方差</td></tr><tr><td align="left">UCASE</td><td align="left">转化为全大写字母</td></tr><tr><td align="left">LCASE</td><td align="left">转化为全小写字母</td></tr><tr><td align="left">MID</td><td align="left">取中值</td></tr><tr><td align="left">LEN</td><td align="left">计算字符串长度</td></tr><tr><td align="left">INSTR</td><td align="left">获得子字符串在母字符串的起始位置</td></tr><tr><td align="left">LEFT</td><td align="left">取字符串左边子串</td></tr><tr><td align="left">RIGHT</td><td align="left">取字符串右边子串</td></tr><tr><td align="left">ROUND</td><td align="left">数值四舍五入取整</td></tr><tr><td align="left">MOD</td><td align="left">取余</td></tr><tr><td align="left">NOW</td><td align="left">获得当前时间的值</td></tr><tr><td align="left">FORMAT</td><td align="left">字符串格式化</td></tr><tr><td align="left">DATEDIFF</td><td align="left">获得两个时间的差值</td></tr></tbody></table><hr></div><footer class="post-footer"><div class="post-eof"></div></footer></div><div></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://unit-serow.github.io/2020/02/12/SQL-1/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="serow"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="UNIT"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a class="post-title-link" href="/2020/02/12/SQL-1/" itemprop="url">SQL-1</a></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-12T16:15:56+08:00">2020-02-12 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/" itemprop="url" rel="index"><span itemprop="name">软件</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E8%BD%AF%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="结构化查询语言-SQL-1"><a href="#结构化查询语言-SQL-1" class="headerlink" title="结构化查询语言-SQL-1"></a>结构化查询语言-SQL-1</h3><p><strong>概述:</strong></p><ul><li>全称<code>Structured Query Language</code></li><li>是一种特定目的编程语言，用于管理关系型数据库管理系统(RDBMSR)，或在其中进行流处理</li><li>RDBMS全称<code>Relational Database Management System</code></li><li>SQL是高级的非过程化编程语言</li><li>允许用户在高层数据结构上工作</li><li>SQL同时也是数据库文件格式的扩展名</li><li>SQL基于关系代数和元组关系演算，包括一个数据定义语言和数据操纵语言</li><li>SQL在很大程度上是一种声明式编程(4GL)，但是其也含有过程式编程的元素</li><li>1986年的<code>SQL-86</code>/<code>SQL-87</code>是ANSI对于SQL的首次标准化</li><li>2016年的<code>SQL:2016</code>是现阶段最后一次标准化的更新</li><li>SQL的核心大致可分为DQL,DDL,DML,DCL四大部分</li><li>本篇只进行基本的体系整理与概念认识与理解</li></ul><hr><p><strong>SQL语言内存在要素简述:</strong></p><blockquote><p><code>子句</code>:基本构成条件，语句和查询的组成部分<br><code>语句</code>:由子句等任何其他元素构成的执行逻辑<br><code>查询</code>:基于特定条件检索数据<br><code>谓词</code>:限制语句和查询结果与控制流程<br><code>表达式</code>:用于产生任何标量值，标量值也可由列和行的数据库表构成<br><code>;</code>-<code>分号</code>:语句结束标志(终结符)，为SQL标准所定义<br>空格在SQL语句和查询中会被忽略</p></blockquote><hr><p><strong>SQL总体的构成包含五个部分:</strong></p><ul><li>数据查询语言(Data Query Language，DQL)</li><li>数据定义语言(Data Definition Language，DDL)</li><li>数据操控语言(Data Manipulation Language, DML)</li><li>数据控制语言(Data Control Language, DCL)</li><li>事务控制语言</li></ul><hr><p><strong>SQL语言构成模块简述:</strong></p><ol><li>DDL-数据定义语言</li></ol><ul><li>SQL语言集中负责数据结构定义与数据库对象定义的语言</li><li>主要由<code>CREATE</code>,<code>ALTER</code>,<code>DROP</code>(<code>create</code>,<code>alter</code>,<code>drop</code>)三个语法构成</li><li>SQL指令子的集之一</li></ul><ol start="2"><li>DML-数据操纵语言</li></ol><ul><li>SQL中用于数据库操作，对数据库其中的对象和数据运行访问工作的编程语句</li><li>以<code>INSERT</code>,<code>UPDATE</code>,<code>DELETE</code>(<code>insert</code>,<code>update</code>,<code>delete</code>)作为核心</li><li>分别代表创建，修改，删除</li><li>再加上SQL的<code>SELECT</code>(<code>select</code>查询)语句(属于DQL)</li><li>从而称其为<code>CRUD</code>即为<code>增删改查</code></li><li>SQL指令集的子集之一</li></ul><ol start="3"><li>DCL-数据控制语言</li></ol><ul><li>SQL中可对数据访问权进行控制的指令</li><li>由GRANT和REVOKE两个指令组成</li><li>SQL指令集的子集之一</li></ul><ol start="4"><li>DQL-数据查询语言</li></ol><ul><li>DQL的主要功能是查询数据</li><li>SQL中用于从数据库或信息系统中查询数据的计算机语言</li><li>由<code>SELECT</code>,<code>FROM</code>,<code>WHERE</code>,<code>GROUP BY</code>和<code>ORDER BY</code>这些语法构成</li><li>其核心指令为<code>SELECT</code>(<code>select</code>)</li></ul><hr><p><strong>其他概念:</strong></p><ul><li>语句，子句，关键字，运算符，操作符</li><li>通配符，连接，别名，约束，NULL，数据类型(通用/DB)</li></ul><hr><p><strong>参考:</strong></p><ul><li>SQL标准<a href="https://web.archive.org/web/20100304063252/http://structedtext.appspot.com/db/sql.html" target="_blank" rel="noopener">参考资料/CN</a><blockquote><p><code>https://web.archive.org/web/20100304063252/http://structedtext.appspot.com/db/sql.html</code></p></blockquote></li></ul></div><footer class="post-footer"><div class="post-eof"></div></footer></div><div></div></article></section><nav class="pagination"><a class="extend prev" rel="prev" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/4/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a></nav></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><section class="site-overview-wrap sidebar-panel sidebar-panel-active"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="serow"><p class="site-author-name" itemprop="name">serow</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">71</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">10</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">12</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/Unit-serow" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i></a> </span><span class="links-of-author-item"><a href="mailto:unit.serow@gmail.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i></a> </span><span class="links-of-author-item"><a href="https://plus.google.com/unit.serow" target="_blank" title="Google"><i class="fa fa-fw fa-google"></i></a> </span><span class="links-of-author-item"><a href="https://user.qzone.qq.com/2721304117" target="_blank" title="QQ"><i class="fa fa-fw fa-qq"></i></a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> 快捷链接</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://www.gnu.org/home.zh-cn.html/" title="GNU" target="_blank">GNU</a></li><li class="links-of-blogroll-item"><a href="https://www.debian.org/" title="Debian" target="_blank">Debian</a></li><li class="links-of-blogroll-item"><a href="https://www.centos.org/" title="CentOS" target="_blank">CentOS</a></li><li class="links-of-blogroll-item"><a href="https://www.gentoo.org/" title="Gentoo" target="_blank">Gentoo</a></li><li class="links-of-blogroll-item"><a href="https://en.wikipedia.org/Wiki/wiki" title="Wiki-EN" target="_blank">Wiki-EN</a></li><li class="links-of-blogroll-item"><a href="https://zh.wikipedia.org/wiki/Wiki" title="Wiki-CN" target="_blank">Wiki-CN</a></li><li class="links-of-blogroll-item"><a href="https://baike.baidu.com" title="百度百科" target="_blank">百度百科</a></li><li class="links-of-blogroll-item"><a href="https://www.gnu.org/prep/ftp.html" title="GNU 镜像源" target="_blank">GNU 镜像源</a></li><li class="links-of-blogroll-item"><a href="https://mirrors.cloud.tencent.com/" title="腾讯镜像源" target="_blank">腾讯镜像源</a></li><li class="links-of-blogroll-item"><a href="https://developer.aliyun.com/mirror/" title="阿里镜像源" target="_blank">阿里镜像源</a></li><li class="links-of-blogroll-item"><a href="https://mirrors.163.com/" title="网易镜像源" target="_blank">网易镜像源</a></li></ul></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">serow</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,r=document.getElementById(e),s=document.getElementById(o),a=function(){var t=r.value.trim().toLowerCase(),e=t.split(/[\s\-]+/);e.length>1&&e.push(t);var o=[];if(t.length>0&&n.forEach(function(n){function r(e,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===t&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(t,e){var o="",n=e.start;return e.hits.forEach(function(e){o+=t.substring(n,e.position);var r=e.position+e.length;o+='<b class="search-keyword">'+t.substring(e.position,r)+"</b>",n=r}),o+=t.substring(n,e.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url),d=[],g=[];if(""!=l&&(e.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());(s=e.indexOf(t,r))>-1;)a.push({position:s,word:t}),r=s+n;return a}d=d.concat(e(t,h,!1)),g=g.concat(e(t,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;0>w&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(t){b+="<a href='"+f+'\'><p class="search-result">'+s(p,t)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===e.length&&""===e[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{o.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var a='<ul class="search-result-list">';o.forEach(function(t){a+=t.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){var e=27===t.which&&$(".search-popup").is(":visible");e&&onPopupClose()})</script></body></html><!-- rebuild by neat -->